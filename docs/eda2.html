<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 7 Multivariate Data Exploration | Engineering Data Analysis in R</title>
  <meta name="description" content="This is an undergraduate technical elective course for mechanical engineers who wish to lean about data analysis using the R programming language." />
  <meta name="generator" content="bookdown 0.40 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 7 Multivariate Data Exploration | Engineering Data Analysis in R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is an undergraduate technical elective course for mechanical engineers who wish to lean about data analysis using the R programming language." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 7 Multivariate Data Exploration | Engineering Data Analysis in R" />
  
  <meta name="twitter:description" content="This is an undergraduate technical elective course for mechanical engineers who wish to lean about data analysis using the R programming language." />
  

<meta name="author" content="John Volckens" />


<meta name="date" content="2024-10-07" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="rprog3.html"/>
<link rel="next" href="rprog4.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Engineering Data Analysis in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#how-to-use-this-book"><i class="fa fa-check"></i><b>1.1</b> How to use this book</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#prerequisites"><i class="fa fa-check"></i><b>1.2</b> Prerequisites</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#grading"><i class="fa fa-check"></i><b>1.3</b> Grading</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="index.html"><a href="index.html#grading-for-mech-476"><i class="fa fa-check"></i><b>1.3.1</b> Grading for MECH 476</a></li>
<li class="chapter" data-level="1.3.2" data-path="index.html"><a href="index.html#homework-submission"><i class="fa fa-check"></i><b>1.3.2</b> Homework submission</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#course-set-up"><i class="fa fa-check"></i><b>1.4</b> Course set-up</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="index.html"><a href="index.html#install-r-and-rstudio"><i class="fa fa-check"></i><b>1.4.1</b> Install R and RStudio</a></li>
<li class="chapter" data-level="1.4.2" data-path="index.html"><a href="index.html#install-git-and-create-a-github-account"><i class="fa fa-check"></i><b>1.4.2</b> Install Git and create a GitHub account</a></li>
<li class="chapter" data-level="1.4.3" data-path="index.html"><a href="index.html#connect-git-github-and-rstudio"><i class="fa fa-check"></i><b>1.4.3</b> Connect Git, GitHub, and RStudio</a></li>
<li class="chapter" data-level="1.4.4" data-path="index.html"><a href="index.html#create-new-project-github-first"><i class="fa fa-check"></i><b>1.4.4</b> Create new project, GitHub first</a></li>
<li class="chapter" data-level="1.4.5" data-path="index.html"><a href="index.html#use-rstudiogithub-system-for-homework-submission"><i class="fa fa-check"></i><b>1.4.5</b> Use RStudio/GitHub system for homework submission</a></li>
<li class="chapter" data-level="1.4.6" data-path="index.html"><a href="index.html#confirm-successful-set-up"><i class="fa fa-check"></i><b>1.4.6</b> Confirm successful set-up</a></li>
<li class="chapter" data-level="1.4.7" data-path="index.html"><a href="index.html#asking-for-help-properly"><i class="fa fa-check"></i><b>1.4.7</b> Asking for help (properly)</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#coursebook"><i class="fa fa-check"></i><b>1.5</b> Coursebook</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="index.html"><a href="index.html#other-helpful-books-not-required"><i class="fa fa-check"></i><b>1.5.1</b> Other helpful books (not required)</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i><b>1.6</b> Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="rprog1.html"><a href="rprog1.html"><i class="fa fa-check"></i><b>2</b> The R Programming Environment</a>
<ul>
<li class="chapter" data-level="2.1" data-path="rprog1.html"><a href="rprog1.html#ch.-2-objectives"><i class="fa fa-check"></i><b>2.1</b> Ch. 2 Objectives</a></li>
<li class="chapter" data-level="2.2" data-path="rprog1.html"><a href="rprog1.html#r-and-r-studio"><i class="fa fa-check"></i><b>2.2</b> R and R Studio</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="rprog1.html"><a href="rprog1.html#what-is-r"><i class="fa fa-check"></i><b>2.2.1</b> What is R?</a></li>
<li class="chapter" data-level="2.2.2" data-path="rprog1.html"><a href="rprog1.html#free-and-open-source-software"><i class="fa fa-check"></i><b>2.2.2</b> Free and open-source software</a></li>
<li class="chapter" data-level="2.2.3" data-path="rprog1.html"><a href="rprog1.html#what-is-rstudio"><i class="fa fa-check"></i><b>2.2.3</b> What is RStudio?</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="rprog1.html"><a href="rprog1.html#communicating-with-r"><i class="fa fa-check"></i><b>2.3</b> Communicating with R</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="rprog1.html"><a href="rprog1.html#r-sessions-console-and-command-prompt"><i class="fa fa-check"></i><b>2.3.1</b> R sessions, console, and command prompt</a></li>
<li class="chapter" data-level="2.3.2" data-path="rprog1.html"><a href="rprog1.html#r-expressions-function-calls-and-objects"><i class="fa fa-check"></i><b>2.3.2</b> R expressions, function calls, and objects</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="rprog1.html"><a href="rprog1.html#r-scripts"><i class="fa fa-check"></i><b>2.4</b> R scripts</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="rprog1.html"><a href="rprog1.html#commenting-code"><i class="fa fa-check"></i><b>2.4.1</b> Commenting code</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="rprog1.html"><a href="rprog1.html#the-package-system"><i class="fa fa-check"></i><b>2.5</b> The “package” system</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="rprog1.html"><a href="rprog1.html#r-packages"><i class="fa fa-check"></i><b>2.5.1</b> R packages</a></li>
<li class="chapter" data-level="2.5.2" data-path="rprog1.html"><a href="rprog1.html#installing-from-cran"><i class="fa fa-check"></i><b>2.5.2</b> Installing from CRAN</a></li>
<li class="chapter" data-level="2.5.3" data-path="rprog1.html"><a href="rprog1.html#loading-an-installed-package"><i class="fa fa-check"></i><b>2.5.3</b> Loading an installed package</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="rprog1.html"><a href="rprog1.html#rs-most-basic-object-types"><i class="fa fa-check"></i><b>2.6</b> R’s most basic object types</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="rprog1.html"><a href="rprog1.html#vectors"><i class="fa fa-check"></i><b>2.6.1</b> Vectors</a></li>
<li class="chapter" data-level="2.6.2" data-path="rprog1.html"><a href="rprog1.html#dataframes"><i class="fa fa-check"></i><b>2.6.2</b> Dataframes</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="rprog1.html"><a href="rprog1.html#chapter-2-exercises"><i class="fa fa-check"></i><b>2.7</b> Chapter 2 Exercises</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="rprog1.html"><a href="rprog1.html#set-1-session-helpfiles-scripts-and-objects"><i class="fa fa-check"></i><b>2.7.1</b> Set 1: Session, helpfiles, scripts, and objects</a></li>
<li class="chapter" data-level="2.7.2" data-path="rprog1.html"><a href="rprog1.html#set-2-loading-and-using-packages"><i class="fa fa-check"></i><b>2.7.2</b> Set 2: Loading and using packages</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="rprog1.html"><a href="rprog1.html#chapter-2-homework"><i class="fa fa-check"></i><b>2.8</b> Chapter 2 Homework</a>
<ul>
<li class="chapter" data-level="2.8.1" data-path="rprog1.html"><a href="rprog1.html#special-swirl-commands"><i class="fa fa-check"></i><b>2.8.1</b> Special <code>swirl</code> commands</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="rprog2.html"><a href="rprog2.html"><i class="fa fa-check"></i><b>3</b> Getting and Cleaning Data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="rprog2.html"><a href="rprog2.html#ch.-3-objectives"><i class="fa fa-check"></i><b>3.1</b> Ch. 3 Objectives</a></li>
<li class="chapter" data-level="3.2" data-path="rprog2.html"><a href="rprog2.html#overview"><i class="fa fa-check"></i><b>3.2</b> Overview</a></li>
<li class="chapter" data-level="3.3" data-path="rprog2.html"><a href="rprog2.html#reading-data-into-r"><i class="fa fa-check"></i><b>3.3</b> Reading data into R</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="rprog2.html"><a href="rprog2.html#reading-local-flat-files"><i class="fa fa-check"></i><b>3.3.1</b> Reading local flat files</a></li>
<li class="chapter" data-level="3.3.2" data-path="rprog2.html"><a href="rprog2.html#reading-in-other-file-types"><i class="fa fa-check"></i><b>3.3.2</b> Reading in other file types</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="rprog2.html"><a href="rprog2.html#directories-and-pathnames"><i class="fa fa-check"></i><b>3.4</b> Directories and pathnames</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="rprog2.html"><a href="rprog2.html#directory-structure"><i class="fa fa-check"></i><b>3.4.1</b> Directory structure</a></li>
<li class="chapter" data-level="3.4.2" data-path="rprog2.html"><a href="rprog2.html#working-directory"><i class="fa fa-check"></i><b>3.4.2</b> Working directory</a></li>
<li class="chapter" data-level="3.4.3" data-path="rprog2.html"><a href="rprog2.html#file-and-directory-pathnames"><i class="fa fa-check"></i><b>3.4.3</b> File and directory pathnames</a></li>
<li class="chapter" data-level="3.4.4" data-path="rprog2.html"><a href="rprog2.html#tangent-paste"><i class="fa fa-check"></i><b>3.4.4</b> Tangent: <code>paste</code></a></li>
<li class="chapter" data-level="3.4.5" data-path="rprog2.html"><a href="rprog2.html#reading-online-flat-files"><i class="fa fa-check"></i><b>3.4.5</b> Reading online flat files</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="rprog2.html"><a href="rprog2.html#data-cleaning"><i class="fa fa-check"></i><b>3.5</b> Data cleaning</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="rprog2.html"><a href="rprog2.html#renaming-columns"><i class="fa fa-check"></i><b>3.5.1</b> Renaming columns</a></li>
<li class="chapter" data-level="3.5.2" data-path="rprog2.html"><a href="rprog2.html#selecting-columns"><i class="fa fa-check"></i><b>3.5.2</b> Selecting columns</a></li>
<li class="chapter" data-level="3.5.3" data-path="rprog2.html"><a href="rprog2.html#add-or-change-columns"><i class="fa fa-check"></i><b>3.5.3</b> Add or change columns</a></li>
<li class="chapter" data-level="3.5.4" data-path="rprog2.html"><a href="rprog2.html#filtering-to-certain-rows"><i class="fa fa-check"></i><b>3.5.4</b> Filtering to certain rows</a></li>
<li class="chapter" data-level="3.5.5" data-path="rprog2.html"><a href="rprog2.html#base-r-equivalents-to-dplyr-functions"><i class="fa fa-check"></i><b>3.5.5</b> Base R equivalents to <code>dplyr</code> functions</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="rprog2.html"><a href="rprog2.html#merging-data-frames"><i class="fa fa-check"></i><b>3.6</b> Merging Data Frames</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="rprog2.html"><a href="rprog2.html#row-binding"><i class="fa fa-check"></i><b>3.6.1</b> Row Binding</a></li>
<li class="chapter" data-level="3.6.2" data-path="rprog2.html"><a href="rprog2.html#column-binding-_join"><i class="fa fa-check"></i><b>3.6.2</b> Column Binding (_join)</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="rprog2.html"><a href="rprog2.html#piping"><i class="fa fa-check"></i><b>3.7</b> Piping</a></li>
<li class="chapter" data-level="3.8" data-path="rprog2.html"><a href="rprog2.html#markdowns"><i class="fa fa-check"></i><b>3.8</b> Markdowns</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="rprog2.html"><a href="rprog2.html#r-markdowns"><i class="fa fa-check"></i><b>3.8.1</b> R Markdowns</a></li>
<li class="chapter" data-level="3.8.2" data-path="rprog2.html"><a href="rprog2.html#header"><i class="fa fa-check"></i><b>3.8.2</b> Header</a></li>
<li class="chapter" data-level="3.8.3" data-path="rprog2.html"><a href="rprog2.html#text"><i class="fa fa-check"></i><b>3.8.3</b> Text</a></li>
<li class="chapter" data-level="3.8.4" data-path="rprog2.html"><a href="rprog2.html#code-chunks"><i class="fa fa-check"></i><b>3.8.4</b> Code Chunks</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="rprog2.html"><a href="rprog2.html#chapter-3-exercises"><i class="fa fa-check"></i><b>3.9</b> Chapter 3 Exercises</a>
<ul>
<li class="chapter" data-level="3.9.1" data-path="rprog2.html"><a href="rprog2.html#set-1-pathnames-and-data-import"><i class="fa fa-check"></i><b>3.9.1</b> Set 1: Pathnames and data import</a></li>
<li class="chapter" data-level="3.9.2" data-path="rprog2.html"><a href="rprog2.html#set-2-data-wrangling-and-piping"><i class="fa fa-check"></i><b>3.9.2</b> Set 2: Data wrangling and piping</a></li>
<li class="chapter" data-level="3.9.3" data-path="rprog2.html"><a href="rprog2.html#set-3-r-markdown"><i class="fa fa-check"></i><b>3.9.3</b> Set 3: R Markdown</a></li>
</ul></li>
<li class="chapter" data-level="3.10" data-path="rprog2.html"><a href="rprog2.html#chapter-3-homework"><i class="fa fa-check"></i><b>3.10</b> Chapter 3 Homework</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="dataviz.html"><a href="dataviz.html"><i class="fa fa-check"></i><b>4</b> Data Visualization with <code>ggplot2</code></a>
<ul>
<li class="chapter" data-level="4.1" data-path="dataviz.html"><a href="dataviz.html#chapter-4-objectives"><i class="fa fa-check"></i><b>4.1</b> Chapter 4 Objectives</a></li>
<li class="chapter" data-level="4.2" data-path="dataviz.html"><a href="dataviz.html#install-and-load-ggplot2"><i class="fa fa-check"></i><b>4.2</b> Install and load <code>ggplot2</code></a></li>
<li class="chapter" data-level="4.3" data-path="dataviz.html"><a href="dataviz.html#steps-to-create-a-ggplot2-object"><i class="fa fa-check"></i><b>4.3</b> Steps to create a <code>ggplot2</code> object</a></li>
<li class="chapter" data-level="4.4" data-path="dataviz.html"><a href="dataviz.html#initializing-a-ggplot2-object"><i class="fa fa-check"></i><b>4.4</b> Initializing a <code>ggplot2</code> object</a></li>
<li class="chapter" data-level="4.5" data-path="dataviz.html"><a href="dataviz.html#plot-aesthetics"><i class="fa fa-check"></i><b>4.5</b> Plot aesthetics</a></li>
<li class="chapter" data-level="4.6" data-path="dataviz.html"><a href="dataviz.html#adding-geoms"><i class="fa fa-check"></i><b>4.6</b> Adding geoms</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="dataviz.html"><a href="dataviz.html#aesthetic-override-a-warning"><i class="fa fa-check"></i><b>4.6.1</b> Aesthetic override: a warning</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="dataviz.html"><a href="dataviz.html#shapes-and-colors"><i class="fa fa-check"></i><b>4.7</b> Shapes and colors</a></li>
<li class="chapter" data-level="4.8" data-path="dataviz.html"><a href="dataviz.html#scales-useful-plot-edits"><i class="fa fa-check"></i><b>4.8</b> Scales: useful plot edits</a></li>
<li class="chapter" data-level="4.9" data-path="dataviz.html"><a href="dataviz.html#ggplot2-example-1"><i class="fa fa-check"></i><b>4.9</b> <code>ggplot2</code> example 1</a></li>
<li class="chapter" data-level="4.10" data-path="dataviz.html"><a href="dataviz.html#ggplot2-example-2"><i class="fa fa-check"></i><b>4.10</b> <code>ggplot2</code> example 2</a></li>
<li class="chapter" data-level="4.11" data-path="dataviz.html"><a href="dataviz.html#store-and-save-ggplot2-objects"><i class="fa fa-check"></i><b>4.11</b> Store and save <code>ggplot2</code> objects</a></li>
<li class="chapter" data-level="4.12" data-path="dataviz.html"><a href="dataviz.html#getting-help-with-ggplot2"><i class="fa fa-check"></i><b>4.12</b> Getting help with <code>ggplot2</code></a></li>
<li class="chapter" data-level="4.13" data-path="dataviz.html"><a href="dataviz.html#chapter-4-homework"><i class="fa fa-check"></i><b>4.13</b> Chapter 4 Homework</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="eda1.html"><a href="eda1.html"><i class="fa fa-check"></i><b>5</b> Univariate Data Exploration</a>
<ul>
<li class="chapter" data-level="5.1" data-path="eda1.html"><a href="eda1.html#ch.-5-objectives"><i class="fa fa-check"></i><b>5.1</b> Ch. 5 Objectives</a></li>
<li class="chapter" data-level="5.2" data-path="eda1.html"><a href="eda1.html#univar"><i class="fa fa-check"></i><b>5.2</b> Univariate Data</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="eda1.html"><a href="eda1.html#location-dispersion-and-shape"><i class="fa fa-check"></i><b>5.2.1</b> Location, Dispersion, and Shape</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="eda1.html"><a href="eda1.html#quantile"><i class="fa fa-check"></i><b>5.3</b> Quantiles</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="eda1.html"><a href="eda1.html#descriptive-statistics"><i class="fa fa-check"></i><b>5.3.1</b> Descriptive Statistics</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="eda1.html"><a href="eda1.html#univariate-data-visualization"><i class="fa fa-check"></i><b>5.4</b> Univariate Data Visualization</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="eda1.html"><a href="eda1.html#summary-vs.-enumerative-plots"><i class="fa fa-check"></i><b>5.4.1</b> Summary vs. Enumerative Plots</a></li>
<li class="chapter" data-level="5.4.2" data-path="eda1.html"><a href="eda1.html#cumulative-distribution-plot"><i class="fa fa-check"></i><b>5.4.2</b> Cumulative Distribution Plot</a></li>
<li class="chapter" data-level="5.4.3" data-path="eda1.html"><a href="eda1.html#hist"><i class="fa fa-check"></i><b>5.4.3</b> Histogram</a></li>
<li class="chapter" data-level="5.4.4" data-path="eda1.html"><a href="eda1.html#box"><i class="fa fa-check"></i><b>5.4.4</b> Boxplot</a></li>
<li class="chapter" data-level="5.4.5" data-path="eda1.html"><a href="eda1.html#time_series"><i class="fa fa-check"></i><b>5.4.5</b> Time-Series Plot</a></li>
<li class="chapter" data-level="5.4.6" data-path="eda1.html"><a href="eda1.html#autocorr"><i class="fa fa-check"></i><b>5.4.6</b> Autocorrelation Plot</a></li>
<li class="chapter" data-level="5.4.7" data-path="eda1.html"><a href="eda1.html#partial-autocorrelation-plot"><i class="fa fa-check"></i><b>5.4.7</b> Partial Autocorrelation Plot</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="eda1.html"><a href="eda1.html#exploring-data"><i class="fa fa-check"></i><b>5.5</b> Exploring Data</a></li>
<li class="chapter" data-level="5.6" data-path="eda1.html"><a href="eda1.html#chapter-5-homework"><i class="fa fa-check"></i><b>5.6</b> Chapter 5 Homework</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="rprog3.html"><a href="rprog3.html"><i class="fa fa-check"></i><b>6</b> Strings, Dates, and Tidying</a>
<ul>
<li class="chapter" data-level="6.1" data-path="rprog3.html"><a href="rprog3.html#chapter-6-objectives"><i class="fa fa-check"></i><b>6.1</b> Chapter 6 Objectives</a></li>
<li class="chapter" data-level="6.2" data-path="rprog3.html"><a href="rprog3.html#strings"><i class="fa fa-check"></i><b>6.2</b> Strings</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="rprog3.html"><a href="rprog3.html#string-detect-match-subset"><i class="fa fa-check"></i><b>6.2.1</b> String detect, match, subset</a></li>
<li class="chapter" data-level="6.2.2" data-path="rprog3.html"><a href="rprog3.html#regular-expressions"><i class="fa fa-check"></i><b>6.2.2</b> Regular Expressions</a></li>
<li class="chapter" data-level="6.2.3" data-path="rprog3.html"><a href="rprog3.html#string-split-replace"><i class="fa fa-check"></i><b>6.2.3</b> String split, replace</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="rprog3.html"><a href="rprog3.html#dates-and-date-times"><i class="fa fa-check"></i><b>6.3</b> Dates and Date-times</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="rprog3.html"><a href="rprog3.html#dates-and-times-in-base-r"><i class="fa fa-check"></i><b>6.3.1</b> Dates and Times in base R</a></li>
<li class="chapter" data-level="6.3.2" data-path="rprog3.html"><a href="rprog3.html#date-time-formats"><i class="fa fa-check"></i><b>6.3.2</b> Date-time formats</a></li>
<li class="chapter" data-level="6.3.3" data-path="rprog3.html"><a href="rprog3.html#date-time-classes-in-r"><i class="fa fa-check"></i><b>6.3.3</b> Date-time classes in R</a></li>
<li class="chapter" data-level="6.3.4" data-path="rprog3.html"><a href="rprog3.html#reading-and-classifying-date-times"><i class="fa fa-check"></i><b>6.3.4</b> Reading and classifying date-times</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="rprog3.html"><a href="rprog3.html#lubridate"><i class="fa fa-check"></i><b>6.4</b> <code>lubridate</code></a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="rprog3.html"><a href="rprog3.html#parsing-functions-in-lubridate"><i class="fa fa-check"></i><b>6.4.1</b> Parsing functions in <code>lubridate</code></a></li>
<li class="chapter" data-level="6.4.2" data-path="rprog3.html"><a href="rprog3.html#date-time-manipulation-with-lubridate"><i class="fa fa-check"></i><b>6.4.2</b> Date-time manipulation with <code>lubridate</code></a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="rprog3.html"><a href="rprog3.html#tidy-data"><i class="fa fa-check"></i><b>6.5</b> Tidy Data</a></li>
<li class="chapter" data-level="6.6" data-path="rprog3.html"><a href="rprog3.html#chapter-6-exercises"><i class="fa fa-check"></i><b>6.6</b> Chapter 6 Exercises</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="rprog3.html"><a href="rprog3.html#set-1-data-import-and-manipulation"><i class="fa fa-check"></i><b>6.6.1</b> Set 1: Data import and manipulation</a></li>
<li class="chapter" data-level="6.6.2" data-path="rprog3.html"><a href="rprog3.html#set-2-counting"><i class="fa fa-check"></i><b>6.6.2</b> Set 2: Counting</a></li>
<li class="chapter" data-level="6.6.3" data-path="rprog3.html"><a href="rprog3.html#set-3-weekly-tweets"><i class="fa fa-check"></i><b>6.6.3</b> Set 3: Weekly tweets</a></li>
<li class="chapter" data-level="6.6.4" data-path="rprog3.html"><a href="rprog3.html#are-tweets-correlated-in-time"><i class="fa fa-check"></i><b>6.6.4</b> Are tweets correlated in time?</a></li>
<li class="chapter" data-level="6.6.5" data-path="rprog3.html"><a href="rprog3.html#set-4-csu-vs.-cu"><i class="fa fa-check"></i><b>6.6.5</b> Set 4: CSU vs. CU</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="rprog3.html"><a href="rprog3.html#chapter-6-homework"><i class="fa fa-check"></i><b>6.7</b> Chapter 6 Homework</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="eda2.html"><a href="eda2.html"><i class="fa fa-check"></i><b>7</b> Multivariate Data Exploration</a>
<ul>
<li class="chapter" data-level="7.1" data-path="eda2.html"><a href="eda2.html#chapter-7-objectives"><i class="fa fa-check"></i><b>7.1</b> Chapter 7 Objectives</a></li>
<li class="chapter" data-level="7.2" data-path="eda2.html"><a href="eda2.html#bivariate"><i class="fa fa-check"></i><b>7.2</b> Bivariate Data</a></li>
<li class="chapter" data-level="7.3" data-path="eda2.html"><a href="eda2.html#scatt"><i class="fa fa-check"></i><b>7.3</b> Scatterplot</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="eda2.html"><a href="eda2.html#causality"><i class="fa fa-check"></i><b>7.3.1</b> Causality</a></li>
<li class="chapter" data-level="7.3.2" data-path="eda2.html"><a href="eda2.html#corr"><i class="fa fa-check"></i><b>7.3.2</b> Correlation</a></li>
<li class="chapter" data-level="7.3.3" data-path="eda2.html"><a href="eda2.html#correlation-neq-causation"><i class="fa fa-check"></i><b>7.3.3</b> Correlation <span class="math inline">\(\neq\)</span> causation</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="eda2.html"><a href="eda2.html#exploring-multivariate-data"><i class="fa fa-check"></i><b>7.4</b> Exploring Multivariate Data</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="eda2.html"><a href="eda2.html#facets"><i class="fa fa-check"></i><b>7.4.1</b> Facets</a></li>
<li class="chapter" data-level="7.4.2" data-path="eda2.html"><a href="eda2.html#colors"><i class="fa fa-check"></i><b>7.4.2</b> Colors</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="eda2.html"><a href="eda2.html#chapter-7-exercises"><i class="fa fa-check"></i><b>7.5</b> Chapter 7 Exercises</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="eda2.html"><a href="eda2.html#fuel-economy-data"><i class="fa fa-check"></i><b>7.5.1</b> Fuel economy data</a></li>
<li class="chapter" data-level="7.5.2" data-path="eda2.html"><a href="eda2.html#import-and-wrangle-data"><i class="fa fa-check"></i><b>7.5.2</b> Import and wrangle data</a></li>
<li class="chapter" data-level="7.5.3" data-path="eda2.html"><a href="eda2.html#check-data"><i class="fa fa-check"></i><b>7.5.3</b> Check data</a></li>
<li class="chapter" data-level="7.5.4" data-path="eda2.html"><a href="eda2.html#check-for-missing-data"><i class="fa fa-check"></i><b>7.5.4</b> Check for missing data</a></li>
<li class="chapter" data-level="7.5.5" data-path="eda2.html"><a href="eda2.html#visualize-data"><i class="fa fa-check"></i><b>7.5.5</b> Visualize data</a></li>
<li class="chapter" data-level="7.5.6" data-path="eda2.html"><a href="eda2.html#multivariate-time-series"><i class="fa fa-check"></i><b>7.5.6</b> Multivariate time series</a></li>
<li class="chapter" data-level="7.5.7" data-path="eda2.html"><a href="eda2.html#density-plots"><i class="fa fa-check"></i><b>7.5.7</b> Density plots</a></li>
<li class="chapter" data-level="7.5.8" data-path="eda2.html"><a href="eda2.html#more-multivariate-plotting"><i class="fa fa-check"></i><b>7.5.8</b> More multivariate plotting</a></li>
<li class="chapter" data-level="7.5.9" data-path="eda2.html"><a href="eda2.html#practice-questions"><i class="fa fa-check"></i><b>7.5.9</b> Practice questions</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="eda2.html"><a href="eda2.html#chapter-7-homework"><i class="fa fa-check"></i><b>7.6</b> Chapter 7 Homework</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="rprog4.html"><a href="rprog4.html"><i class="fa fa-check"></i><b>8</b> Functional Programming</a>
<ul>
<li class="chapter" data-level="8.1" data-path="rprog4.html"><a href="rprog4.html#ch.-8-objectives"><i class="fa fa-check"></i><b>8.1</b> Ch. 8 Objectives</a></li>
<li class="chapter" data-level="8.2" data-path="rprog4.html"><a href="rprog4.html#what-is-functional-programming"><i class="fa fa-check"></i><b>8.2</b> What is <strong><em>functional programming</em></strong>?</a></li>
<li class="chapter" data-level="8.3" data-path="rprog4.html"><a href="rprog4.html#writng-functions"><i class="fa fa-check"></i><b>8.3</b> Writng Functions</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="rprog4.html"><a href="rprog4.html#example-function-my_mean"><i class="fa fa-check"></i><b>8.3.1</b> Example Function: my_mean</a></li>
<li class="chapter" data-level="8.3.2" data-path="rprog4.html"><a href="rprog4.html#example-function-import.w.name"><i class="fa fa-check"></i><b>8.3.2</b> Example Function: “import.w.name”</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="rprog4.html"><a href="rprog4.html#the-purrr-package"><i class="fa fa-check"></i><b>8.4</b> The <code>purrr::</code> package</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="rprog4.html"><a href="rprog4.html#function-mapping"><i class="fa fa-check"></i><b>8.4.1</b> Function Mapping</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="rprog4.html"><a href="rprog4.html#homework"><i class="fa fa-check"></i><b>8.5</b> Homework</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="transform.html"><a href="transform.html"><i class="fa fa-check"></i><b>9</b> Transformations and Other Tricks</a>
<ul>
<li class="chapter" data-level="9.1" data-path="transform.html"><a href="transform.html#ch.-9-objectives"><i class="fa fa-check"></i><b>9.1</b> Ch. 9 Objectives</a></li>
<li class="chapter" data-level="9.2" data-path="transform.html"><a href="transform.html#transformation"><i class="fa fa-check"></i><b>9.2</b> Transformation</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="transform.html"><a href="transform.html#centering"><i class="fa fa-check"></i><b>9.2.1</b> Centering</a></li>
<li class="chapter" data-level="9.2.2" data-path="transform.html"><a href="transform.html#rescaling"><i class="fa fa-check"></i><b>9.2.2</b> Rescaling</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="transform.html"><a href="transform.html#normalization-and-standardization"><i class="fa fa-check"></i><b>9.3</b> Normalization and Standardization</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="transform.html"><a href="transform.html#rate-normalization"><i class="fa fa-check"></i><b>9.3.1</b> Rate normalization</a></li>
<li class="chapter" data-level="9.3.2" data-path="transform.html"><a href="transform.html#standardizing"><i class="fa fa-check"></i><b>9.3.2</b> Standardizing</a></li>
<li class="chapter" data-level="9.3.3" data-path="transform.html"><a href="transform.html#reducing-skewness"><i class="fa fa-check"></i><b>9.3.3</b> Reducing Skewness</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="transform.html"><a href="transform.html#stratification"><i class="fa fa-check"></i><b>9.4</b> Stratification</a></li>
<li class="chapter" data-level="9.5" data-path="transform.html"><a href="transform.html#outliers-and-censoring"><i class="fa fa-check"></i><b>9.5</b> Outliers and Censoring</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="transform.html"><a href="transform.html#outliers"><i class="fa fa-check"></i><b>9.5.1</b> Detecting Outliers</a></li>
<li class="chapter" data-level="9.5.2" data-path="transform.html"><a href="transform.html#censoring-outliers"><i class="fa fa-check"></i><b>9.5.2</b> Censoring outliers</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="transform.html"><a href="transform.html#ch-9-exercises"><i class="fa fa-check"></i><b>9.6</b> Ch-9 Exercises</a>
<ul>
<li class="chapter" data-level="9.6.1" data-path="transform.html"><a href="transform.html#salary-data-for-poly-sci-majors"><i class="fa fa-check"></i><b>9.6.1</b> Salary Data for Poly Sci Majors</a></li>
<li class="chapter" data-level="9.6.2" data-path="transform.html"><a href="transform.html#univariate-data-visualization-1"><i class="fa fa-check"></i><b>9.6.2</b> Univariate Data Visualization</a></li>
<li class="chapter" data-level="9.6.3" data-path="transform.html"><a href="transform.html#rescale-and-censor-data"><i class="fa fa-check"></i><b>9.6.3</b> Rescale and Censor Data</a></li>
<li class="chapter" data-level="9.6.4" data-path="transform.html"><a href="transform.html#logfit"><i class="fa fa-check"></i><b>9.6.4</b> Fit a Log-normal Distribution</a></li>
<li class="chapter" data-level="9.6.5" data-path="transform.html"><a href="transform.html#plot-fitted-vs-actual-data"><i class="fa fa-check"></i><b>9.6.5</b> Plot Fitted vs Actual Data</a></li>
<li class="chapter" data-level="9.6.6" data-path="transform.html"><a href="transform.html#transform-the-data"><i class="fa fa-check"></i><b>9.6.6</b> Transform the Data</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="transform.html"><a href="transform.html#ch-9-homework"><i class="fa fa-check"></i><b>9.7</b> Ch-9 Homework</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="measure.html"><a href="measure.html"><i class="fa fa-check"></i><b>10</b> Measurement</a>
<ul>
<li class="chapter" data-level="10.1" data-path="measure.html"><a href="measure.html#ch.-10-objectives"><i class="fa fa-check"></i><b>10.1</b> Ch. 10 Objectives</a></li>
<li class="chapter" data-level="10.2" data-path="measure.html"><a href="measure.html#sampling"><i class="fa fa-check"></i><b>10.2</b> Sampling</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="measure.html"><a href="measure.html#sample"><i class="fa fa-check"></i><b>10.2.1</b> Samples vs. Populations</a></li>
<li class="chapter" data-level="10.2.2" data-path="measure.html"><a href="measure.html#sample.collect"><i class="fa fa-check"></i><b>10.2.2</b> Collecting a sample</a></li>
<li class="chapter" data-level="10.2.3" data-path="measure.html"><a href="measure.html#simple-random-sampling"><i class="fa fa-check"></i><b>10.2.3</b> Simple Random Sampling</a></li>
<li class="chapter" data-level="10.2.4" data-path="measure.html"><a href="measure.html#systematic-sampling"><i class="fa fa-check"></i><b>10.2.4</b> Systematic Sampling</a></li>
<li class="chapter" data-level="10.2.5" data-path="measure.html"><a href="measure.html#stratified-sampling"><i class="fa fa-check"></i><b>10.2.5</b> Stratified Sampling</a></li>
<li class="chapter" data-level="10.2.6" data-path="measure.html"><a href="measure.html#cluster-sampling"><i class="fa fa-check"></i><b>10.2.6</b> Cluster Sampling</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="measure.html"><a href="measure.html#figures-of-merit"><i class="fa fa-check"></i><b>10.3</b> Figures of Merit</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="measure.html"><a href="measure.html#LOD"><i class="fa fa-check"></i><b>10.3.1</b> Limit of Detection &amp; Quantification</a></li>
<li class="chapter" data-level="10.3.2" data-path="measure.html"><a href="measure.html#dynamic"><i class="fa fa-check"></i><b>10.3.2</b> Dynamic Range</a></li>
<li class="chapter" data-level="10.3.3" data-path="measure.html"><a href="measure.html#precision"><i class="fa fa-check"></i><b>10.3.3</b> Precision</a></li>
<li class="chapter" data-level="10.3.4" data-path="measure.html"><a href="measure.html#bias"><i class="fa fa-check"></i><b>10.3.4</b> Bias (accuracy)</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="measure.html"><a href="measure.html#measurement-uncertainty"><i class="fa fa-check"></i><b>10.4</b> Measurement Uncertainty</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="measure.html"><a href="measure.html#repeated"><i class="fa fa-check"></i><b>10.4.1</b> Repeated Measures</a></li>
<li class="chapter" data-level="10.4.2" data-path="measure.html"><a href="measure.html#error-propagation"><i class="fa fa-check"></i><b>10.4.2</b> Error Propagation</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="measure.html"><a href="measure.html#ch-10-homework"><i class="fa fa-check"></i><b>10.5</b> CH-10 Homework</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="model.html"><a href="model.html"><i class="fa fa-check"></i><b>11</b> Modeling</a>
<ul>
<li class="chapter" data-level="11.1" data-path="model.html"><a href="model.html#ch.-11-objectives"><i class="fa fa-check"></i><b>11.1</b> Ch. 11 Objectives</a></li>
<li class="chapter" data-level="11.2" data-path="model.html"><a href="model.html#process-modeling"><i class="fa fa-check"></i><b>11.2</b> Process Modeling</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="model.html"><a href="model.html#assumptions"><i class="fa fa-check"></i><b>11.2.1</b> Assumptions</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="model.html"><a href="model.html#model-fitting"><i class="fa fa-check"></i><b>11.3</b> Model Fitting</a></li>
<li class="chapter" data-level="11.4" data-path="model.html"><a href="model.html#ols-regression"><i class="fa fa-check"></i><b>11.4</b> OLS Regression</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="model.html"><a href="model.html#OLS_assum"><i class="fa fa-check"></i><b>11.4.1</b> OLS Assumptions and Diagnostics</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="model.html"><a href="model.html#example-ols-linear-regression"><i class="fa fa-check"></i><b>11.5</b> Example: OLS Linear Regression</a>
<ul>
<li class="chapter" data-level="11.5.1" data-path="model.html"><a href="model.html#the-lm-function"><i class="fa fa-check"></i><b>11.5.1</b> The <code>lm()</code> function</a></li>
<li class="chapter" data-level="11.5.2" data-path="model.html"><a href="model.html#ols-diagnostics"><i class="fa fa-check"></i><b>11.5.2</b> OLS Diagnostics</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="model.html"><a href="model.html#calibration"><i class="fa fa-check"></i><b>11.6</b> Calibration</a>
<ul>
<li class="chapter" data-level="11.6.1" data-path="model.html"><a href="model.html#example-calibration"><i class="fa fa-check"></i><b>11.6.1</b> Example Calibration</a></li>
</ul></li>
<li class="chapter" data-level="11.7" data-path="model.html"><a href="model.html#ch-11-homework"><i class="fa fa-check"></i><b>11.7</b> Ch-11 Homework</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="dist.html"><a href="dist.html"><i class="fa fa-check"></i><b>12</b> Appendix: Stats &amp; Reference Distributions</a>
<ul>
<li class="chapter" data-level="12.1" data-path="dist.html"><a href="dist.html#measures-of-central-tendency"><i class="fa fa-check"></i><b>12.1</b> Measures of Central Tendency</a></li>
<li class="chapter" data-level="12.2" data-path="dist.html"><a href="dist.html#measures-of-dispersion"><i class="fa fa-check"></i><b>12.2</b> Measures of Dispersion</a></li>
<li class="chapter" data-level="12.3" data-path="dist.html"><a href="dist.html#unif_dist"><i class="fa fa-check"></i><b>12.3</b> Uniform Distribution</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="dist.html"><a href="dist.html#uniform-characteristic-plots"><i class="fa fa-check"></i><b>12.3.1</b> Uniform Characteristic Plots</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="dist.html"><a href="dist.html#normal_dist"><i class="fa fa-check"></i><b>12.4</b> Normal Distribution</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="dist.html"><a href="dist.html#normal-characteristic-plots"><i class="fa fa-check"></i><b>12.4.1</b> Normal Characteristic Plots</a></li>
<li class="chapter" data-level="12.4.2" data-path="dist.html"><a href="dist.html#rule"><i class="fa fa-check"></i><b>12.4.2</b> 68-95-99 rule</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="dist.html"><a href="dist.html#log_normal_dist"><i class="fa fa-check"></i><b>12.5</b> Log-normal Distribution</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="dist.html"><a href="dist.html#lognormal-characteristic-plots"><i class="fa fa-check"></i><b>12.5.1</b> Lognormal Characteristic Plots</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="dist.html"><a href="dist.html#pearson"><i class="fa fa-check"></i><b>12.6</b> Pearson Correlation Coefficient</a>
<ul>
<li class="chapter" data-level="12.6.1" data-path="dist.html"><a href="dist.html#anscombes-quartet"><i class="fa fa-check"></i><b>12.6.1</b> Anscombe’s Quartet</a></li>
</ul></li>
<li class="chapter" data-level="12.7" data-path="dist.html"><a href="dist.html#OLS"><i class="fa fa-check"></i><b>12.7</b> OLS Regression Coefficients</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Engineering Data Analysis in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="eda2" class="section level1 hasAnchor" number="7">
<h1><span class="header-section-number">Chapter 7</span> Multivariate Data Exploration<a href="eda2.html#eda2" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="chapter-7-objectives" class="section level2 hasAnchor" number="7.1">
<h2><span class="header-section-number">7.1</span> Chapter 7 Objectives<a href="eda2.html#chapter-7-objectives" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This Chapter is designed around the following learning objectives. Upon
completion, you should be able to:</p>
<ul>
<li>Understand the use and context of bivariate data</li>
<li>Recognize the motivation behind a scatterplot from different perspectives</li>
<li>Define correlation, causation, and the difference</li>
<li>Create and interpret a scatterplot between two variables</li>
<li>Leverage <code>ggplot2</code> for multivariate exploratory data analysis through facets and colors</li>
</ul>
</div>
<div id="bivariate" class="section level2 hasAnchor" number="7.2">
<h2><span class="header-section-number">7.2</span> Bivariate Data<a href="eda2.html#bivariate" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Whereas univariate data analyses are directed at “getting to know” the
observations made for a single variable, bivariate—and multivariate—
analyses are designed to examine the <em>relationship</em> that may exist between two
(or more) variables. Like the Chapter on <a href="%7B#eda1">Univariate EDA</a>, we will
focus first on <strong><em>data exploration</em></strong>, which is a key step towards “getting to
know” your data and one that should always proceed inferential statistics, or
<em>making conclusions about your data</em>.</p>
<div class="rmdnote">
<p>
Bivariate means <em>two variables</em> where the observations are
paired; each observation samples both variables so that they are
linked.
</p>
</div>
</div>
<div id="scatt" class="section level2 hasAnchor" number="7.3">
<h2><span class="header-section-number">7.3</span> Scatterplot<a href="eda2.html#scatt" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Undoubtedly, you have seen scatterplots many times before; we will discuss them
in more detail here. The <strong>scatterplot</strong> allows you to assess the strength,
direction, and type of relationship between two variables. This can be
important for determining factors like:</p>
<ul>
<li>Correlation<br />
</li>
<li>Linearity<br />
</li>
<li>Performance (of a measurement) in terms of precision, bias, and dynamic range</li>
</ul>
<p>Traditionally, a scatterplot shows paired observations of two variables with
the <strong><em>dependent variable</em></strong> on the y-axis and the <strong><em>independent variable</em></strong>
on the x-axis. Creating a plot in this way means that, before you begin, you
must make a judgment call about the direction of the relationship (i.e., which
variable <em>depends</em> on which). This relates to the scientific method and
<em>linear regression</em>; we will discuss the latter in more detail later. For the
purposes of exploratory data analysis, however, it actually doesn’t matter
which variable goes on which axis. That said, since we don’t wish to break with
tradition, let’s agree to follow the guidelines on independent (predictor) and
dependent (outcome/response) variables. Although related, the researcher’s
purpose or “mode” affects the intention behind a plot:</p>
<ul>
<li><p><strong>Scientific Method:</strong> The experimenter manipulates the control variable (independent; on x-axis) and observes the changes in the response variable (dependent; y-axis).</p></li>
<li><p><strong>Statistics:</strong> The independent variable (x-axis) is thought to have some predictive ability, correlation with, or control over the dependent variable (y-axis).</p></li>
<li><p><strong>Exploratory Data Analysis:</strong> We throw two variables on a plot to investigate their relationship. We make a guess about which is the independent variable (x-axis) and which is the dependent variable (y-axis), and we hope that nobody calls us out if we got it wrong…</p></li>
</ul>
<p>Scatterplots are created using <code>geom_point()</code> by naming <code>x =</code> and <code>y =</code> variables within the <code>aes()</code> function.</p>
<div id="causality" class="section level3 hasAnchor" number="7.3.1">
<h3><span class="header-section-number">7.3.1</span> Causality<a href="eda2.html#causality" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>All this talk about dependent and independent variables is fundamentally rooted
in the practice of <strong><em>causal inference</em></strong> reasoning, which is the ability to
say that “action A <em>caused</em> outcome B”. Discovering—<em>or proving</em>—that one
thing caused another to happen can be incredibly powerful. Proving causality
leads to Nobel Prizes, creation of new laws and regulations, judgment of guilt
or innocence in court, changing human behavior and convincing human minds, and,
simply put, more understanding.</p>
<p>A full treatment of causal inference reasoning is beyond the scope of this
course, but we will, from time to time, delve into this topic. The art of data
science can be a beautiful and compelling way to demonstrate causality, but we
need to learn to crawl before we can walk, run, or fly. For now, let’s put
aside the pursuit of causation and begin with <strong><em>correlation</em></strong>.</p>
</div>
<div id="corr" class="section level3 hasAnchor" number="7.3.2">
<h3><span class="header-section-number">7.3.2</span> Correlation<a href="eda2.html#corr" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <strong><em>scatterplot</em></strong> is a great way to visualize <em>whether</em>, and, to some
extent, <em>how</em>, two variables are related to each other.</p>
<div class="rmdnote">
<p>
Correlation: A mutual relationship or connection between two or more
things; the process of establishing a relationship or connection between
two or more measures. The variables can move up or down together or be
inversely related.
</p>
</div>
<p>Below are four examples of bivariate data (shown in scatterplots) with differing degrees of
correlation: perfect, strong, moderate, and none. These are qualitative terms,
of course; what is “moderate” to one person may be poor and unacceptable to
another. The qualitative strength of the correlation also depends on the
research context.</p>
<p>If you want to understand how to assess the strength of correlation
quantitatively, you can explore the Pearson Correlation Coefficient (<strong><em>r</em></strong>)
in the <a href="dist.html#pearson">Appendix</a>, which is used to quantify the degree of <em>linear</em>
correlation between two variables.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:corr-example-1"></span>
<img src="images/correlation_example_1.png" alt="Scatterplot examples showing bivariate data with varying degrees of correlation." width="700pt" />
<p class="caption">
Figure 7.1: Scatterplot examples showing bivariate data with varying degrees of correlation.
</p>
</div>
<p>In addition to the strength of the correlation, the sign and form of the
correlation can vary, too:</p>
<ul>
<li><strong>positive correlation</strong>: the dependent variable <em>trends in the same direction</em> as the independent variable; when <code>y</code> increases, <code>x</code> increases, too.<br />
</li>
<li><strong>negative correlation</strong>: the dependent variable <em>decreases</em> when the independent variable <em>increases</em><br />
</li>
<li><strong>linear correlation</strong>: the relationship between the two variables can be shown with a straight line<br />
</li>
<li><strong>non-linear correlation</strong>: the relationship between the two variables is curvilinear</li>
</ul>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:corr-example-2"></span>
<img src="images/correlation_example_2.png" alt="Scatterplot examples showing bivariate data with varying types of correlation." width="700pt" />
<p class="caption">
Figure 7.2: Scatterplot examples showing bivariate data with varying types of correlation.
</p>
</div>
</div>
<div id="correlation-neq-causation" class="section level3 hasAnchor" number="7.3.3">
<h3><span class="header-section-number">7.3.3</span> Correlation <span class="math inline">\(\neq\)</span> causation<a href="eda2.html#correlation-neq-causation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Did you know that being a smoker is correlated with having a lighter in your
pocket? Furthermore, it can be shown that keeping a lighter in your pocket is
correlated with an increased risk of developing heart disease and lung cancer.
Does this mean lighters in your pocket <em>cause</em> lung cancer?</p>
<div class="rmdnote">
<p>
Causation: the process or condition by which one event (cause)
contributes to the occurrence of another event (effect). In this
process, the cause is partly or wholly responsible for the effect.
</p>
</div>
<p>Let’s take a closer look at the dangers of mistaking a <em>correlated</em>
relationship as a <em>causal</em> relationship between two variables. Shown below is a
scatterplot that builds off the <code>mpg</code> dataset we first discussed in Chapter
<a href="dataviz.html#dataviz">4</a>. Using the <code>mpg</code> dataframe, we will plot the relationship
between the number of cylinders in an engine (<code>cyl</code>; the independent variable)
and that vehicle’s fuel economy (<code>hwy</code>; the dependent variable).</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:corr-example-3"></span>
<img src="07-multivar_eda_files/figure-html/corr-example-3-1.png" alt="Scatterplot of Engine Displacement vs. Fuel Economy" width="672" />
<p class="caption">
Figure 7.3: Scatterplot of Engine Displacement vs. Fuel Economy
</p>
</div>
<p>Looking at this plot, there appears a clear correlation between the number of
cylinders in a vehicle and its fuel efficiency. A linear fit through these data
gives a Pearson correlation coefficient of -0.76, which is not a perfect
relationship but a strong one, nonetheless. Does this mean that a
<em>causal relationship</em> exists? If so, then we only need to mandate that all
future vehicles on the road be built with 4-cylinder engines, if we want more a
fuel-efficient fleet! That mandate, of course, would likely produce minimal
effect. Just because two variables are correlated doesn’t mean that a change in
one will <strong><em>cause</em></strong> a change in the other.</p>
<p>Those who understand internal combustion know that the number of cylinders is a
design parameter related more to engine power than to engine efficiency. In
other words, the number of cylinders helps determine total displacement
volume. Indeed, the causal relationship for fuel efficiency, in terms of miles
traveled per gallon, is due more directly to the energy conversion efficiency of the engine,
vehicle drag coefficient, and vehicle mass. If you want more fuel-efficient
cars and trucks, you need more efficient engines that weigh less. In the 1990s
and early 2000s nearly all engine blocks were made from cast iron. Today,
nearly all engine blocks are made from aluminum. Can you guess why?</p>
</div>
</div>
<div id="exploring-multivariate-data" class="section level2 hasAnchor" number="7.4">
<h2><span class="header-section-number">7.4</span> Exploring Multivariate Data<a href="eda2.html#exploring-multivariate-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>With <em>multivariate data</em>, we often consider more than just two variables;
however, visualizing more than two variables in a single plot can be
challenging. There are advanced statistical approaches to exploring such data,
including multivariate regression, principal component analysis, and machine
learning approaches, but these techniques are beyond the scope of this course.
Here, I will introduce a few graphical techniques that are useful for exploring
multivariate data.</p>
<div id="facets" class="section level3 hasAnchor" number="7.4.1">
<h3><span class="header-section-number">7.4.1</span> Facets<a href="eda2.html#facets" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>One easy way to evaluate two or more variables is to create multiple plots (or
facets) with the <code>ggplot2::facet()</code> function. This function creates a series of
plots, as panels, where each panel represents a different value (or level) of a
third variable of interest. For example, let’s create a <code>ggplot</code> object from
the <code>mtcars</code> data set that explores the relationship between a vehicle’s fuel
economy and its weight. First, let’s create a simple bivariate scatterplot of
these data (<code>mpg</code> vs. <code>wt</code>) and fit a linear model through the data. (Note: we
haven’t discussed modeling yet but more on that <a href="model.html#model">later</a>).</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb248-1"><a href="eda2.html#cb248-1" tabindex="-1"></a><span class="co"># fit a linear model; the ~ means we are modeling mpg as &quot;y&quot; and wt as &quot;x&quot;</span></span>
<span id="cb248-2"><a href="eda2.html#cb248-2" tabindex="-1"></a>g1_model <span class="ot">&lt;-</span> <span class="fu">lm</span>(mpg <span class="sc">~</span> wt, <span class="at">data =</span> mtcars)</span>
<span id="cb248-3"><a href="eda2.html#cb248-3" tabindex="-1"></a><span class="co"># create a plot, assign it to an object named `g1`</span></span>
<span id="cb248-4"><a href="eda2.html#cb248-4" tabindex="-1"></a>g1 <span class="ot">&lt;-</span> ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(<span class="at">data =</span> mtcars, </span>
<span id="cb248-5"><a href="eda2.html#cb248-5" tabindex="-1"></a>                      <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> wt, </span>
<span id="cb248-6"><a href="eda2.html#cb248-6" tabindex="-1"></a>                                    <span class="at">y =</span> mpg)) <span class="sc">+</span> </span>
<span id="cb248-7"><a href="eda2.html#cb248-7" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb248-8"><a href="eda2.html#cb248-8" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">model =</span> g1_model, </span>
<span id="cb248-9"><a href="eda2.html#cb248-9" tabindex="-1"></a>              <span class="at">method =</span> <span class="st">&quot;lm&quot;</span>) <span class="sc">+</span> </span>
<span id="cb248-10"><a href="eda2.html#cb248-10" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Fuel Economy (mi/gal)&quot;</span>) <span class="sc">+</span></span>
<span id="cb248-11"><a href="eda2.html#cb248-11" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Vehicle Weight (x1000 lb)&quot;</span>) <span class="sc">+</span></span>
<span id="cb248-12"><a href="eda2.html#cb248-12" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">14</span>)</span>
<span id="cb248-13"><a href="eda2.html#cb248-13" tabindex="-1"></a>g1</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:facet-1"></span>
<img src="07-multivar_eda_files/figure-html/facet-1-1.png" alt="Scatterplot of fuel economy vs. vehicle weight from the `mtcars` dataset." width="672" />
<p class="caption">
Figure 7.4: Scatterplot of fuel economy vs. vehicle weight from the <code>mtcars</code> dataset.
</p>
</div>
<p>Looking back at Figure <a href="eda2.html#fig:corr-example-3">7.3</a>, we know that the number of
cylinders (<code>cyl</code>) is also associated with fuel efficiency, and many of the
vehicles from <code>mpg</code> have different <code>cyl</code> numbers. To examine these three
variables together (<code>mpg</code>, <code>wt</code>, and <code>cyl</code>), we can create a scatterplot that
is <em>faceted</em> according to the <code>cyl</code> variable. This is relatively easy to do in
<code>ggplot2</code> by adding a <code>facet_grid()</code> layer onto our ggplot object. The key
details to pass to <code>facet_grid()</code> are:</p>
<ol style="list-style-type: decimal">
<li>Whether we want to see the facets as <strong>rows</strong> or <strong>columns</strong>, and</li>
<li>The variable being used to create the facets.</li>
</ol>
<p>These two specifications can be made as a single argument to <code>facet_grid()</code> in
the form:</p>
<ul>
<li><code>facet_grid(rows = vars(variable))</code> <em>or</em></li>
<li><code>facet_grid(cols = vars(variable))</code>,
where <em>variable</em> is the name of the column vector used to define the facets.
Note: <code>vars()</code> is a <code>ggplot2::</code> function that allows you to specify a column variable by name (instead of using <code>data.frame$variable</code>) to define the facets, similar to how we define variables in the <code>aes()</code> function.</li>
</ul>
<p>In this case, seeing the plots in columns seems fine, so we would add<br />
<code>facet_grid(cols = vars(cyl)</code> to the <code>ggplot</code> object <code>g1</code> as follows:</p>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb249-1"><a href="eda2.html#cb249-1" tabindex="-1"></a><span class="co"># facet previous plot by `cyl` columns and retain labels</span></span>
<span id="cb249-2"><a href="eda2.html#cb249-2" tabindex="-1"></a>g1 <span class="sc">+</span> <span class="fu">facet_grid</span>(<span class="at">cols =</span> <span class="fu">vars</span>(cyl),</span>
<span id="cb249-3"><a href="eda2.html#cb249-3" tabindex="-1"></a>                <span class="at">labeller =</span> label_both) <span class="co"># label each panel w/ variable name &amp; value</span></span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:facet-2"></span>
<img src="07-multivar_eda_files/figure-html/facet-2-1.png" alt="Scatterplots of fuel economy vs. vehicle weight by number of cylinders in the engine (data from the `mtcars` dataset)." width="672" />
<p class="caption">
Figure 7.5: Scatterplots of fuel economy vs. vehicle weight by number of cylinders in the engine (data from the <code>mtcars</code> dataset).
</p>
</div>
<p>Interestingly, but perhaps not surprising, we can see that the vehicles with
different cylinder numbers tend to have different fuel efficiency, but, even
within these facets, we still see a relationship between efficiency and vehicle
weight. Note that because the original <code>ggplot</code> object (<code>g1</code>) contained a linear model, the faceting call led to the creation of three (separate) linear models—one for each facet.</p>
<p>Here are the same data in a plot that is faceted by rows instead of columns. Take note how <code>ggplot2::</code> allows you add the facet to the original plot object using a
<code>+</code>, as in: <code>g1 + facet_grid(...)</code></p>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb250-1"><a href="eda2.html#cb250-1" tabindex="-1"></a><span class="co"># facet previous plot by`cyl` in rows and retain labels</span></span>
<span id="cb250-2"><a href="eda2.html#cb250-2" tabindex="-1"></a>g1 <span class="sc">+</span> <span class="fu">facet_grid</span>(<span class="at">rows =</span> <span class="fu">vars</span>(cyl),</span>
<span id="cb250-3"><a href="eda2.html#cb250-3" tabindex="-1"></a>                <span class="at">labeller =</span> label_both)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:facet-3"></span>
<img src="07-multivar_eda_files/figure-html/facet-3-1.png" alt="Scatterplots of fuel economy vs. vehicle weight by number of cylinders in the engine (data from the `mtcars` dataset)." width="672" />
<p class="caption">
Figure 7.6: Scatterplots of fuel economy vs. vehicle weight by number of cylinders in the engine (data from the <code>mtcars</code> dataset).
</p>
</div>
</div>
<div id="colors" class="section level3 hasAnchor" number="7.4.2">
<h3><span class="header-section-number">7.4.2</span> Colors<a href="eda2.html#colors" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We can also use color to indicate variation in data; this can be useful for
introducing a third variable into scatter, jitter, and time-series plots (or when plotting multiple boxplots, histograms, or cumulative distributions). When
introducing <strong>color as a variable</strong> into a plot, you must do so through an
<em>aesthetic</em>, such as <code>geom_point(aes(color = cyl))</code>.</p>
<p>Let’s recreate Figure <a href="eda2.html#fig:facet-1">7.4</a> and highlight the <code>cyl</code> variable using
different colors. The addition of color provides us with the same level of
insight as the facets above.</p>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb251-1"><a href="eda2.html#cb251-1" tabindex="-1"></a><span class="co"># instruct R to treat the `cyl` variable as a factor with discrete levels</span></span>
<span id="cb251-2"><a href="eda2.html#cb251-2" tabindex="-1"></a><span class="co"># this, in turn, tells ggplot2 to assign discrete colors to each level</span></span>
<span id="cb251-3"><a href="eda2.html#cb251-3" tabindex="-1"></a><span class="co"># `cyl` as a factor with four levels</span></span>
<span id="cb251-4"><a href="eda2.html#cb251-4" tabindex="-1"></a>mtcars<span class="sc">$</span>cyl <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(mtcars<span class="sc">$</span>cyl)</span>
<span id="cb251-5"><a href="eda2.html#cb251-5" tabindex="-1"></a><span class="co"># recreate previous plot with color option</span></span>
<span id="cb251-6"><a href="eda2.html#cb251-6" tabindex="-1"></a>g3 <span class="ot">&lt;-</span> ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(<span class="at">data =</span> mtcars,</span>
<span id="cb251-7"><a href="eda2.html#cb251-7" tabindex="-1"></a>                      <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> wt, </span>
<span id="cb251-8"><a href="eda2.html#cb251-8" tabindex="-1"></a>                           <span class="at">y =</span> mpg, </span>
<span id="cb251-9"><a href="eda2.html#cb251-9" tabindex="-1"></a>                           <span class="at">color =</span> cyl)) <span class="sc">+</span> </span>
<span id="cb251-10"><a href="eda2.html#cb251-10" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb251-11"><a href="eda2.html#cb251-11" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Fuel Economy (mi/gal)&quot;</span>) <span class="sc">+</span></span>
<span id="cb251-12"><a href="eda2.html#cb251-12" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Vehicle Weight (x1000 lb)&quot;</span>) <span class="sc">+</span></span>
<span id="cb251-13"><a href="eda2.html#cb251-13" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">14</span>)</span>
<span id="cb251-14"><a href="eda2.html#cb251-14" tabindex="-1"></a><span class="co"># call plot</span></span>
<span id="cb251-15"><a href="eda2.html#cb251-15" tabindex="-1"></a>g3</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:colorplot-1"></span>
<img src="07-multivar_eda_files/figure-html/colorplot-1-1.png" alt="Vehicle fuel economy vs. weight and colored by number of engine cylinders (data from mtcars)" width="672" />
<p class="caption">
Figure 7.7: Vehicle fuel economy vs. weight and colored by number of engine cylinders (data from mtcars)
</p>
</div>
<div class="rmdwarning">
<p>
When using color, be aware that many people are unable to distinguish
red from green or blue from yellow. Many options exist to avoid issues
from color blindness (e.g., <code>viridis</code> palette) and websites
like <a
href="https://www.color-blindness.com/coblis-color-blindness-simulator/"
target="_blank">color-blindness.com</a> allow you to upload image files
so that you can see what your plot looks like to someone with color
blindness.
</p>
</div>
<p>Here is an updated version of Figure <a href="eda2.html#fig:colorplot-1">7.7</a> that avoids issues
with color blindness and, better yet, differentiates the <code>cyl</code> variable with
both colors and symbols.</p>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb252-1"><a href="eda2.html#cb252-1" tabindex="-1"></a><span class="co"># recreate previous plot with color-blind-friendly colors and shapes</span></span>
<span id="cb252-2"><a href="eda2.html#cb252-2" tabindex="-1"></a>ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(<span class="at">data =</span> mtcars,</span>
<span id="cb252-3"><a href="eda2.html#cb252-3" tabindex="-1"></a>                <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> wt,</span>
<span id="cb252-4"><a href="eda2.html#cb252-4" tabindex="-1"></a>                              <span class="at">y =</span> mpg,</span>
<span id="cb252-5"><a href="eda2.html#cb252-5" tabindex="-1"></a>                              <span class="at">color =</span> cyl, </span>
<span id="cb252-6"><a href="eda2.html#cb252-6" tabindex="-1"></a>                              <span class="at">shape =</span> cyl)) <span class="sc">+</span> <span class="co"># distinguish by shape also!</span></span>
<span id="cb252-7"><a href="eda2.html#cb252-7" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="fl">2.5</span>) <span class="sc">+</span></span>
<span id="cb252-8"><a href="eda2.html#cb252-8" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Fuel Economy (mi/gal)&quot;</span>) <span class="sc">+</span></span>
<span id="cb252-9"><a href="eda2.html#cb252-9" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Vehicle Weight (x1000 lb)&quot;</span>) <span class="sc">+</span></span>
<span id="cb252-10"><a href="eda2.html#cb252-10" tabindex="-1"></a>  <span class="fu">scale_colour_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;sandybrown&quot;</span>, <span class="co"># color-blind-friendly colors</span></span>
<span id="cb252-11"><a href="eda2.html#cb252-11" tabindex="-1"></a>                                 <span class="st">&quot;orangered&quot;</span>, </span>
<span id="cb252-12"><a href="eda2.html#cb252-12" tabindex="-1"></a>                                 <span class="st">&quot;steelblue2&quot;</span>)) <span class="sc">+</span></span>
<span id="cb252-13"><a href="eda2.html#cb252-13" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">14</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:colorplot-2"></span>
<img src="07-multivar_eda_files/figure-html/colorplot-2-1.png" alt="Vehicle fuel economy vs. weight and colored by number of engine cylinders (data from mtcars)" width="672" />
<p class="caption">
Figure 7.8: Vehicle fuel economy vs. weight and colored by number of engine cylinders (data from mtcars)
</p>
</div>
<div class="rmdtip">
<p>
Whenever you use <strong>color</strong> to differentiate variables,
it’s a good idea to use symbols, too, if possible.
</p>
</div>
</div>
</div>
<div id="chapter-7-exercises" class="section level2 hasAnchor" number="7.5">
<h2><span class="header-section-number">7.5</span> Chapter 7 Exercises<a href="eda2.html#chapter-7-exercises" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="fuel-economy-data" class="section level3 hasAnchor" number="7.5.1">
<h3><span class="header-section-number">7.5.1</span> Fuel economy data<a href="eda2.html#fuel-economy-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This in-class exercise will conduct an exploratory, multivariate data
analysis on vehicle fuel economy. We will begin by downloading a .zip file from
<a href="https://www.fueleconomy.gov/feg/ws/" target="_blank">fueleconomy.gov</a>, which
is a Federal program that tracks the fuel economy of all vehicles sold in the
United States. The .zip file contains a .csv with fuel economy information for
nearly every vehicle manufactured between 1984 and today. We will use the
<code>readr</code> and <code>dplyr</code> packages to load and clean the data, respectively. A data
dictionary (something that defines and explains each variable in the dataset)
is also available at the website above.</p>
</div>
<div id="import-and-wrangle-data" class="section level3 hasAnchor" number="7.5.2">
<h3><span class="header-section-number">7.5.2</span> Import and wrangle data<a href="eda2.html#import-and-wrangle-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The first code chunk will download the data directly into a temporary file
using <code>download.file()</code> from base R. We will then <code>unzip()</code> (base R) the temp
file into a .csv and use <code>readr</code> to read that .csv into a dataframe named
<code>raw_data</code>.</p>
<div class="sourceCode" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb253-1"><a href="eda2.html#cb253-1" tabindex="-1"></a><span class="co"># create an empty temporary object to hold the zipped data</span></span>
<span id="cb253-2"><a href="eda2.html#cb253-2" tabindex="-1"></a>temp <span class="ot">&lt;-</span> base<span class="sc">::</span><span class="fu">tempfile</span>()</span>
<span id="cb253-3"><a href="eda2.html#cb253-3" tabindex="-1"></a><span class="co"># download the file into temp object</span></span>
<span id="cb253-4"><a href="eda2.html#cb253-4" tabindex="-1"></a>utils<span class="sc">::</span><span class="fu">download.file</span>(</span>
<span id="cb253-5"><a href="eda2.html#cb253-5" tabindex="-1"></a>  <span class="at">url =</span> <span class="st">&quot;https://www.fueleconomy.gov/feg/epadata/vehicles.csv.zip&quot;</span>,</span>
<span id="cb253-6"><a href="eda2.html#cb253-6" tabindex="-1"></a>  <span class="at">destfile =</span> temp,</span>
<span id="cb253-7"><a href="eda2.html#cb253-7" tabindex="-1"></a>  <span class="at">mode=</span><span class="st">&quot;wb&quot;</span>)</span>
<span id="cb253-8"><a href="eda2.html#cb253-8" tabindex="-1"></a><span class="co"># unzip the folder within temp object to acess csv</span></span>
<span id="cb253-9"><a href="eda2.html#cb253-9" tabindex="-1"></a>temp2 <span class="ot">&lt;-</span> utils<span class="sc">::</span><span class="fu">unzip</span>(temp, </span>
<span id="cb253-10"><a href="eda2.html#cb253-10" tabindex="-1"></a>                      <span class="st">&quot;vehicles.csv&quot;</span>, </span>
<span id="cb253-11"><a href="eda2.html#cb253-11" tabindex="-1"></a>                      <span class="at">exdir =</span> <span class="st">&quot;./data/&quot;</span>) <span class="co"># unzip .csv to local directory</span></span>
<span id="cb253-12"><a href="eda2.html#cb253-12" tabindex="-1"></a><span class="co"># import csv into df object</span></span>
<span id="cb253-13"><a href="eda2.html#cb253-13" tabindex="-1"></a>raw_data <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(temp2) <span class="co">#read the csv into a data frame</span></span>
<span id="cb253-14"><a href="eda2.html#cb253-14" tabindex="-1"></a><span class="co"># delete the temp file</span></span>
<span id="cb253-15"><a href="eda2.html#cb253-15" tabindex="-1"></a>base<span class="sc">::</span><span class="fu">unlink</span>(temp) </span>
<span id="cb253-16"><a href="eda2.html#cb253-16" tabindex="-1"></a><span class="co"># remove the two temp objects from local environment</span></span>
<span id="cb253-17"><a href="eda2.html#cb253-17" tabindex="-1"></a>base<span class="sc">::</span><span class="fu">rm</span>(temp, temp2) </span></code></pre></div>
<p><strong>Public Service Announcement</strong>: Notice the use of <code>rm()</code> from base R in the
above code. This is an example of a recommended use case of this function;
do not EVER use this function to “restart” your R session. If you do, <a href="https://www.tidyverse.org/blog/2017/12/workflow-vs-script/" target="_blank">Jenny
Bryan will find you and throw your computer out the window</a>.</p>
<p>Looking at the <code>raw_data</code> dataframe, we see there are 83 variables with over
45,000 observations. That’s a LOT of vehicles! In most analyses of large
datasets, we don’t need to inspect every variable. Let’s create a vector of
variables (<code>vars_needed</code>) that we want to keep and pass that vector to
<code>dplyr::select()</code> to retain only the variables we want. To pass a character
vector as an argument to <code>dplyr::select()</code>, instead of just a single column
name, we use the <code>all_of()</code> function, which is an argument modifier from the
<code>tidyselect</code> R package. You can type <code>?tidyselect::all_of</code> in the R console to
learn more. Essentially, <code>tidyselect::all_of()</code> tells <code>dplyr::select()</code> to
expect a character vector of column names to retain in the datset.</p>
<div class="sourceCode" id="cb254"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb254-1"><a href="eda2.html#cb254-1" tabindex="-1"></a><span class="co"># create a vector of var names to retain </span></span>
<span id="cb254-2"><a href="eda2.html#cb254-2" tabindex="-1"></a>vars_needed <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;id&quot;</span>,</span>
<span id="cb254-3"><a href="eda2.html#cb254-3" tabindex="-1"></a>                 <span class="st">&quot;make&quot;</span>,</span>
<span id="cb254-4"><a href="eda2.html#cb254-4" tabindex="-1"></a>                 <span class="st">&quot;model&quot;</span>,</span>
<span id="cb254-5"><a href="eda2.html#cb254-5" tabindex="-1"></a>                 <span class="st">&quot;year&quot;</span>,</span>
<span id="cb254-6"><a href="eda2.html#cb254-6" tabindex="-1"></a>                 <span class="st">&quot;cylinders&quot;</span>, </span>
<span id="cb254-7"><a href="eda2.html#cb254-7" tabindex="-1"></a>                 <span class="st">&quot;displ&quot;</span>, </span>
<span id="cb254-8"><a href="eda2.html#cb254-8" tabindex="-1"></a>                 <span class="st">&quot;drive&quot;</span>,</span>
<span id="cb254-9"><a href="eda2.html#cb254-9" tabindex="-1"></a>                 <span class="st">&quot;trany&quot;</span>,</span>
<span id="cb254-10"><a href="eda2.html#cb254-10" tabindex="-1"></a>                 <span class="st">&quot;VClass&quot;</span>,</span>
<span id="cb254-11"><a href="eda2.html#cb254-11" tabindex="-1"></a>                 <span class="st">&quot;fuelType1&quot;</span>,</span>
<span id="cb254-12"><a href="eda2.html#cb254-12" tabindex="-1"></a>                 <span class="st">&quot;comb08&quot;</span>,</span>
<span id="cb254-13"><a href="eda2.html#cb254-13" tabindex="-1"></a>                 <span class="st">&quot;highway08&quot;</span>,</span>
<span id="cb254-14"><a href="eda2.html#cb254-14" tabindex="-1"></a>                 <span class="st">&quot;city08&quot;</span>)</span>
<span id="cb254-15"><a href="eda2.html#cb254-15" tabindex="-1"></a><span class="co"># select necessary variables</span></span>
<span id="cb254-16"><a href="eda2.html#cb254-16" tabindex="-1"></a>df_mpg <span class="ot">&lt;-</span> raw_data <span class="sc">%&gt;%</span></span>
<span id="cb254-17"><a href="eda2.html#cb254-17" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(tidyselect<span class="sc">::</span><span class="fu">all_of</span>(vars_needed))  </span>
<span id="cb254-18"><a href="eda2.html#cb254-18" tabindex="-1"></a><span class="co"># remove full dataframe from environment</span></span>
<span id="cb254-19"><a href="eda2.html#cb254-19" tabindex="-1"></a><span class="fu">rm</span>(raw_data) </span></code></pre></div>
<p>As you have seen before, some of these variables can be coded as <strong>factors</strong>,
which are <em>categorical</em> variables that can be classified into discrete levels.
For example, there are a finite number of vehicle transmission (<code>trany</code>) or
drivetrain (<code>drive</code>) types on the market, and, by telling R to code these data
as factors, we can analyze these variables in categorical form.</p>
<p>First, we will create a vector of variable names that we want to code as
factors, <code>vars_factr</code>. Then we will apply the <code>as.factor()</code> function to those
variables using <code>dplyr::mutate(dplyr::across())</code>. The <code>across()</code> function from
<code>dplyr</code> allows one to apply the same transformation to multiple columns in a
dataframe and is similar to how we used <code>tidyselect::all_of()</code> in the previous
example. We will also take the opportunity to rename a few of these variables,
following our naming guidelines discussed in earlier chapters, and to filter
the data to retain only vehicles made after the year 2000.</p>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb255-1"><a href="eda2.html#cb255-1" tabindex="-1"></a><span class="co"># identify the columns that we want to convert to a factor</span></span>
<span id="cb255-2"><a href="eda2.html#cb255-2" tabindex="-1"></a>vars_factr <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;make&quot;</span>, <span class="st">&quot;drive&quot;</span>, <span class="st">&quot;trany&quot;</span>, <span class="st">&quot;VClass&quot;</span>, <span class="st">&quot;fuelType1&quot;</span>)</span>
<span id="cb255-3"><a href="eda2.html#cb255-3" tabindex="-1"></a><span class="co"># overwrite existing df</span></span>
<span id="cb255-4"><a href="eda2.html#cb255-4" tabindex="-1"></a>df_mpg <span class="ot">&lt;-</span> df_mpg <span class="sc">%&gt;%</span> </span>
<span id="cb255-5"><a href="eda2.html#cb255-5" tabindex="-1"></a>  <span class="co"># convert select vars to factors </span></span>
<span id="cb255-6"><a href="eda2.html#cb255-6" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(dplyr<span class="sc">::</span><span class="fu">across</span>(tidyselect<span class="sc">::</span><span class="fu">all_of</span>(vars_factr), </span>
<span id="cb255-7"><a href="eda2.html#cb255-7" tabindex="-1"></a>                              <span class="at">.fns =</span> as.factor)) <span class="sc">%&gt;%</span> </span>
<span id="cb255-8"><a href="eda2.html#cb255-8" tabindex="-1"></a>  <span class="co"># overwrite column names with simpler names</span></span>
<span id="cb255-9"><a href="eda2.html#cb255-9" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">fuel_type =</span> fuelType1, </span>
<span id="cb255-10"><a href="eda2.html#cb255-10" tabindex="-1"></a>                <span class="at">cyl =</span> cylinders, </span>
<span id="cb255-11"><a href="eda2.html#cb255-11" tabindex="-1"></a>                <span class="at">tran =</span> trany, </span>
<span id="cb255-12"><a href="eda2.html#cb255-12" tabindex="-1"></a>                <span class="at">v_class =</span> VClass) <span class="sc">%&gt;%</span> <span class="co"># easier string to type</span></span>
<span id="cb255-13"><a href="eda2.html#cb255-13" tabindex="-1"></a>  <span class="co"># keep only data collected after 2000 for the sake of simplicity</span></span>
<span id="cb255-14"><a href="eda2.html#cb255-14" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(year <span class="sc">&gt;=</span> <span class="dv">2000</span>) </span>
<span id="cb255-15"><a href="eda2.html#cb255-15" tabindex="-1"></a><span class="co"># remove previous objects from global environment</span></span>
<span id="cb255-16"><a href="eda2.html#cb255-16" tabindex="-1"></a><span class="fu">rm</span>(vars_needed, vars_factr)</span></code></pre></div>
</div>
<div id="check-data" class="section level3 hasAnchor" number="7.5.3">
<h3><span class="header-section-number">7.5.3</span> Check data<a href="eda2.html#check-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Begin as we always do, by simply looking at some of the data.</p>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb256-1"><a href="eda2.html#cb256-1" tabindex="-1"></a><span class="co"># examine first five rows of df</span></span>
<span id="cb256-2"><a href="eda2.html#cb256-2" tabindex="-1"></a><span class="fu">head</span>(df_mpg)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 13
##      id make  model        year   cyl displ drive tran  v_class fuel_type comb08
##   &lt;dbl&gt; &lt;fct&gt; &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;fct&gt; &lt;fct&gt; &lt;fct&gt;   &lt;fct&gt;      &lt;dbl&gt;
## 1 15589 Acura NSX          2000     6   3   Rear… Auto… Two Se… Premium …     18
## 2 15590 Acura NSX          2000     6   3.2 Rear… Manu… Two Se… Premium …     18
## 3 15591 BMW   M Coupe      2000     6   3.2 Rear… Manu… Two Se… Premium …     19
## 4 15592 BMW   Z3 Coupe     2000     6   2.8 Rear… Auto… Two Se… Premium …     19
## 5 15593 BMW   Z3 Coupe     2000     6   2.8 Rear… Manu… Two Se… Premium …     19
## 6 15594 BMW   Z3 Roadster  2000     6   2.5 Rear… Auto… Two Se… Premium …     19
## # ℹ 2 more variables: highway08 &lt;dbl&gt;, city08 &lt;dbl&gt;</code></pre>
<p>Next, let’s take a look at some of the factor levels. There are lots of ways
to do this in R, but the <code>levels()</code> function is the most straightforward.</p>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb258-1"><a href="eda2.html#cb258-1" tabindex="-1"></a><span class="co"># print a character vector of levels for the drive variable in df_mpg</span></span>
<span id="cb258-2"><a href="eda2.html#cb258-2" tabindex="-1"></a><span class="fu">levels</span>(df_mpg<span class="sc">$</span>drive) </span></code></pre></div>
<pre><code>## [1] &quot;2-Wheel Drive&quot;              &quot;4-Wheel Drive&quot;             
## [3] &quot;4-Wheel or All-Wheel Drive&quot; &quot;All-Wheel Drive&quot;           
## [5] &quot;Front-Wheel Drive&quot;          &quot;Part-time 4-Wheel Drive&quot;   
## [7] &quot;Rear-Wheel Drive&quot;</code></pre>
<div class="sourceCode" id="cb260"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb260-1"><a href="eda2.html#cb260-1" tabindex="-1"></a><span class="co"># print a character vector of levels for the fuel_type variable in df_mpg</span></span>
<span id="cb260-2"><a href="eda2.html#cb260-2" tabindex="-1"></a><span class="fu">levels</span>(df_mpg<span class="sc">$</span>fuel_type) </span></code></pre></div>
<pre><code>## [1] &quot;Diesel&quot;            &quot;Electricity&quot;       &quot;Hydrogen&quot;         
## [4] &quot;Midgrade Gasoline&quot; &quot;Natural Gas&quot;       &quot;Premium Gasoline&quot; 
## [7] &quot;Regular Gasoline&quot;</code></pre>
<div class="sourceCode" id="cb262"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb262-1"><a href="eda2.html#cb262-1" tabindex="-1"></a><span class="co"># print a character vector of levels for the v_class variable in df_mpg</span></span>
<span id="cb262-2"><a href="eda2.html#cb262-2" tabindex="-1"></a><span class="fu">levels</span>(df_mpg<span class="sc">$</span>v_class) </span></code></pre></div>
<pre><code>##  [1] &quot;Compact Cars&quot;                       &quot;Large Cars&quot;                        
##  [3] &quot;Midsize Cars&quot;                       &quot;Midsize Station Wagons&quot;            
##  [5] &quot;Midsize-Large Station Wagons&quot;       &quot;Minicompact Cars&quot;                  
##  [7] &quot;Minivan - 2WD&quot;                      &quot;Minivan - 4WD&quot;                     
##  [9] &quot;Small Pickup Trucks&quot;                &quot;Small Pickup Trucks 2WD&quot;           
## [11] &quot;Small Pickup Trucks 4WD&quot;            &quot;Small Sport Utility Vehicle 2WD&quot;   
## [13] &quot;Small Sport Utility Vehicle 4WD&quot;    &quot;Small Station Wagons&quot;              
## [15] &quot;Special Purpose Vehicle&quot;            &quot;Special Purpose Vehicle 2WD&quot;       
## [17] &quot;Special Purpose Vehicle 4WD&quot;        &quot;Special Purpose Vehicles&quot;          
## [19] &quot;Special Purpose Vehicles/2wd&quot;       &quot;Special Purpose Vehicles/4wd&quot;      
## [21] &quot;Sport Utility Vehicle - 2WD&quot;        &quot;Sport Utility Vehicle - 4WD&quot;       
## [23] &quot;Standard Pickup Trucks&quot;             &quot;Standard Pickup Trucks 2WD&quot;        
## [25] &quot;Standard Pickup Trucks 4WD&quot;         &quot;Standard Pickup Trucks/2wd&quot;        
## [27] &quot;Standard Sport Utility Vehicle 2WD&quot; &quot;Standard Sport Utility Vehicle 4WD&quot;
## [29] &quot;Subcompact Cars&quot;                    &quot;Two Seaters&quot;                       
## [31] &quot;Vans&quot;                               &quot;Vans Passenger&quot;                    
## [33] &quot;Vans, Cargo Type&quot;                   &quot;Vans, Passenger Type&quot;</code></pre>
</div>
<div id="check-for-missing-data" class="section level3 hasAnchor" number="7.5.4">
<h3><span class="header-section-number">7.5.4</span> Check for missing data<a href="eda2.html#check-for-missing-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Next, let’s see whether this dataframe contains missing data (<code>NA</code>s).</p>
<div class="sourceCode" id="cb264"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb264-1"><a href="eda2.html#cb264-1" tabindex="-1"></a><span class="co"># count instances of missing values within df_mpg</span></span>
<span id="cb264-2"><a href="eda2.html#cb264-2" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">is.na</span>(df_mpg))</span></code></pre></div>
<pre><code>## [1] 1916</code></pre>
<div class="sourceCode" id="cb266"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb266-1"><a href="eda2.html#cb266-1" tabindex="-1"></a><span class="co"># note this can work as a pipe, too</span></span>
<span id="cb266-2"><a href="eda2.html#cb266-2" tabindex="-1"></a><span class="co"># df_mpg %&gt;% is.na() %&gt;% sum()</span></span></code></pre></div>
<p>With a dataframe of this size, we shouldn’t be surprised that there are
1916 <code>NA</code> values present. The next question is: where do
these <code>NA</code> values show up? There are several ways to answer this question;
here, we will use the <code>stats::complete.cases()</code> function with a
<code>dplyr::filter()</code> search.</p>
<div id="example-1-missing-data" class="section level4 hasAnchor" number="7.5.4.1">
<h4><span class="header-section-number">7.5.4.1</span> Example 1: Missing Data<a href="eda2.html#example-1-missing-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The <code>compelete.cases()</code> function returns a logical vector indicating
which rows are <em>complete</em> (i.e., no missing values). The opposite of this
logical function, <code>!complete.cases()</code>, should return ONLY those rows that do
contain <code>NA</code>s. Let’s create a subset of <code>df_mpg</code> that only contains rows with
<code>NA</code> present.</p>
<div class="sourceCode" id="cb267"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb267-1"><a href="eda2.html#cb267-1" tabindex="-1"></a><span class="co"># return a df of rows with missing values</span></span>
<span id="cb267-2"><a href="eda2.html#cb267-2" tabindex="-1"></a>df_mpg <span class="sc">%&gt;%</span></span>
<span id="cb267-3"><a href="eda2.html#cb267-3" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">complete.cases</span>(.))</span></code></pre></div>
<pre><code>## # A tibble: 952 × 13
##       id make   model      year   cyl displ drive tran  v_class fuel_type comb08
##    &lt;dbl&gt; &lt;fct&gt;  &lt;chr&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;fct&gt; &lt;fct&gt; &lt;fct&gt;   &lt;fct&gt;      &lt;dbl&gt;
##  1 16423 Nissan Altra EV   2000    NA    NA &lt;NA&gt;  &lt;NA&gt;  Midsiz… Electric…     85
##  2 16424 Toyota RAV4 EV    2000    NA    NA 2-Wh… &lt;NA&gt;  Sport … Electric…     72
##  3 17328 Toyota RAV4 EV    2001    NA    NA 2-Wh… &lt;NA&gt;  Sport … Electric…     72
##  4 17329 Ford   Th!nk      2001    NA    NA &lt;NA&gt;  &lt;NA&gt;  Two Se… Electric…     65
##  5 17330 Ford   Explorer…  2001    NA    NA 2-Wh… &lt;NA&gt;  Sport … Electric…     39
##  6 17331 Nissan Hyper-Mi…  2001    NA    NA &lt;NA&gt;  &lt;NA&gt;  Two Se… Electric…     75
##  7 18290 Toyota RAV4 EV    2002    NA    NA 2-Wh… &lt;NA&gt;  Sport … Electric…     78
##  8 18291 Ford   Explorer…  2002    NA    NA 2-Wh… &lt;NA&gt;  Sport … Electric…     39
##  9 19296 Toyota RAV4 EV    2003    NA    NA 2-Wh… &lt;NA&gt;  Sport … Electric…     78
## 10 30965 Ford   Ranger P…  2001    NA    NA 2-Wh… Auto… Standa… Electric…     58
## # ℹ 942 more rows
## # ℹ 2 more variables: highway08 &lt;dbl&gt;, city08 &lt;dbl&gt;</code></pre>
<p>Here, we discover that most of the the <code>NA</code> values are in the <code>cyl</code>, <code>displ</code>,
and <code>tran</code>, columns. Further, we see that <strong>all</strong> of these vehicles have a
<code>fuel_type</code> of <em>Electricity</em>, which makes sense because electric vehicles (EVs) do not
have internal combustion. This may be a variable level that we choose to
exclude from certain analyses later…</p>
<p><strong>You might have noticed the “dot”, <code>.</code>, used at the end of the <code>dplyr::filter</code> pipe above:</strong></p>
<p><code>df_mpg %&gt;% filter(!complete.cases(.))</code></p>
<p><em>Why is there a <code>.</code> as an argument to a function?</em></p>
<p>We use <code>.</code> as a <a href="https://magrittr.tidyverse.org/reference/pipe.html#arguments"><em>placeholder argument</em></a> when more than one function is nested within a single section of pipe (<code>%&gt;%</code>). The <code>complete.cases()</code> function requires an argument to run, so we must tell it to operate on the same dataframe on which <code>filter()</code> operates. The <code>.</code> accomplishes this need for an argument. In other words, these three lines of code are equivalent:</p>
<div class="sourceCode" id="cb269"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb269-1"><a href="eda2.html#cb269-1" tabindex="-1"></a>df_mpg <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">complete.cases</span>(.))</span>
<span id="cb269-2"><a href="eda2.html#cb269-2" tabindex="-1"></a></span>
<span id="cb269-3"><a href="eda2.html#cb269-3" tabindex="-1"></a>df_mpg <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">complete.cases</span>(df_mpg))</span>
<span id="cb269-4"><a href="eda2.html#cb269-4" tabindex="-1"></a></span>
<span id="cb269-5"><a href="eda2.html#cb269-5" tabindex="-1"></a><span class="fu">filter</span>(df_mpg, <span class="sc">!</span><span class="fu">complete.cases</span>(df_mpg))</span></code></pre></div>
<p><strong><em>Note:</em></strong> the <code>.</code> only works as a placeholder argument within a <code>%&gt;%</code> call. The following code will throw an error because there is no pipe present:</p>
<div class="sourceCode" id="cb270"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb270-1"><a href="eda2.html#cb270-1" tabindex="-1"></a><span class="co">#this code will throw an error</span></span>
<span id="cb270-2"><a href="eda2.html#cb270-2" tabindex="-1"></a><span class="fu">filter</span>(df_mpg, <span class="sc">!</span><span class="fu">complete.cases</span>(.))  </span></code></pre></div>
</div>
<div id="example-2-missing-data" class="section level4 hasAnchor" number="7.5.4.2">
<h4><span class="header-section-number">7.5.4.2</span> Example 2: Missing Data<a href="eda2.html#example-2-missing-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Filter the <code>df_mpg</code> data for <em>any variables</em> (<code>dplyr::any_vars()</code>) that contain
<code>NA</code>. Like <code>tidyselect::all_of()</code> that was used to clean the dataframe above,
the <code>any_vars()</code> function is a helper function designed for use within <code>dplyr</code>
and <code>tidyr</code> verbs.<br />
<br><em>A word to the wise</em>: <code>dplyr::any_vars()</code> and similar variants
have been <strong>superseded</strong>, which means new updates are not being made to them, and
the developers will eventually encourage users to transition to using
<code>dplyr::across()</code>. If you are interested, take a look at <a href="https://community.rstudio.com/t/using-filter-with-across-to-keep-all-rows-of-a-data-frame-that-include-a-missing-value-for-any-variable/68442">this discussion thread</a>
on the topic. You can also type <code>vignette("colwise")</code> into the console to introduce
yourself to the <code>across()</code> function. In the code below, I provide examples of the
<em>superseded</em> code and the more current (updated) code.</p>
<div class="sourceCode" id="cb271"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb271-1"><a href="eda2.html#cb271-1" tabindex="-1"></a><span class="co"># (superseded) filter the df for rows where any of the observations contain NA</span></span>
<span id="cb271-2"><a href="eda2.html#cb271-2" tabindex="-1"></a><span class="co"># df_mpg %&gt;% </span></span>
<span id="cb271-3"><a href="eda2.html#cb271-3" tabindex="-1"></a><span class="co">#  dplyr::filter_all(dplyr::any_vars(is.na(.)))</span></span>
<span id="cb271-4"><a href="eda2.html#cb271-4" tabindex="-1"></a></span>
<span id="cb271-5"><a href="eda2.html#cb271-5" tabindex="-1"></a><span class="co"># (updated) example to filter the df for rows containing NA </span></span>
<span id="cb271-6"><a href="eda2.html#cb271-6" tabindex="-1"></a>df_mpg <span class="sc">%&gt;%</span></span>
<span id="cb271-7"><a href="eda2.html#cb271-7" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">if_any</span>(<span class="at">.cols =</span> <span class="fu">everything</span>(), </span>
<span id="cb271-8"><a href="eda2.html#cb271-8" tabindex="-1"></a>                <span class="at">.fns =</span> <span class="sc">~</span> <span class="fu">is.na</span>(.x)))</span></code></pre></div>
<pre><code>## # A tibble: 952 × 13
##       id make   model      year   cyl displ drive tran  v_class fuel_type comb08
##    &lt;dbl&gt; &lt;fct&gt;  &lt;chr&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;fct&gt; &lt;fct&gt; &lt;fct&gt;   &lt;fct&gt;      &lt;dbl&gt;
##  1 16423 Nissan Altra EV   2000    NA    NA &lt;NA&gt;  &lt;NA&gt;  Midsiz… Electric…     85
##  2 16424 Toyota RAV4 EV    2000    NA    NA 2-Wh… &lt;NA&gt;  Sport … Electric…     72
##  3 17328 Toyota RAV4 EV    2001    NA    NA 2-Wh… &lt;NA&gt;  Sport … Electric…     72
##  4 17329 Ford   Th!nk      2001    NA    NA &lt;NA&gt;  &lt;NA&gt;  Two Se… Electric…     65
##  5 17330 Ford   Explorer…  2001    NA    NA 2-Wh… &lt;NA&gt;  Sport … Electric…     39
##  6 17331 Nissan Hyper-Mi…  2001    NA    NA &lt;NA&gt;  &lt;NA&gt;  Two Se… Electric…     75
##  7 18290 Toyota RAV4 EV    2002    NA    NA 2-Wh… &lt;NA&gt;  Sport … Electric…     78
##  8 18291 Ford   Explorer…  2002    NA    NA 2-Wh… &lt;NA&gt;  Sport … Electric…     39
##  9 19296 Toyota RAV4 EV    2003    NA    NA 2-Wh… &lt;NA&gt;  Sport … Electric…     78
## 10 30965 Ford   Ranger P…  2001    NA    NA 2-Wh… Auto… Standa… Electric…     58
## # ℹ 942 more rows
## # ℹ 2 more variables: highway08 &lt;dbl&gt;, city08 &lt;dbl&gt;</code></pre>
</div>
<div id="example-3-missing-data" class="section level4 hasAnchor" number="7.5.4.3">
<h4><span class="header-section-number">7.5.4.3</span> Example 3: Missing Data<a href="eda2.html#example-3-missing-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Note: In <a href="rprog4.html#rprog4">Chapter 8</a>, you will learn to “map” the <code>sum()</code> and <code>is.na()</code> functions to each column of the data frame using <code>map_dfc</code> from the <code>purrr</code> package, which is designed to apply one ore more functions across columns of a data frame. This approach is the recommended way and I show it mainly as a preview of things to come in <a href="rprog4.html#rprog4">Chapter 8</a>.</p>
<div class="sourceCode" id="cb273"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb273-1"><a href="eda2.html#cb273-1" tabindex="-1"></a><span class="co"># preview of code we will learn in Chapter 8</span></span>
<span id="cb273-2"><a href="eda2.html#cb273-2" tabindex="-1"></a>df_mpg <span class="sc">%&gt;%</span> purrr<span class="sc">::</span><span class="fu">map_dfc</span>(<span class="sc">~</span><span class="fu">sum</span>(<span class="fu">is.na</span>(.)))</span></code></pre></div>
</div>
</div>
<div id="visualize-data" class="section level3 hasAnchor" number="7.5.5">
<h3><span class="header-section-number">7.5.5</span> Visualize data<a href="eda2.html#visualize-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="tidy-data-1" class="section level4 hasAnchor" number="7.5.5.1">
<h4><span class="header-section-number">7.5.5.1</span> Tidy data<a href="eda2.html#tidy-data-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Our primary variable of interest is fuel economy, so let’s begin by visualizing
the location, dispersion, and shape of <code>city08</code>, <code>highway08</code>, and <code>comb08</code>,
which represent city, highway and combined fuel economy estimates. Note that
<code>df_mpg</code> is not in a tidy format, as fuel economy data is presented in three
different columns. We’ll fix that with <code>tidyr::pivot_longer()</code>.</p>
<div class="sourceCode" id="cb274"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb274-1"><a href="eda2.html#cb274-1" tabindex="-1"></a><span class="co"># before visualizing the data, convert to tidy format</span></span>
<span id="cb274-2"><a href="eda2.html#cb274-2" tabindex="-1"></a>tidy_mpg <span class="ot">&lt;-</span> df_mpg <span class="sc">%&gt;%</span></span>
<span id="cb274-3"><a href="eda2.html#cb274-3" tabindex="-1"></a>  <span class="co"># choose simple names</span></span>
<span id="cb274-4"><a href="eda2.html#cb274-4" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">city =</span> city08,</span>
<span id="cb274-5"><a href="eda2.html#cb274-5" tabindex="-1"></a>                <span class="at">hwy =</span> highway08,</span>
<span id="cb274-6"><a href="eda2.html#cb274-6" tabindex="-1"></a>                <span class="at">comb =</span> comb08) <span class="sc">%&gt;%</span></span>
<span id="cb274-7"><a href="eda2.html#cb274-7" tabindex="-1"></a>  <span class="co"># change data structure from wide to long </span></span>
<span id="cb274-8"><a href="eda2.html#cb274-8" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(<span class="st">&quot;city&quot;</span>, <span class="st">&quot;hwy&quot;</span>, <span class="st">&quot;comb&quot;</span>),</span>
<span id="cb274-9"><a href="eda2.html#cb274-9" tabindex="-1"></a>                      <span class="at">names_to =</span> <span class="st">&quot;metric&quot;</span>,</span>
<span id="cb274-10"><a href="eda2.html#cb274-10" tabindex="-1"></a>                      <span class="at">values_to =</span> <span class="st">&quot;mpg&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb274-11"><a href="eda2.html#cb274-11" tabindex="-1"></a>  <span class="co"># switch var to factor</span></span>
<span id="cb274-12"><a href="eda2.html#cb274-12" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">metric =</span> <span class="fu">as.factor</span>(metric))</span></code></pre></div>
</div>
<div id="multivariate-eda-options" class="section level4 hasAnchor" number="7.5.5.2">
<h4><span class="header-section-number">7.5.5.2</span> Multivariate EDA options<a href="eda2.html#multivariate-eda-options" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>With the data properly tidy, we can use our basic EDA plots with <code>stat_ecdf()</code>,
<code>geom_boxplot()</code>, and <code>geom_histogram()</code>, to visualize the fuel economy data.<br />
To show the different variables within the same plot, we use <code>color =</code>
or <code>fill =</code> as an extra aesthetic. All three plots are then laid out using
<code>gridExtra::grid.arrange()</code>.</p>
<div class="sourceCode" id="cb275"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb275-1"><a href="eda2.html#cb275-1" tabindex="-1"></a><span class="co"># create cumulative distribution function plot</span></span>
<span id="cb275-2"><a href="eda2.html#cb275-2" tabindex="-1"></a>ecdf <span class="ot">&lt;-</span> ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(<span class="at">data =</span> tidy_mpg, </span>
<span id="cb275-3"><a href="eda2.html#cb275-3" tabindex="-1"></a>                        <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> mpg, </span>
<span id="cb275-4"><a href="eda2.html#cb275-4" tabindex="-1"></a>                                      <span class="at">color =</span> metric)) <span class="sc">+</span></span>
<span id="cb275-5"><a href="eda2.html#cb275-5" tabindex="-1"></a>  <span class="fu">stat_ecdf</span>() <span class="sc">+</span></span>
<span id="cb275-6"><a href="eda2.html#cb275-6" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb275-7"><a href="eda2.html#cb275-7" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>() <span class="sc">+</span></span>
<span id="cb275-8"><a href="eda2.html#cb275-8" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb275-9"><a href="eda2.html#cb275-9" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Quantile&quot;</span>) </span>
<span id="cb275-10"><a href="eda2.html#cb275-10" tabindex="-1"></a><span class="co"># create boxplot</span></span>
<span id="cb275-11"><a href="eda2.html#cb275-11" tabindex="-1"></a>box <span class="ot">&lt;-</span> ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(<span class="at">data =</span> tidy_mpg, </span>
<span id="cb275-12"><a href="eda2.html#cb275-12" tabindex="-1"></a>                       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> mpg, </span>
<span id="cb275-13"><a href="eda2.html#cb275-13" tabindex="-1"></a>                                     <span class="at">fill =</span> metric, </span>
<span id="cb275-14"><a href="eda2.html#cb275-14" tabindex="-1"></a>                                     <span class="at">y =</span> metric)) <span class="sc">+</span></span>
<span id="cb275-15"><a href="eda2.html#cb275-15" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">outlier.alpha =</span> <span class="fl">0.05</span>) <span class="sc">+</span></span>
<span id="cb275-16"><a href="eda2.html#cb275-16" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb275-17"><a href="eda2.html#cb275-17" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>() <span class="sc">+</span></span>
<span id="cb275-18"><a href="eda2.html#cb275-18" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb275-19"><a href="eda2.html#cb275-19" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Metric&quot;</span>) </span>
<span id="cb275-20"><a href="eda2.html#cb275-20" tabindex="-1"></a><span class="co"># create histogram</span></span>
<span id="cb275-21"><a href="eda2.html#cb275-21" tabindex="-1"></a>hist <span class="ot">&lt;-</span> ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(<span class="at">data =</span> tidy_mpg, </span>
<span id="cb275-22"><a href="eda2.html#cb275-22" tabindex="-1"></a>                       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> mpg, </span>
<span id="cb275-23"><a href="eda2.html#cb275-23" tabindex="-1"></a>                                     <span class="at">fill =</span> metric)) <span class="sc">+</span></span>
<span id="cb275-24"><a href="eda2.html#cb275-24" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">35</span>,</span>
<span id="cb275-25"><a href="eda2.html#cb275-25" tabindex="-1"></a>                 <span class="at">alpha =</span> <span class="fl">0.75</span>,</span>
<span id="cb275-26"><a href="eda2.html#cb275-26" tabindex="-1"></a>                 <span class="at">position =</span> <span class="st">&quot;stack&quot;</span>) <span class="sc">+</span></span>
<span id="cb275-27"><a href="eda2.html#cb275-27" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb275-28"><a href="eda2.html#cb275-28" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>() <span class="sc">+</span></span>
<span id="cb275-29"><a href="eda2.html#cb275-29" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Fuel Economy, mi/gal&quot;</span>) <span class="sc">+</span></span>
<span id="cb275-30"><a href="eda2.html#cb275-30" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Counts&quot;</span>)</span>
<span id="cb275-31"><a href="eda2.html#cb275-31" tabindex="-1"></a><span class="co"># embed plots into one figure</span></span>
<span id="cb275-32"><a href="eda2.html#cb275-32" tabindex="-1"></a>gridExtra<span class="sc">::</span><span class="fu">grid.arrange</span>(ecdf, box, hist, </span>
<span id="cb275-33"><a href="eda2.html#cb275-33" tabindex="-1"></a>                        <span class="at">widths =</span> <span class="fu">c</span>(<span class="fl">0.4</span>,<span class="dv">1</span>,<span class="fl">0.4</span>),</span>
<span id="cb275-34"><a href="eda2.html#cb275-34" tabindex="-1"></a>                        <span class="at">layout_matrix =</span> <span class="fu">rbind</span>(<span class="fu">c</span>(<span class="cn">NA</span>, <span class="dv">1</span>, <span class="cn">NA</span>),</span>
<span id="cb275-35"><a href="eda2.html#cb275-35" tabindex="-1"></a>                                              <span class="fu">c</span>(<span class="cn">NA</span>, <span class="dv">2</span>, <span class="cn">NA</span>),</span>
<span id="cb275-36"><a href="eda2.html#cb275-36" tabindex="-1"></a>                                              <span class="fu">c</span>(<span class="cn">NA</span>, <span class="dv">3</span>, <span class="cn">NA</span>)))</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:tidy-mpg-plot"></span>
<img src="07-multivar_eda_files/figure-html/tidy-mpg-plot-1.png" alt="Cumulative Distribution, Histogram, and Boxplots of 21st Centurty Vehicle Fuel Efficiency." width="672" />
<p class="caption">
Figure 7.9: Cumulative Distribution, Histogram, and Boxplots of 21st Centurty Vehicle Fuel Efficiency.
</p>
</div>
</div>
</div>
<div id="multivariate-time-series" class="section level3 hasAnchor" number="7.5.6">
<h3><span class="header-section-number">7.5.6</span> Multivariate time series<a href="eda2.html#multivariate-time-series" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Next, let’s look at a rough time series (by year) of all the combined fuel
economy values, <code>comb08</code>, for all vehicle observations. The fuel economy data
will be shown with boxplots, and we will use <code>group = year</code> as an aesthetic to
show the overall time series. We will use a log-scale y-axis due to the large
variation expected, and outliers will be made more transparent to soften their
effect.</p>
<div class="sourceCode" id="cb276"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb276-1"><a href="eda2.html#cb276-1" tabindex="-1"></a><span class="co"># create time series plot </span></span>
<span id="cb276-2"><a href="eda2.html#cb276-2" tabindex="-1"></a>e1 <span class="ot">&lt;-</span> ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(<span class="at">data =</span> df_mpg, </span>
<span id="cb276-3"><a href="eda2.html#cb276-3" tabindex="-1"></a>                      <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> year, </span>
<span id="cb276-4"><a href="eda2.html#cb276-4" tabindex="-1"></a>                                    <span class="at">y =</span> comb08)) <span class="sc">+</span></span>
<span id="cb276-5"><a href="eda2.html#cb276-5" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">group =</span> year),</span>
<span id="cb276-6"><a href="eda2.html#cb276-6" tabindex="-1"></a>               <span class="at">fill =</span> <span class="st">&quot;skyblue&quot;</span>,</span>
<span id="cb276-7"><a href="eda2.html#cb276-7" tabindex="-1"></a>               <span class="at">outlier.alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb276-8"><a href="eda2.html#cb276-8" tabindex="-1"></a>  <span class="fu">scale_y_log10</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">150</span>)) <span class="sc">+</span></span>
<span id="cb276-9"><a href="eda2.html#cb276-9" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Combined Fuel Efficiency (mi/gal)&quot;</span>) <span class="sc">+</span></span>
<span id="cb276-10"><a href="eda2.html#cb276-10" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;&quot;</span>) <span class="sc">+</span></span>
<span id="cb276-11"><a href="eda2.html#cb276-11" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">14</span>)</span>
<span id="cb276-12"><a href="eda2.html#cb276-12" tabindex="-1"></a><span class="co"># call plot</span></span>
<span id="cb276-13"><a href="eda2.html#cb276-13" tabindex="-1"></a>e1</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fuel-econ-ts"></span>
<img src="07-multivar_eda_files/figure-html/fuel-econ-ts-1.png" alt="Boxplots of fleet-wide fuel efficiency by year." width="672" />
<p class="caption">
Figure 7.10: Boxplots of fleet-wide fuel efficiency by year.
</p>
</div>
<div id="consider-context" class="section level4 hasAnchor" number="7.5.6.1">
<h4><span class="header-section-number">7.5.6.1</span> Consider context<a href="eda2.html#consider-context" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><a href="https://afdc.energy.gov/data/10562">This Department of Energy website</a> outlines
the <em>Corporate Average Fuel Economy</em> (CAFE) standards from the Environmental
Protection Agency that require vehicles to meet set fuel economy levels, in
terms of miles per gallon, or “mpg”, across the “fleet” of available vehicles.
Let’s load a .csv file named <code>cafe</code> and look at the requirements by year.</p>
<div class="sourceCode" id="cb277"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb277-1"><a href="eda2.html#cb277-1" tabindex="-1"></a><span class="co"># import data</span></span>
<span id="cb277-2"><a href="eda2.html#cb277-2" tabindex="-1"></a>cafe <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;./data/CAFE_stds.csv&quot;</span>, <span class="at">col_names =</span> <span class="fu">c</span>(<span class="st">&quot;year&quot;</span>, <span class="st">&quot;mpg_avg&quot;</span>), <span class="at">skip =</span> <span class="dv">1</span>)</span>
<span id="cb277-3"><a href="eda2.html#cb277-3" tabindex="-1"></a><span class="co"># plot cafe data</span></span>
<span id="cb277-4"><a href="eda2.html#cb277-4" tabindex="-1"></a>cafe.plot <span class="ot">&lt;-</span> ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(<span class="at">data =</span> cafe, </span>
<span id="cb277-5"><a href="eda2.html#cb277-5" tabindex="-1"></a>                    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">group =</span> year, </span>
<span id="cb277-6"><a href="eda2.html#cb277-6" tabindex="-1"></a>                                  <span class="at">y =</span> mpg_avg, </span>
<span id="cb277-7"><a href="eda2.html#cb277-7" tabindex="-1"></a>                                  <span class="at">x =</span> year)) <span class="sc">+</span> </span>
<span id="cb277-8"><a href="eda2.html#cb277-8" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">&quot;maroon&quot;</span>) <span class="sc">+</span> </span>
<span id="cb277-9"><a href="eda2.html#cb277-9" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb277-10"><a href="eda2.html#cb277-10" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, </span>
<span id="cb277-11"><a href="eda2.html#cb277-11" tabindex="-1"></a>                                   <span class="at">hjust =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb277-12"><a href="eda2.html#cb277-12" tabindex="-1"></a>  <span class="fu">labs</span>( <span class="at">y =</span> <span class="st">&quot;Required Average Fuel Efficiency (mpg)&quot;</span>, </span>
<span id="cb277-13"><a href="eda2.html#cb277-13" tabindex="-1"></a>        <span class="at">x =</span> <span class="st">&quot;Year&quot;</span>, </span>
<span id="cb277-14"><a href="eda2.html#cb277-14" tabindex="-1"></a>        <span class="at">title =</span> <span class="st">&quot;Federal Combined Average Fuel Economy (CAFE) Standards&quot;</span>)</span>
<span id="cb277-15"><a href="eda2.html#cb277-15" tabindex="-1"></a><span class="co"># call cafe plot</span></span>
<span id="cb277-16"><a href="eda2.html#cb277-16" tabindex="-1"></a>cafe.plot </span></code></pre></div>
<p><img src="07-multivar_eda_files/figure-html/CAFE-stds-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>This is a nice
<a href="https://www.edmunds.com/fuel-economy/faq-new-corporate-average-fuel-economy-standards.html">explanatory story</a>
of why the average fuel economy numbers don’t match well to the published CAFE
standards.</p>
</div>
</div>
<div id="density-plots" class="section level3 hasAnchor" number="7.5.7">
<h3><span class="header-section-number">7.5.7</span> Density plots<a href="eda2.html#density-plots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A <strong><em>density plot</em></strong> is akin to a <em>smoothed histogram</em>, where the y-axis depicts the frequency (or probability of occurrence) and the x-axis represents the magnitude of the observed variable. They are called though <code>ggplot2::geom_density</code> and <code>ggplot2::stat_density</code>. Density plots are useful when you have a lot of data (typically hundreds to thousands of observations) because they allow you to visualize the <strong>shape</strong> of a distribution - namely, it’s central tendency(ies), dispersion, and skew.</p>
<p>Create a series of geom_density plots showing combined fuel economy <code>comb08</code>
across all vehicles and years as a function of <code>fuel_type</code>. Break out the
different <code>fuel_type</code> categories into facets (ncol = 3).</p>
<div class="sourceCode" id="cb278"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb278-1"><a href="eda2.html#cb278-1" tabindex="-1"></a><span class="co"># density plot of combined fuel economy by fuel type with facets</span></span>
<span id="cb278-2"><a href="eda2.html#cb278-2" tabindex="-1"></a>g1 <span class="ot">&lt;-</span> ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(<span class="at">data =</span> df_mpg) <span class="sc">+</span></span>
<span id="cb278-3"><a href="eda2.html#cb278-3" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="fu">aes</span>(<span class="at">x =</span> comb08, <span class="co"># notice the different location option for x aes</span></span>
<span id="cb278-4"><a href="eda2.html#cb278-4" tabindex="-1"></a>                   <span class="at">fill =</span> fuel_type)) <span class="sc">+</span> </span>
<span id="cb278-5"><a href="eda2.html#cb278-5" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> fuel_type,</span>
<span id="cb278-6"><a href="eda2.html#cb278-6" tabindex="-1"></a>             <span class="at">ncol =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb278-7"><a href="eda2.html#cb278-7" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>() <span class="sc">+</span></span>
<span id="cb278-8"><a href="eda2.html#cb278-8" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb278-9"><a href="eda2.html#cb278-9" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span>
<span id="cb278-10"><a href="eda2.html#cb278-10" tabindex="-1"></a><span class="co"># call plot</span></span>
<span id="cb278-11"><a href="eda2.html#cb278-11" tabindex="-1"></a>g1</span></code></pre></div>
<p><img src="07-multivar_eda_files/figure-html/eda-fuel-1-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Now show the same plot without facets.</p>
<div class="sourceCode" id="cb279"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb279-1"><a href="eda2.html#cb279-1" tabindex="-1"></a><span class="co"># density plot of combined fuel economy by fuel type without facets</span></span>
<span id="cb279-2"><a href="eda2.html#cb279-2" tabindex="-1"></a>g2 <span class="ot">&lt;-</span> ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(<span class="at">data =</span> df_mpg, </span>
<span id="cb279-3"><a href="eda2.html#cb279-3" tabindex="-1"></a>                      <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> comb08)) <span class="sc">+</span> <span class="co"># now x aes is here </span></span>
<span id="cb279-4"><a href="eda2.html#cb279-4" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="fu">aes</span>(<span class="at">fill =</span> fuel_type),</span>
<span id="cb279-5"><a href="eda2.html#cb279-5" tabindex="-1"></a>               <span class="at">position =</span> <span class="st">&quot;identity&quot;</span>,</span>
<span id="cb279-6"><a href="eda2.html#cb279-6" tabindex="-1"></a>               <span class="at">alpha =</span> <span class="fl">0.6</span>,</span>
<span id="cb279-7"><a href="eda2.html#cb279-7" tabindex="-1"></a>               <span class="at">adjust =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb279-8"><a href="eda2.html#cb279-8" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>() <span class="sc">+</span></span>
<span id="cb279-9"><a href="eda2.html#cb279-9" tabindex="-1"></a>  <span class="fu">theme_bw</span>() </span>
<span id="cb279-10"><a href="eda2.html#cb279-10" tabindex="-1"></a><span class="co"># call plot</span></span>
<span id="cb279-11"><a href="eda2.html#cb279-11" tabindex="-1"></a>g2</span></code></pre></div>
<p><img src="07-multivar_eda_files/figure-html/eda-fuel-2-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>I like these plots because they lead to more questions (and that’s the <em>point</em> of exploratory data analysis)! Why are some of the categories bimodal? Why do many natural gas vehicles tend to have the lowest fuel efficiency? Are any of these vehicles tested on multiple fuel types? What is the most fuel efficient vehicle sold today?</p>
</div>
<div id="more-multivariate-plotting" class="section level3 hasAnchor" number="7.5.8">
<h3><span class="header-section-number">7.5.8</span> More multivariate plotting<a href="eda2.html#more-multivariate-plotting" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Next, let’s examine the effect of vehicle class on combined fuel economy for a
single year: 2023. Note, for the plot below, since <em>vehicle class</em> (<code>v_class</code>) is a <code>factor</code> type of variable, I can structure the plot to show <code>v_class</code> from lowest median efficiency to highest median efficiency (where the median is taken from each class based on the <code>highway_08</code> variable). This is accomplished with the <code>fct_reorder()</code> function from the <code>forcats::</code> package: <code>forcats::fct_reorder(.f = v_class, .x = highway, .fun = median)</code>.</p>
<div class="sourceCode" id="cb280"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb280-1"><a href="eda2.html#cb280-1" tabindex="-1"></a><span class="co"># filter to year 2024 and reorder factor levels </span></span>
<span id="cb280-2"><a href="eda2.html#cb280-2" tabindex="-1"></a>df_mpg<span class="fl">.2023</span> <span class="ot">&lt;-</span> df_mpg <span class="sc">%&gt;%</span></span>
<span id="cb280-3"><a href="eda2.html#cb280-3" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2023</span>) <span class="sc">%&gt;%</span></span>
<span id="cb280-4"><a href="eda2.html#cb280-4" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">v_class =</span> forcats<span class="sc">::</span><span class="fu">fct_reorder</span>(<span class="at">.f =</span> v_class, </span>
<span id="cb280-5"><a href="eda2.html#cb280-5" tabindex="-1"></a>                                               <span class="at">.x =</span> highway08, </span>
<span id="cb280-6"><a href="eda2.html#cb280-6" tabindex="-1"></a>                                               <span class="at">.fun =</span> median))</span>
<span id="cb280-7"><a href="eda2.html#cb280-7" tabindex="-1"></a><span class="co"># create plot of 2024 combined fuel economy</span></span>
<span id="cb280-8"><a href="eda2.html#cb280-8" tabindex="-1"></a>g1 <span class="ot">&lt;-</span> ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(<span class="at">data =</span> df_mpg<span class="fl">.2023</span>) <span class="sc">+</span> </span>
<span id="cb280-9"><a href="eda2.html#cb280-9" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> highway08, </span>
<span id="cb280-10"><a href="eda2.html#cb280-10" tabindex="-1"></a>                   <span class="at">color =</span> v_class, </span>
<span id="cb280-11"><a href="eda2.html#cb280-11" tabindex="-1"></a>                   <span class="at">y =</span> v_class)) <span class="sc">+</span> </span>
<span id="cb280-12"><a href="eda2.html#cb280-12" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>() <span class="sc">+</span></span>
<span id="cb280-13"><a href="eda2.html#cb280-13" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb280-14"><a href="eda2.html#cb280-14" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;&quot;</span>) <span class="sc">+</span></span>
<span id="cb280-15"><a href="eda2.html#cb280-15" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Highway Fuel Economy&quot;</span>) <span class="sc">+</span></span>
<span id="cb280-16"><a href="eda2.html#cb280-16" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span>
<span id="cb280-17"><a href="eda2.html#cb280-17" tabindex="-1"></a><span class="co"># call plot</span></span>
<span id="cb280-18"><a href="eda2.html#cb280-18" tabindex="-1"></a>g1</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:v-class"></span>
<img src="07-multivar_eda_files/figure-html/v-class-1.png" alt="Highway Fuel Economy for 2023 Vehicles by Type" width="672" />
<p class="caption">
Figure 7.11: Highway Fuel Economy for 2023 Vehicles by Type
</p>
</div>
</div>
<div id="practice-questions" class="section level3 hasAnchor" number="7.5.9">
<h3><span class="header-section-number">7.5.9</span> Practice questions<a href="eda2.html#practice-questions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Finally, let’s ask some simple questions and use some basic data wrangling to
get the answers.</p>
<p><strong>Question 1</strong></p>
<p>Among 4-cylinder vehicles with Front-Wheel Drive, what make/model has the best highway fuel economy in 2018?</p>
<div class="sourceCode" id="cb281"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb281-1"><a href="eda2.html#cb281-1" tabindex="-1"></a>df_mpg <span class="sc">%&gt;%</span></span>
<span id="cb281-2"><a href="eda2.html#cb281-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(cyl <span class="sc">==</span> <span class="dv">4</span>, </span>
<span id="cb281-3"><a href="eda2.html#cb281-3" tabindex="-1"></a>                drive <span class="sc">==</span> <span class="st">&quot;Front-Wheel Drive&quot;</span>, </span>
<span id="cb281-4"><a href="eda2.html#cb281-4" tabindex="-1"></a>                year <span class="sc">==</span> <span class="dv">2018</span>) <span class="sc">%&gt;%</span></span>
<span id="cb281-5"><a href="eda2.html#cb281-5" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">slice_max</span>(<span class="at">order_by =</span> highway08, </span>
<span id="cb281-6"><a href="eda2.html#cb281-6" tabindex="-1"></a>                   <span class="at">n =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb281-7"><a href="eda2.html#cb281-7" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(make, model, drive, year, highway08)</span></code></pre></div>
<pre><code>## # A tibble: 1 × 5
##   make    model      drive              year highway08
##   &lt;fct&gt;   &lt;chr&gt;      &lt;fct&gt;             &lt;dbl&gt;     &lt;dbl&gt;
## 1 Hyundai Ioniq Blue Front-Wheel Drive  2018        59</code></pre>
<p><strong>Question 2</strong></p>
<p>Among 8-cylinder vehicles with Rear-Wheel Drive, what make/model has the
worst city fuel economy in 2019?</p>
<div class="sourceCode" id="cb283"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb283-1"><a href="eda2.html#cb283-1" tabindex="-1"></a>df_mpg <span class="sc">%&gt;%</span></span>
<span id="cb283-2"><a href="eda2.html#cb283-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(cyl <span class="sc">==</span> <span class="dv">8</span>,</span>
<span id="cb283-3"><a href="eda2.html#cb283-3" tabindex="-1"></a>                drive <span class="sc">==</span> <span class="st">&quot;Rear-Wheel Drive&quot;</span>,</span>
<span id="cb283-4"><a href="eda2.html#cb283-4" tabindex="-1"></a>                year <span class="sc">==</span> <span class="dv">2019</span>) <span class="sc">%&gt;%</span></span>
<span id="cb283-5"><a href="eda2.html#cb283-5" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">slice_min</span>(<span class="at">order_by =</span> city08) <span class="sc">%&gt;%</span></span>
<span id="cb283-6"><a href="eda2.html#cb283-6" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(make, model, drive, year, city08)</span></code></pre></div>
<pre><code>## # A tibble: 1 × 5
##   make    model    drive             year city08
##   &lt;fct&gt;   &lt;chr&gt;    &lt;fct&gt;            &lt;dbl&gt;  &lt;dbl&gt;
## 1 Bentley Mulsanne Rear-Wheel Drive  2019     10</code></pre>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:Q2a"></span>
<img src="images/Bentley_Mulsanne_2019.jpg" alt="The Bentley Mulsanne: $330k lets you park it on the sidewalk!" width="450pt" />
<p class="caption">
Figure 7.12: The Bentley Mulsanne: $330k lets you park it on the sidewalk!
</p>
</div>
<p><strong>Question 3</strong></p>
<p>Among 2021 vehicles from the <code>tidy_mpg</code> data frame, rank the highest-performing vehicle from each manufacturer in terms of fuel efficiency (<code>mpg</code>). Pass the search result into a table using the <code>kable()</code> function.</p>
<div class="sourceCode" id="cb285"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb285-1"><a href="eda2.html#cb285-1" tabindex="-1"></a>tidy_mpg <span class="sc">%&gt;%</span></span>
<span id="cb285-2"><a href="eda2.html#cb285-2" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2021</span>) <span class="sc">%&gt;%</span></span>
<span id="cb285-3"><a href="eda2.html#cb285-3" tabindex="-1"></a>  <span class="fu">group_by</span>(make) <span class="sc">%&gt;%</span></span>
<span id="cb285-4"><a href="eda2.html#cb285-4" tabindex="-1"></a>  <span class="fu">slice_max</span>(mpg, <span class="at">n =</span><span class="dv">1</span>,  <span class="at">with_ties =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb285-5"><a href="eda2.html#cb285-5" tabindex="-1"></a>  <span class="fu">select</span>(make, model, mpg) <span class="sc">%&gt;%</span></span>
<span id="cb285-6"><a href="eda2.html#cb285-6" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>mpg) <span class="sc">%&gt;%</span></span>
<span id="cb285-7"><a href="eda2.html#cb285-7" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">&quot;html&quot;</span>)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
make
</th>
<th style="text-align:left;">
model
</th>
<th style="text-align:right;">
mpg
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Tesla
</td>
<td style="text-align:left;">
Model 3 Standard Range Plus RWD
</td>
<td style="text-align:right;">
150
</td>
</tr>
<tr>
<td style="text-align:left;">
Hyundai
</td>
<td style="text-align:left;">
Ioniq Electric
</td>
<td style="text-align:right;">
145
</td>
</tr>
<tr>
<td style="text-align:left;">
Chevrolet
</td>
<td style="text-align:left;">
Bolt EV
</td>
<td style="text-align:right;">
127
</td>
</tr>
<tr>
<td style="text-align:left;">
Kandi
</td>
<td style="text-align:left;">
K27
</td>
<td style="text-align:right;">
127
</td>
</tr>
<tr>
<td style="text-align:left;">
BMW
</td>
<td style="text-align:left;">
i3s
</td>
<td style="text-align:right;">
124
</td>
</tr>
<tr>
<td style="text-align:left;">
Kia
</td>
<td style="text-align:left;">
Niro Electric
</td>
<td style="text-align:right;">
123
</td>
</tr>
<tr>
<td style="text-align:left;">
Nissan
</td>
<td style="text-align:left;">
Leaf (40 kW-hr battery pack)
</td>
<td style="text-align:right;">
123
</td>
</tr>
<tr>
<td style="text-align:left;">
MINI
</td>
<td style="text-align:left;">
Cooper SE Hardtop 2 door
</td>
<td style="text-align:right;">
115
</td>
</tr>
<tr>
<td style="text-align:left;">
Ford
</td>
<td style="text-align:left;">
Mustang Mach-E RWD California Route 1
</td>
<td style="text-align:right;">
108
</td>
</tr>
<tr>
<td style="text-align:left;">
Volkswagen
</td>
<td style="text-align:left;">
ID.4 Pro
</td>
<td style="text-align:right;">
107
</td>
</tr>
<tr>
<td style="text-align:left;">
Polestar
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
96
</td>
</tr>
<tr>
<td style="text-align:left;">
Volvo
</td>
<td style="text-align:left;">
XC40 AWD BEV
</td>
<td style="text-align:right;">
85
</td>
</tr>
<tr>
<td style="text-align:left;">
Porsche
</td>
<td style="text-align:left;">
Taycan Perf Battery
</td>
<td style="text-align:right;">
84
</td>
</tr>
<tr>
<td style="text-align:left;">
Jaguar
</td>
<td style="text-align:left;">
I-Pace EV400
</td>
<td style="text-align:right;">
80
</td>
</tr>
<tr>
<td style="text-align:left;">
Audi
</td>
<td style="text-align:left;">
e-tron
</td>
<td style="text-align:right;">
78
</td>
</tr>
<tr>
<td style="text-align:left;">
Toyota
</td>
<td style="text-align:left;">
Mirai XLE
</td>
<td style="text-align:right;">
76
</td>
</tr>
<tr>
<td style="text-align:left;">
Honda
</td>
<td style="text-align:left;">
Clarity FCV
</td>
<td style="text-align:right;">
68
</td>
</tr>
<tr>
<td style="text-align:left;">
Lexus
</td>
<td style="text-align:left;">
ES 300h
</td>
<td style="text-align:right;">
44
</td>
</tr>
<tr>
<td style="text-align:left;">
Mitsubishi
</td>
<td style="text-align:left;">
Mirage
</td>
<td style="text-align:right;">
43
</td>
</tr>
<tr>
<td style="text-align:left;">
Mazda
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
40
</td>
</tr>
<tr>
<td style="text-align:left;">
Mercedes-Benz
</td>
<td style="text-align:left;">
A220
</td>
<td style="text-align:right;">
36
</td>
</tr>
<tr>
<td style="text-align:left;">
Subaru
</td>
<td style="text-align:left;">
Impreza 4-Door
</td>
<td style="text-align:right;">
36
</td>
</tr>
<tr>
<td style="text-align:left;">
Acura
</td>
<td style="text-align:left;">
ILX
</td>
<td style="text-align:right;">
34
</td>
</tr>
<tr>
<td style="text-align:left;">
Cadillac
</td>
<td style="text-align:left;">
CT4
</td>
<td style="text-align:right;">
34
</td>
</tr>
<tr>
<td style="text-align:left;">
Lincoln
</td>
<td style="text-align:left;">
Corsair AWD PHEV
</td>
<td style="text-align:right;">
34
</td>
</tr>
<tr>
<td style="text-align:left;">
Alfa Romeo
</td>
<td style="text-align:left;">
Giulia
</td>
<td style="text-align:right;">
33
</td>
</tr>
<tr>
<td style="text-align:left;">
Ram
</td>
<td style="text-align:left;">
1500 HFE 2WD
</td>
<td style="text-align:right;">
33
</td>
</tr>
<tr>
<td style="text-align:left;">
Buick
</td>
<td style="text-align:left;">
Encore GX FWD
</td>
<td style="text-align:right;">
32
</td>
</tr>
<tr>
<td style="text-align:left;">
Genesis
</td>
<td style="text-align:left;">
G80 RWD
</td>
<td style="text-align:right;">
32
</td>
</tr>
<tr>
<td style="text-align:left;">
Jeep
</td>
<td style="text-align:left;">
Renegade 2WD
</td>
<td style="text-align:right;">
32
</td>
</tr>
<tr>
<td style="text-align:left;">
Chrysler
</td>
<td style="text-align:left;">
300
</td>
<td style="text-align:right;">
30
</td>
</tr>
<tr>
<td style="text-align:left;">
Dodge
</td>
<td style="text-align:left;">
Challenger
</td>
<td style="text-align:right;">
30
</td>
</tr>
<tr>
<td style="text-align:left;">
Fiat
</td>
<td style="text-align:left;">
500X AWD
</td>
<td style="text-align:right;">
30
</td>
</tr>
<tr>
<td style="text-align:left;">
GMC
</td>
<td style="text-align:left;">
Canyon 2WD
</td>
<td style="text-align:right;">
30
</td>
</tr>
<tr>
<td style="text-align:left;">
Infiniti
</td>
<td style="text-align:left;">
QX50
</td>
<td style="text-align:right;">
29
</td>
</tr>
<tr>
<td style="text-align:left;">
Land Rover
</td>
<td style="text-align:left;">
Range Rover
</td>
<td style="text-align:right;">
28
</td>
</tr>
<tr>
<td style="text-align:left;">
Karma
</td>
<td style="text-align:left;">
GS-6 (21-inch wheels)
</td>
<td style="text-align:right;">
27
</td>
</tr>
<tr>
<td style="text-align:left;">
Bentley
</td>
<td style="text-align:left;">
Continental GT Convertible
</td>
<td style="text-align:right;">
26
</td>
</tr>
<tr>
<td style="text-align:left;">
Lotus
</td>
<td style="text-align:left;">
Evora GT
</td>
<td style="text-align:right;">
26
</td>
</tr>
<tr>
<td style="text-align:left;">
Maserati
</td>
<td style="text-align:left;">
Ghibli
</td>
<td style="text-align:right;">
25
</td>
</tr>
<tr>
<td style="text-align:left;">
Aston Martin
</td>
<td style="text-align:left;">
Vantage V8
</td>
<td style="text-align:right;">
24
</td>
</tr>
<tr>
<td style="text-align:left;">
Ferrari
</td>
<td style="text-align:left;">
Portofino M
</td>
<td style="text-align:right;">
23
</td>
</tr>
<tr>
<td style="text-align:left;">
McLaren Automotive
</td>
<td style="text-align:left;">
GT
</td>
<td style="text-align:right;">
22
</td>
</tr>
<tr>
<td style="text-align:left;">
Rolls-Royce
</td>
<td style="text-align:left;">
Phantom
</td>
<td style="text-align:right;">
20
</td>
</tr>
<tr>
<td style="text-align:left;">
Roush Performance
</td>
<td style="text-align:left;">
Mustang
</td>
<td style="text-align:right;">
19
</td>
</tr>
<tr>
<td style="text-align:left;">
Lamborghini
</td>
<td style="text-align:left;">
Huracan
</td>
<td style="text-align:right;">
18
</td>
</tr>
<tr>
<td style="text-align:left;">
Bugatti
</td>
<td style="text-align:left;">
Chiron
</td>
<td style="text-align:right;">
14
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="chapter-7-homework" class="section level2 hasAnchor" number="7.6">
<h2><span class="header-section-number">7.6</span> Chapter 7 Homework<a href="eda2.html#chapter-7-homework" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>You will continue to explore data from the National Science Foundation 2017
<a href="https://www.nsf.gov/statistics/srvygrads/" target="_blank">National Survey of Graduates</a>, which were introduced in an earlier chapter.</p>
<p>From Canvas, download the R Markdown template and the reduced dataset (.csv)
containing salary, age, and gender information. Your knitted submission is due
at the start of the class for the exam review.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="rprog3.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="rprog4.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
