<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 7 Multivariate Data Exploration | Engineering Data Analysis in R</title>
  <meta name="description" content="This is an undergraduate technical elective course for mechanical engineers who wish to lean about data analysis using the R programming language." />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 7 Multivariate Data Exploration | Engineering Data Analysis in R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is an undergraduate technical elective course for mechanical engineers who wish to lean about data analysis using the R programming language." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 7 Multivariate Data Exploration | Engineering Data Analysis in R" />
  
  <meta name="twitter:description" content="This is an undergraduate technical elective course for mechanical engineers who wish to lean about data analysis using the R programming language." />
  

<meta name="author" content="John Volckens and Kathleen E. Wendt" />


<meta name="date" content="2020-09-11" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="rprog3.html"/>
<link rel="next" href="rprog4.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Engineering Data Analysis in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#how-to-use-this-book"><i class="fa fa-check"></i><b>1.1</b> How to use this book</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#prerequisites"><i class="fa fa-check"></i><b>1.2</b> Prerequisites</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#grading"><i class="fa fa-check"></i><b>1.3</b> Grading</a><ul>
<li class="chapter" data-level="1.3.1" data-path="index.html"><a href="index.html#grading-for-mech-481a6"><i class="fa fa-check"></i><b>1.3.1</b> Grading for MECH 481A6</a></li>
<li class="chapter" data-level="1.3.2" data-path="index.html"><a href="index.html#homework-submission"><i class="fa fa-check"></i><b>1.3.2</b> Homework submission</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#course-set-up"><i class="fa fa-check"></i><b>1.4</b> Course set-up</a><ul>
<li class="chapter" data-level="1.4.1" data-path="index.html"><a href="index.html#install-r-and-rstudio"><i class="fa fa-check"></i><b>1.4.1</b> Install R and RStudio</a></li>
<li class="chapter" data-level="1.4.2" data-path="index.html"><a href="index.html#install-git-and-create-a-github-account"><i class="fa fa-check"></i><b>1.4.2</b> Install Git and create a GitHub account</a></li>
<li class="chapter" data-level="1.4.3" data-path="index.html"><a href="index.html#connect-git-github-and-rstudio"><i class="fa fa-check"></i><b>1.4.3</b> Connect Git, GitHub, and RStudio</a></li>
<li class="chapter" data-level="1.4.4" data-path="index.html"><a href="index.html#create-new-project-github-first"><i class="fa fa-check"></i><b>1.4.4</b> Create new project, GitHub first</a></li>
<li class="chapter" data-level="1.4.5" data-path="index.html"><a href="index.html#use-rstudiogithub-system-for-homework-submission"><i class="fa fa-check"></i><b>1.4.5</b> Use RStudio/GitHub system for homework submission</a></li>
<li class="chapter" data-level="1.4.6" data-path="index.html"><a href="index.html#confirm-successful-set-up"><i class="fa fa-check"></i><b>1.4.6</b> Confirm successful set-up</a></li>
<li class="chapter" data-level="1.4.7" data-path="index.html"><a href="index.html#asking-for-help-properly"><i class="fa fa-check"></i><b>1.4.7</b> Asking for help (properly)</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#coursebook"><i class="fa fa-check"></i><b>1.5</b> Coursebook</a><ul>
<li class="chapter" data-level="1.5.1" data-path="index.html"><a href="index.html#other-helpful-books-not-required"><i class="fa fa-check"></i><b>1.5.1</b> Other helpful books (not required)</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i><b>1.6</b> Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="rprog1.html"><a href="rprog1.html"><i class="fa fa-check"></i><b>2</b> The R Programming Environment</a><ul>
<li class="chapter" data-level="2.1" data-path="rprog1.html"><a href="rprog1.html#ch.-2-objectives"><i class="fa fa-check"></i><b>2.1</b> Ch. 2 Objectives</a></li>
<li class="chapter" data-level="2.2" data-path="rprog1.html"><a href="rprog1.html#r-and-r-studio"><i class="fa fa-check"></i><b>2.2</b> R and R Studio</a><ul>
<li class="chapter" data-level="2.2.1" data-path="rprog1.html"><a href="rprog1.html#what-is-r"><i class="fa fa-check"></i><b>2.2.1</b> What is R?</a></li>
<li class="chapter" data-level="2.2.2" data-path="rprog1.html"><a href="rprog1.html#free-and-open-source-software"><i class="fa fa-check"></i><b>2.2.2</b> Free and open-source software</a></li>
<li class="chapter" data-level="2.2.3" data-path="rprog1.html"><a href="rprog1.html#what-is-rstudio"><i class="fa fa-check"></i><b>2.2.3</b> What is RStudio?</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="rprog1.html"><a href="rprog1.html#communicating-with-r"><i class="fa fa-check"></i><b>2.3</b> Communicating with R</a><ul>
<li class="chapter" data-level="2.3.1" data-path="rprog1.html"><a href="rprog1.html#r-sessions-console-and-command-prompt"><i class="fa fa-check"></i><b>2.3.1</b> R sessions, console, and command prompt</a></li>
<li class="chapter" data-level="2.3.2" data-path="rprog1.html"><a href="rprog1.html#r-expressions-function-calls-and-objects"><i class="fa fa-check"></i><b>2.3.2</b> R expressions, function calls, and objects</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="rprog1.html"><a href="rprog1.html#r-scripts"><i class="fa fa-check"></i><b>2.4</b> R scripts</a><ul>
<li class="chapter" data-level="2.4.1" data-path="rprog1.html"><a href="rprog1.html#commenting-code"><i class="fa fa-check"></i><b>2.4.1</b> Commenting code</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="rprog1.html"><a href="rprog1.html#the-package-system"><i class="fa fa-check"></i><b>2.5</b> The “package” system</a><ul>
<li class="chapter" data-level="2.5.1" data-path="rprog1.html"><a href="rprog1.html#r-packages"><i class="fa fa-check"></i><b>2.5.1</b> R packages</a></li>
<li class="chapter" data-level="2.5.2" data-path="rprog1.html"><a href="rprog1.html#installing-from-cran"><i class="fa fa-check"></i><b>2.5.2</b> Installing from CRAN</a></li>
<li class="chapter" data-level="2.5.3" data-path="rprog1.html"><a href="rprog1.html#loading-an-installed-package"><i class="fa fa-check"></i><b>2.5.3</b> Loading an installed package</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="rprog1.html"><a href="rprog1.html#rs-most-basic-object-types"><i class="fa fa-check"></i><b>2.6</b> R’s most basic object types</a><ul>
<li class="chapter" data-level="2.6.1" data-path="rprog1.html"><a href="rprog1.html#vectors"><i class="fa fa-check"></i><b>2.6.1</b> Vectors</a></li>
<li class="chapter" data-level="2.6.2" data-path="rprog1.html"><a href="rprog1.html#dataframes"><i class="fa fa-check"></i><b>2.6.2</b> Dataframes</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="rprog1.html"><a href="rprog1.html#chapter-2-exercises"><i class="fa fa-check"></i><b>2.7</b> Chapter 2 Exercises</a><ul>
<li class="chapter" data-level="2.7.1" data-path="rprog1.html"><a href="rprog1.html#set-1-session-helpfiles-scripts-and-objects"><i class="fa fa-check"></i><b>2.7.1</b> Set 1: Session, helpfiles, scripts, and objects</a></li>
<li class="chapter" data-level="2.7.2" data-path="rprog1.html"><a href="rprog1.html#set-2-loading-and-using-packages"><i class="fa fa-check"></i><b>2.7.2</b> Set 2: Loading and using packages</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="rprog1.html"><a href="rprog1.html#chapter-2-homework"><i class="fa fa-check"></i><b>2.8</b> Chapter 2 Homework</a><ul>
<li class="chapter" data-level="2.8.1" data-path="rprog1.html"><a href="rprog1.html#special-swirl-commands"><i class="fa fa-check"></i><b>2.8.1</b> Special <code>swirl</code> commands</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="rprog2.html"><a href="rprog2.html"><i class="fa fa-check"></i><b>3</b> Getting and Cleaning Data</a><ul>
<li class="chapter" data-level="3.1" data-path="rprog2.html"><a href="rprog2.html#ch.-3-objectives"><i class="fa fa-check"></i><b>3.1</b> Ch. 3 Objectives</a></li>
<li class="chapter" data-level="3.2" data-path="rprog2.html"><a href="rprog2.html#overview"><i class="fa fa-check"></i><b>3.2</b> Overview</a></li>
<li class="chapter" data-level="3.3" data-path="rprog2.html"><a href="rprog2.html#reading-data-into-r"><i class="fa fa-check"></i><b>3.3</b> Reading data into R</a><ul>
<li class="chapter" data-level="3.3.1" data-path="rprog2.html"><a href="rprog2.html#reading-local-flat-files"><i class="fa fa-check"></i><b>3.3.1</b> Reading local flat files</a></li>
<li class="chapter" data-level="3.3.2" data-path="rprog2.html"><a href="rprog2.html#reading-in-other-file-types"><i class="fa fa-check"></i><b>3.3.2</b> Reading in other file types</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="rprog2.html"><a href="rprog2.html#directories-and-pathnames"><i class="fa fa-check"></i><b>3.4</b> Directories and pathnames</a><ul>
<li class="chapter" data-level="3.4.1" data-path="rprog2.html"><a href="rprog2.html#directory-structure"><i class="fa fa-check"></i><b>3.4.1</b> Directory structure</a></li>
<li class="chapter" data-level="3.4.2" data-path="rprog2.html"><a href="rprog2.html#working-directory"><i class="fa fa-check"></i><b>3.4.2</b> Working directory</a></li>
<li class="chapter" data-level="3.4.3" data-path="rprog2.html"><a href="rprog2.html#file-and-directory-pathnames"><i class="fa fa-check"></i><b>3.4.3</b> File and directory pathnames</a></li>
<li class="chapter" data-level="3.4.4" data-path="rprog2.html"><a href="rprog2.html#tangent-paste"><i class="fa fa-check"></i><b>3.4.4</b> Tangent: <code>paste</code></a></li>
<li class="chapter" data-level="3.4.5" data-path="rprog2.html"><a href="rprog2.html#reading-online-flat-files"><i class="fa fa-check"></i><b>3.4.5</b> Reading online flat files</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="rprog2.html"><a href="rprog2.html#data-cleaning"><i class="fa fa-check"></i><b>3.5</b> Data cleaning</a><ul>
<li class="chapter" data-level="3.5.1" data-path="rprog2.html"><a href="rprog2.html#renaming-columns"><i class="fa fa-check"></i><b>3.5.1</b> Renaming columns</a></li>
<li class="chapter" data-level="3.5.2" data-path="rprog2.html"><a href="rprog2.html#selecting-columns"><i class="fa fa-check"></i><b>3.5.2</b> Selecting columns</a></li>
<li class="chapter" data-level="3.5.3" data-path="rprog2.html"><a href="rprog2.html#add-or-change-columns"><i class="fa fa-check"></i><b>3.5.3</b> Add or change columns</a></li>
<li class="chapter" data-level="3.5.4" data-path="rprog2.html"><a href="rprog2.html#base-r-equivalents-to-dplyr-functions"><i class="fa fa-check"></i><b>3.5.4</b> Base R equivalents to <code>dplyr</code> functions</a></li>
<li class="chapter" data-level="3.5.5" data-path="rprog2.html"><a href="rprog2.html#filtering-to-certain-rows"><i class="fa fa-check"></i><b>3.5.5</b> Filtering to certain rows</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="rprog2.html"><a href="rprog2.html#piping"><i class="fa fa-check"></i><b>3.6</b> Piping</a></li>
<li class="chapter" data-level="3.7" data-path="rprog2.html"><a href="rprog2.html#markdowns"><i class="fa fa-check"></i><b>3.7</b> Markdowns</a><ul>
<li class="chapter" data-level="3.7.1" data-path="rprog2.html"><a href="rprog2.html#r-markdowns"><i class="fa fa-check"></i><b>3.7.1</b> R Markdowns</a></li>
<li class="chapter" data-level="3.7.2" data-path="rprog2.html"><a href="rprog2.html#header"><i class="fa fa-check"></i><b>3.7.2</b> Header</a></li>
<li class="chapter" data-level="3.7.3" data-path="rprog2.html"><a href="rprog2.html#text"><i class="fa fa-check"></i><b>3.7.3</b> Text</a></li>
<li class="chapter" data-level="3.7.4" data-path="rprog2.html"><a href="rprog2.html#code-chunks"><i class="fa fa-check"></i><b>3.7.4</b> Code Chunks</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="rprog2.html"><a href="rprog2.html#chapter-3-exercises"><i class="fa fa-check"></i><b>3.8</b> Chapter 3 Exercises</a><ul>
<li class="chapter" data-level="3.8.1" data-path="rprog2.html"><a href="rprog2.html#set-1-pathnames-and-data-import"><i class="fa fa-check"></i><b>3.8.1</b> Set 1: Pathnames and data import</a></li>
<li class="chapter" data-level="3.8.2" data-path="rprog2.html"><a href="rprog2.html#set-2-data-wrangling-and-piping"><i class="fa fa-check"></i><b>3.8.2</b> Set 2: Data wrangling and piping</a></li>
<li class="chapter" data-level="3.8.3" data-path="rprog2.html"><a href="rprog2.html#set-3-r-markdown"><i class="fa fa-check"></i><b>3.8.3</b> Set 3: R Markdown</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="rprog2.html"><a href="rprog2.html#chapter-3-homework"><i class="fa fa-check"></i><b>3.9</b> Chapter 3 Homework</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="dataviz.html"><a href="dataviz.html"><i class="fa fa-check"></i><b>4</b> Data Visualization with <code>ggplot2</code></a><ul>
<li class="chapter" data-level="4.1" data-path="dataviz.html"><a href="dataviz.html#ch.-4-objectives"><i class="fa fa-check"></i><b>4.1</b> Ch. 4 Objectives</a></li>
<li class="chapter" data-level="4.2" data-path="dataviz.html"><a href="dataviz.html#install-and-load-ggplot2"><i class="fa fa-check"></i><b>4.2</b> Install and load <code>ggplot2</code></a></li>
<li class="chapter" data-level="4.3" data-path="dataviz.html"><a href="dataviz.html#steps-to-create-a-ggplot2-object"><i class="fa fa-check"></i><b>4.3</b> Steps to create a <code>ggplot2</code> object</a></li>
<li class="chapter" data-level="4.4" data-path="dataviz.html"><a href="dataviz.html#initializing-a-ggplot2-object"><i class="fa fa-check"></i><b>4.4</b> Initializing a <code>ggplot2</code> object</a></li>
<li class="chapter" data-level="4.5" data-path="dataviz.html"><a href="dataviz.html#plot-aesthetics"><i class="fa fa-check"></i><b>4.5</b> Plot aesthetics</a></li>
<li class="chapter" data-level="4.6" data-path="dataviz.html"><a href="dataviz.html#adding-geoms"><i class="fa fa-check"></i><b>4.6</b> Adding geoms</a><ul>
<li class="chapter" data-level="4.6.1" data-path="dataviz.html"><a href="dataviz.html#aesthetic-override-a-warning"><i class="fa fa-check"></i><b>4.6.1</b> Aesthetic override: a warning</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="dataviz.html"><a href="dataviz.html#shapes-and-colors"><i class="fa fa-check"></i><b>4.7</b> Shapes and colors</a></li>
<li class="chapter" data-level="4.8" data-path="dataviz.html"><a href="dataviz.html#scales-useful-plot-edits"><i class="fa fa-check"></i><b>4.8</b> Scales: useful plot edits</a></li>
<li class="chapter" data-level="4.9" data-path="dataviz.html"><a href="dataviz.html#ggplot2-example-1"><i class="fa fa-check"></i><b>4.9</b> ggplot2 example 1</a></li>
<li class="chapter" data-level="4.10" data-path="dataviz.html"><a href="dataviz.html#ggplot2-example-2"><i class="fa fa-check"></i><b>4.10</b> ggplot2 example 2</a></li>
<li class="chapter" data-level="4.11" data-path="dataviz.html"><a href="dataviz.html#store-and-save-ggplot2-objects"><i class="fa fa-check"></i><b>4.11</b> Store and save <code>ggplot2</code> objects</a></li>
<li class="chapter" data-level="4.12" data-path="dataviz.html"><a href="dataviz.html#getting-help-with-ggplot2"><i class="fa fa-check"></i><b>4.12</b> Getting help with <code>ggplot2</code></a></li>
<li class="chapter" data-level="4.13" data-path="dataviz.html"><a href="dataviz.html#ch-4-exercises"><i class="fa fa-check"></i><b>4.13</b> Ch-4 Exercises</a></li>
<li class="chapter" data-level="4.14" data-path="dataviz.html"><a href="dataviz.html#ch-4-homework"><i class="fa fa-check"></i><b>4.14</b> Ch-4 Homework</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="eda1.html"><a href="eda1.html"><i class="fa fa-check"></i><b>5</b> Univariate Data Exploration</a><ul>
<li class="chapter" data-level="5.1" data-path="eda1.html"><a href="eda1.html#ch.-5-objectives"><i class="fa fa-check"></i><b>5.1</b> Ch. 5 Objectives</a></li>
<li class="chapter" data-level="5.2" data-path="eda1.html"><a href="eda1.html#univariate-data"><i class="fa fa-check"></i><b>5.2</b> Univariate Data</a><ul>
<li class="chapter" data-level="5.2.1" data-path="eda1.html"><a href="eda1.html#location-dispersion-and-shape"><i class="fa fa-check"></i><b>5.2.1</b> Location, Dispersion, and Shape</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="eda1.html"><a href="eda1.html#quantiles"><i class="fa fa-check"></i><b>5.3</b> Quantiles</a><ul>
<li class="chapter" data-level="5.3.1" data-path="eda1.html"><a href="eda1.html#descriptive-statistics"><i class="fa fa-check"></i><b>5.3.1</b> Descriptive Statistics</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="eda1.html"><a href="eda1.html#univariate-data-visualization"><i class="fa fa-check"></i><b>5.4</b> Univariate Data Visualization</a><ul>
<li class="chapter" data-level="5.4.1" data-path="eda1.html"><a href="eda1.html#summary-vs.-enumerative-plots"><i class="fa fa-check"></i><b>5.4.1</b> Summary vs. Enumerative Plots</a></li>
<li class="chapter" data-level="5.4.2" data-path="eda1.html"><a href="eda1.html#cumulative-distribution-plot"><i class="fa fa-check"></i><b>5.4.2</b> Cumulative Distribution Plot</a></li>
<li class="chapter" data-level="5.4.3" data-path="eda1.html"><a href="eda1.html#hist"><i class="fa fa-check"></i><b>5.4.3</b> Histogram</a></li>
<li class="chapter" data-level="5.4.4" data-path="eda1.html"><a href="eda1.html#box"><i class="fa fa-check"></i><b>5.4.4</b> Boxplot</a></li>
<li class="chapter" data-level="5.4.5" data-path="eda1.html"><a href="eda1.html#time_series"><i class="fa fa-check"></i><b>5.4.5</b> Time-Series Plot</a></li>
<li class="chapter" data-level="5.4.6" data-path="eda1.html"><a href="eda1.html#autocorr"><i class="fa fa-check"></i><b>5.4.6</b> Autocorrelation Plot</a></li>
<li class="chapter" data-level="5.4.7" data-path="eda1.html"><a href="eda1.html#partial-autocorrelation-plot"><i class="fa fa-check"></i><b>5.4.7</b> Partial Autocorrelation Plot</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="eda1.html"><a href="eda1.html#exploring-data"><i class="fa fa-check"></i><b>5.5</b> Exploring Data</a></li>
<li class="chapter" data-level="5.6" data-path="eda1.html"><a href="eda1.html#ch-5-exercises"><i class="fa fa-check"></i><b>5.6</b> Ch-5 Exercises</a></li>
<li class="chapter" data-level="5.7" data-path="eda1.html"><a href="eda1.html#ch-5-homework"><i class="fa fa-check"></i><b>5.7</b> Ch-5 Homework</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="rprog3.html"><a href="rprog3.html"><i class="fa fa-check"></i><b>6</b> Strings, Dates, and Tidying</a><ul>
<li class="chapter" data-level="6.1" data-path="rprog3.html"><a href="rprog3.html#ch.-6-objectives"><i class="fa fa-check"></i><b>6.1</b> Ch. 6 Objectives</a></li>
<li class="chapter" data-level="6.2" data-path="rprog3.html"><a href="rprog3.html#strings"><i class="fa fa-check"></i><b>6.2</b> Strings</a><ul>
<li class="chapter" data-level="6.2.1" data-path="rprog3.html"><a href="rprog3.html#string-detect-match-subset"><i class="fa fa-check"></i><b>6.2.1</b> String detect, match, subset</a></li>
<li class="chapter" data-level="6.2.2" data-path="rprog3.html"><a href="rprog3.html#regular-expressions"><i class="fa fa-check"></i><b>6.2.2</b> Regular Expressions</a></li>
<li class="chapter" data-level="6.2.3" data-path="rprog3.html"><a href="rprog3.html#string-split-replace"><i class="fa fa-check"></i><b>6.2.3</b> String split, replace</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="rprog3.html"><a href="rprog3.html#dates-and-date-times"><i class="fa fa-check"></i><b>6.3</b> Dates and Date-times</a><ul>
<li class="chapter" data-level="6.3.1" data-path="rprog3.html"><a href="rprog3.html#dates-and-times-in-base-r"><i class="fa fa-check"></i><b>6.3.1</b> Dates and Times in base R</a></li>
<li class="chapter" data-level="6.3.2" data-path="rprog3.html"><a href="rprog3.html#date-time-formats"><i class="fa fa-check"></i><b>6.3.2</b> Date-time formats</a></li>
<li class="chapter" data-level="6.3.3" data-path="rprog3.html"><a href="rprog3.html#date-time-classes-in-r"><i class="fa fa-check"></i><b>6.3.3</b> Date-time classes in R</a></li>
<li class="chapter" data-level="6.3.4" data-path="rprog3.html"><a href="rprog3.html#reading-and-classifying-date-times"><i class="fa fa-check"></i><b>6.3.4</b> Reading and classifying date-times</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="rprog3.html"><a href="rprog3.html#lubridate"><i class="fa fa-check"></i><b>6.4</b> <code>Lubridate</code></a><ul>
<li class="chapter" data-level="6.4.1" data-path="rprog3.html"><a href="rprog3.html#lubridate-parsing-functions"><i class="fa fa-check"></i><b>6.4.1</b> <code>Lubridate</code> Parsing Functions</a></li>
<li class="chapter" data-level="6.4.2" data-path="rprog3.html"><a href="rprog3.html#date-time-manipulation-with-lubridate"><i class="fa fa-check"></i><b>6.4.2</b> Date-time manipulation with <code>Lubridate</code></a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="rprog3.html"><a href="rprog3.html#ch-6-exercises"><i class="fa fa-check"></i><b>6.5</b> Ch-6 Exercises</a></li>
<li class="chapter" data-level="6.6" data-path="rprog3.html"><a href="rprog3.html#ch-6-homework"><i class="fa fa-check"></i><b>6.6</b> Ch-6 Homework</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="eda2.html"><a href="eda2.html"><i class="fa fa-check"></i><b>7</b> Multivariate Data Exploration</a><ul>
<li class="chapter" data-level="7.1" data-path="eda2.html"><a href="eda2.html#ch.-7-objectives"><i class="fa fa-check"></i><b>7.1</b> Ch. 7 Objectives</a></li>
<li class="chapter" data-level="7.2" data-path="eda2.html"><a href="eda2.html#bivariate"><i class="fa fa-check"></i><b>7.2</b> Bivariate Data</a></li>
<li class="chapter" data-level="7.3" data-path="eda2.html"><a href="eda2.html#scatt"><i class="fa fa-check"></i><b>7.3</b> Scatterplot</a><ul>
<li class="chapter" data-level="7.3.1" data-path="eda2.html"><a href="eda2.html#causality"><i class="fa fa-check"></i><b>7.3.1</b> Causality</a></li>
<li class="chapter" data-level="7.3.2" data-path="eda2.html"><a href="eda2.html#corr"><i class="fa fa-check"></i><b>7.3.2</b> Correlation</a></li>
<li class="chapter" data-level="7.3.3" data-path="eda2.html"><a href="eda2.html#correlation-neq-causation"><i class="fa fa-check"></i><b>7.3.3</b> Correlation <span class="math inline">\(\neq\)</span> causation</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="eda2.html"><a href="eda2.html#exploring-multivariate-data"><i class="fa fa-check"></i><b>7.4</b> Exploring Multivariate Data</a><ul>
<li class="chapter" data-level="7.4.1" data-path="eda2.html"><a href="eda2.html#faceting"><i class="fa fa-check"></i><b>7.4.1</b> Faceting</a></li>
<li class="chapter" data-level="7.4.2" data-path="eda2.html"><a href="eda2.html#coloring"><i class="fa fa-check"></i><b>7.4.2</b> Coloring</a></li>
<li class="chapter" data-level="7.4.3" data-path="eda2.html"><a href="eda2.html#contour-plots"><i class="fa fa-check"></i><b>7.4.3</b> Contour Plots</a></li>
<li class="chapter" data-level="7.4.4" data-path="eda2.html"><a href="eda2.html#time-series-density"><i class="fa fa-check"></i><b>7.4.4</b> Time-Series Density</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="eda2.html"><a href="eda2.html#ch-7-exercises"><i class="fa fa-check"></i><b>7.5</b> Ch-7 Exercises</a><ul>
<li class="chapter" data-level="7.5.1" data-path="eda2.html"><a href="eda2.html#in-class-fueleconomy.gov"><i class="fa fa-check"></i><b>7.5.1</b> In-class: fueleconomy.gov</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="eda2.html"><a href="eda2.html#ch-7-homework"><i class="fa fa-check"></i><b>7.6</b> Ch-7 Homework</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="rprog4.html"><a href="rprog4.html"><i class="fa fa-check"></i><b>8</b> Functional Programming</a><ul>
<li class="chapter" data-level="8.1" data-path="rprog4.html"><a href="rprog4.html#ch.-8-objectives"><i class="fa fa-check"></i><b>8.1</b> Ch. 8 Objectives</a></li>
<li class="chapter" data-level="8.2" data-path="rprog4.html"><a href="rprog4.html#what-is-functional-programming"><i class="fa fa-check"></i><b>8.2</b> What is <strong><em>functional programming</em></strong>?</a></li>
<li class="chapter" data-level="8.3" data-path="rprog4.html"><a href="rprog4.html#writng-functions"><i class="fa fa-check"></i><b>8.3</b> Writng Functions</a><ul>
<li class="chapter" data-level="8.3.1" data-path="rprog4.html"><a href="rprog4.html#example-function-my_mean"><i class="fa fa-check"></i><b>8.3.1</b> Example Function: my_mean</a></li>
<li class="chapter" data-level="8.3.2" data-path="rprog4.html"><a href="rprog4.html#example-function-import.w.name"><i class="fa fa-check"></i><b>8.3.2</b> Example Function: “import.w.name”</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="rprog4.html"><a href="rprog4.html#functional-prog.-with-purr"><i class="fa fa-check"></i><b>8.4</b> Functional Prog. with <code>purr::</code></a><ul>
<li class="chapter" data-level="8.4.1" data-path="rprog4.html"><a href="rprog4.html#function-mapping"><i class="fa fa-check"></i><b>8.4.1</b> Function Mapping</a></li>
<li class="chapter" data-level="8.4.2" data-path="rprog4.html"><a href="rprog4.html#working-with-lists"><i class="fa fa-check"></i><b>8.4.2</b> Working with Lists</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="rprog4.html"><a href="rprog4.html#exercises"><i class="fa fa-check"></i><b>8.5</b> Exercises</a></li>
<li class="chapter" data-level="8.6" data-path="rprog4.html"><a href="rprog4.html#homework"><i class="fa fa-check"></i><b>8.6</b> Homework</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="transform.html"><a href="transform.html"><i class="fa fa-check"></i><b>9</b> Transformations and other Tricks</a><ul>
<li class="chapter" data-level="9.1" data-path="transform.html"><a href="transform.html#ch.-9-objectives"><i class="fa fa-check"></i><b>9.1</b> Ch. 9 Objectives</a></li>
<li class="chapter" data-level="9.2" data-path="transform.html"><a href="transform.html#transformation"><i class="fa fa-check"></i><b>9.2</b> Transformation</a><ul>
<li class="chapter" data-level="9.2.1" data-path="transform.html"><a href="transform.html#centering"><i class="fa fa-check"></i><b>9.2.1</b> Centering</a></li>
<li class="chapter" data-level="9.2.2" data-path="transform.html"><a href="transform.html#rescaling"><i class="fa fa-check"></i><b>9.2.2</b> Rescaling</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="transform.html"><a href="transform.html#normalization-and-standardization"><i class="fa fa-check"></i><b>9.3</b> Normalization and Standardization</a><ul>
<li class="chapter" data-level="9.3.1" data-path="transform.html"><a href="transform.html#rate-normalization"><i class="fa fa-check"></i><b>9.3.1</b> Rate normalization</a></li>
<li class="chapter" data-level="9.3.2" data-path="transform.html"><a href="transform.html#standardizing"><i class="fa fa-check"></i><b>9.3.2</b> Standardizing</a></li>
<li class="chapter" data-level="9.3.3" data-path="transform.html"><a href="transform.html#reducing-skewness"><i class="fa fa-check"></i><b>9.3.3</b> Reducing Skewness</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="transform.html"><a href="transform.html#stratification"><i class="fa fa-check"></i><b>9.4</b> Stratification</a></li>
<li class="chapter" data-level="9.5" data-path="transform.html"><a href="transform.html#outliers-and-censoring"><i class="fa fa-check"></i><b>9.5</b> Outliers and Censoring</a><ul>
<li class="chapter" data-level="9.5.1" data-path="transform.html"><a href="transform.html#outliers"><i class="fa fa-check"></i><b>9.5.1</b> Detecting Outliers</a></li>
<li class="chapter" data-level="9.5.2" data-path="transform.html"><a href="transform.html#censoring-outliers"><i class="fa fa-check"></i><b>9.5.2</b> Censoring outliers</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="transform.html"><a href="transform.html#ch-9-exercises"><i class="fa fa-check"></i><b>9.6</b> Ch-9 Exercises</a></li>
<li class="chapter" data-level="9.7" data-path="transform.html"><a href="transform.html#ch-9-homework"><i class="fa fa-check"></i><b>9.7</b> Ch-9 Homework</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="measure.html"><a href="measure.html"><i class="fa fa-check"></i><b>10</b> Measurement</a><ul>
<li class="chapter" data-level="10.1" data-path="measure.html"><a href="measure.html#ch.-10-objectives"><i class="fa fa-check"></i><b>10.1</b> Ch. 10 Objectives</a></li>
<li class="chapter" data-level="10.2" data-path="measure.html"><a href="measure.html#sampling"><i class="fa fa-check"></i><b>10.2</b> Sampling</a><ul>
<li class="chapter" data-level="10.2.1" data-path="measure.html"><a href="measure.html#samples-vs.-populations"><i class="fa fa-check"></i><b>10.2.1</b> Samples vs. Populations</a></li>
<li class="chapter" data-level="10.2.2" data-path="measure.html"><a href="measure.html#collecting-a-sample-sample.collect"><i class="fa fa-check"></i><b>10.2.2</b> Collecting a sample (#sample.collect)</a></li>
<li class="chapter" data-level="10.2.3" data-path="measure.html"><a href="measure.html#simple-random-sampling"><i class="fa fa-check"></i><b>10.2.3</b> Simple Random Sampling</a></li>
<li class="chapter" data-level="10.2.4" data-path="measure.html"><a href="measure.html#systematic-sampling"><i class="fa fa-check"></i><b>10.2.4</b> Systematic Sampling</a></li>
<li class="chapter" data-level="10.2.5" data-path="measure.html"><a href="measure.html#stratified-sampling"><i class="fa fa-check"></i><b>10.2.5</b> Stratified Sampling</a></li>
<li class="chapter" data-level="10.2.6" data-path="measure.html"><a href="measure.html#cluster-sampling"><i class="fa fa-check"></i><b>10.2.6</b> Cluster Sampling</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="measure.html"><a href="measure.html#figures-of-merit"><i class="fa fa-check"></i><b>10.3</b> Figures of Merit</a><ul>
<li class="chapter" data-level="10.3.1" data-path="measure.html"><a href="measure.html#limit-of-detection-quantification"><i class="fa fa-check"></i><b>10.3.1</b> Limit of Detection &amp; Quantification</a></li>
<li class="chapter" data-level="10.3.2" data-path="measure.html"><a href="measure.html#dynamic-range"><i class="fa fa-check"></i><b>10.3.2</b> Dynamic Range</a></li>
<li class="chapter" data-level="10.3.3" data-path="measure.html"><a href="measure.html#measurement-precision"><i class="fa fa-check"></i><b>10.3.3</b> Measurement Precision</a></li>
<li class="chapter" data-level="10.3.4" data-path="measure.html"><a href="measure.html#measurement-bias-accuracy"><i class="fa fa-check"></i><b>10.3.4</b> Measurement Bias (accuracy)</a></li>
<li class="chapter" data-level="10.3.5" data-path="measure.html"><a href="measure.html#measurement-uncertainty"><i class="fa fa-check"></i><b>10.3.5</b> Measurement Uncertainty</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="measure.html"><a href="measure.html#ch-10-exercises"><i class="fa fa-check"></i><b>10.4</b> Ch-10 Exercises</a></li>
<li class="chapter" data-level="10.5" data-path="measure.html"><a href="measure.html#ch-10-homework"><i class="fa fa-check"></i><b>10.5</b> CH-10 Homework</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="model.html"><a href="model.html"><i class="fa fa-check"></i><b>11</b> Modeling</a><ul>
<li class="chapter" data-level="11.1" data-path="model.html"><a href="model.html#ch.-11-objectives"><i class="fa fa-check"></i><b>11.1</b> Ch. 11 Objectives</a></li>
<li class="chapter" data-level="11.2" data-path="model.html"><a href="model.html#process-modeling"><i class="fa fa-check"></i><b>11.2</b> Process Modeling</a><ul>
<li class="chapter" data-level="11.2.1" data-path="model.html"><a href="model.html#assumptions"><i class="fa fa-check"></i><b>11.2.1</b> Assumptions</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="model.html"><a href="model.html#model-fitting"><i class="fa fa-check"></i><b>11.3</b> Model Fitting</a></li>
<li class="chapter" data-level="11.4" data-path="model.html"><a href="model.html#ols-regression"><i class="fa fa-check"></i><b>11.4</b> OLS Regression</a><ul>
<li class="chapter" data-level="11.4.1" data-path="model.html"><a href="model.html#OLS_assum"><i class="fa fa-check"></i><b>11.4.1</b> OLS Assumptions and Diagnostics</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="model.html"><a href="model.html#example-ols-linear-regression"><i class="fa fa-check"></i><b>11.5</b> Example: OLS Linear Regression</a><ul>
<li class="chapter" data-level="11.5.1" data-path="model.html"><a href="model.html#the-lm-function"><i class="fa fa-check"></i><b>11.5.1</b> The <code>lm()</code> function</a></li>
<li class="chapter" data-level="11.5.2" data-path="model.html"><a href="model.html#ols-diagnostics"><i class="fa fa-check"></i><b>11.5.2</b> OLS Diagnostics</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="model.html"><a href="model.html#pdf"><i class="fa fa-check"></i><b>11.6</b> Probability Density Function</a><ul>
<li class="chapter" data-level="11.6.1" data-path="model.html"><a href="model.html#univariate-data-fits"><i class="fa fa-check"></i><b>11.6.1</b> Univariate Data Fits</a></li>
</ul></li>
<li class="chapter" data-level="11.7" data-path="model.html"><a href="model.html#calibration"><i class="fa fa-check"></i><b>11.7</b> Calibration</a></li>
<li class="chapter" data-level="11.8" data-path="model.html"><a href="model.html#ch-11-exercises"><i class="fa fa-check"></i><b>11.8</b> Ch-11 Exercises</a></li>
<li class="chapter" data-level="11.9" data-path="model.html"><a href="model.html#ch-11-homework"><i class="fa fa-check"></i><b>11.9</b> Ch-11 Homework</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="simulate.html"><a href="simulate.html"><i class="fa fa-check"></i><b>12</b> Simulation</a><ul>
<li class="chapter" data-level="12.1" data-path="simulate.html"><a href="simulate.html#ch.-12-objectives"><i class="fa fa-check"></i><b>12.1</b> Ch. 12 Objectives</a></li>
<li class="chapter" data-level="12.2" data-path="simulate.html"><a href="simulate.html#introduction-to-simulation"><i class="fa fa-check"></i><b>12.2</b> Introduction to simulation</a></li>
<li class="chapter" data-level="12.3" data-path="simulate.html"><a href="simulate.html#simulation-example"><i class="fa fa-check"></i><b>12.3</b> Simulation Example:</a></li>
<li class="chapter" data-level="12.4" data-path="simulate.html"><a href="simulate.html#ch-12-exercises"><i class="fa fa-check"></i><b>12.4</b> Ch-12 Exercises</a></li>
<li class="chapter" data-level="12.5" data-path="simulate.html"><a href="simulate.html#ch-12-homework"><i class="fa fa-check"></i><b>12.5</b> Ch-12 Homework</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="dist.html"><a href="dist.html"><i class="fa fa-check"></i><b>13</b> Appendix: Reference Distributions</a><ul>
<li class="chapter" data-level="13.1" data-path="dist.html"><a href="dist.html#unif_dist"><i class="fa fa-check"></i><b>13.1</b> Uniform Distribution</a><ul>
<li class="chapter" data-level="13.1.1" data-path="dist.html"><a href="dist.html#characteristic-plots-uniform-distribution"><i class="fa fa-check"></i><b>13.1.1</b> Characteristic Plots: Uniform Distribution</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="dist.html"><a href="dist.html#normal_dist"><i class="fa fa-check"></i><b>13.2</b> Normal Distribution</a><ul>
<li class="chapter" data-level="13.2.1" data-path="dist.html"><a href="dist.html#normal-distribution-characteristic-plots"><i class="fa fa-check"></i><b>13.2.1</b> Normal Distribution: Characteristic Plots</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="dist.html"><a href="dist.html#log_normal_dist"><i class="fa fa-check"></i><b>13.3</b> Log-normal Distribution</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Engineering Data Analysis in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="eda2" class="section level1">
<h1><span class="header-section-number">Chapter 7</span> Multivariate Data Exploration</h1>
<div id="ch.-7-objectives" class="section level2">
<h2><span class="header-section-number">7.1</span> Ch. 7 Objectives</h2>
<p>After this chapter, you should (know / understand / be able to ):</p>
<ul>
<li>Define correlation, causation, and their difference</li>
<li>Conduct a formal exploratory data analysis on multivariate data using geoms from <code>ggplot</code></li>
<li>Create and interpret a scatterplot between two variables</li>
<li>Create and interpret a Q-Q plot</li>
<li>Create and interpret directional bias in a Tukey mean difference plot</li>
<li>Create and extract descriptive statistics and qualitative information from Boxplots</li>
</ul>
</div>
<div id="bivariate" class="section level2">
<h2><span class="header-section-number">7.2</span> Bivariate Data</h2>
<p>Whereas univariate data analyses are directed at “getting to know” the observations made for a single variable, bivariate (and multivariate) analyses are designed to examine the <em>relationship</em> that may exist between two (or more) variables. Like the Chapter on Univariate data, we will focus first on <strong><em>data exploration</em></strong> - a key step towards “getting to know” your data and one that should always proceed inferential statistics or “making conclusions about your data”.</p>
<div class="rmdnote">
<p>
Bivariate means <em>two variables</em> where the observations are paired (i.e., each time an observation is made we sample a value for both variables so that they are linked by place/time/observation).
</p>
</div>
</div>
<div id="scatt" class="section level2">
<h2><span class="header-section-number">7.3</span> Scatterplot</h2>
<p>Undoubtedly, you have seen scatterplots many times before but we will give them a formal treatment here. The <strong>scatterplot</strong> allows you to assess the strength, direction, and type of relationship between two variables of interest. This can be important for determining factors like:</p>
<ul>
<li>Correlation<br />
</li>
<li>Linearity<br />
</li>
<li>Performance (of a measurement) in terms of precision, bias, and dynamic range</li>
</ul>
<p>Traditionally, a scatterplot shows paired observations of two variables with the <strong><em>dependent variable</em></strong> on the y-axis and the <strong><em>independent variable</em></strong> on the x-axis. Creating a plot in this way means that, before you begin, you must make a judgement call about which variable <em>depends</em> on which. The roots of this terminology/protocol lie in the practice of <em>linear regression</em> and the scientific method, the former of which we will discuss in more detail later. For the purposes of exploratory data analysis, however, it actually doesn’t matter which variable goes on which axis. That said, since we don’t wish to break with tradition, let’s agree to follow the dependent/independent variable guidelines so as not to invoke the wrath of the statistics gods.</p>
<p><strong>Statistics:</strong><br />
- The independent variable (x-axis) is thought to have some influence/control over the dependent variable (y-axis).</p>
<p><strong>Scientific Method:</strong><br />
The experimenter manipulates the control variable (independent, x-axis) and observes the changes in the response variable (dependent, y-axis).</p>
<p><strong>Exploratory Data Analysis:</strong><br />
- We throw two variables onto a plot to investigate their relationship. We make a guess about which one is the independent variable (x-axis) and which one is the dependent variable (y-axis) and we hope that nobody calls us out if we got it wrong.</p>
<div id="causality" class="section level3">
<h3><span class="header-section-number">7.3.1</span> Causality</h3>
<p>All this talk about <strong>dependent</strong> and <strong>independent</strong> variables is fundamentally rooted in the practice of <strong><em>causal inference</em></strong> reasoning: the ability to say that “action A” caused “outcome B”. Discovering (and proving) that one thing caused another to happen can be an incredibly powerful event. It leads to the awarding of Nobel Prizes, the creation of new laws and regulations, guilt or innocence in court, the changing and convincing of human minds and behaviors, and simply put: more understanding.</p>
<p>A full treatment of causal inference reasoning is beyond the scope of this course, but we will, from time to time, delve into this topic. The art of data science can be a beautiful and compelling way to demonstrate causality….but most of us need to learn to crawl before we can walk, run, or fly. For now, let’s put aside the pursuit of causation and begin with <strong><em>correlation</em></strong>.</p>
</div>
<div id="corr" class="section level3">
<h3><span class="header-section-number">7.3.2</span> Correlation</h3>
<p>The scatterplot is a great way to visualize whether (and, to an extent, how) two variables are correlated.</p>
<div class="rmdnote">
<p>
Correlation: a mutual relationship or connection between two or more things; the process of establishing a relationship or connection between two or more measures.
</p>
</div>
Below are four examples of bivariate data with differing degrees of correlation: perfect, strong, moderate, and none. These are qualitative terms, of course, what is “moderate” to one person may be poor and unacceptable to another. Later on, in the modeling section @ref(#model), we will discuss ways to assess the strength of correlation more quantitatively.
<div class="figure" style="text-align: center"><span id="fig:corr-example-1"></span>
<img src="images/correlation_example_1.png" alt="Scatterplot examples showing bivariate data with varying degrees of correlation." width="700pt" />
<p class="caption">
Figure 7.1: Scatterplot examples showing bivariate data with varying degrees of correlation.
</p>
</div>
<p>In addition to the strength of the correlation, the sign and form of the correlation can vary, too:<br />
- <strong>positive correlation</strong>: the dependent variable <em>trends in the same direction</em> as the independent variable<br />
- <strong>negative correlation</strong>: the dependent variable <em>decreases</em> when the independent variable <em>increases</em><br />
- <strong>linear correlation</strong>: the relationship between the two variables can be shown with a straight line<br />
- <strong>non-linear correlation</strong>: the relationship between the two variables is curvilinear</p>
<div class="figure" style="text-align: center"><span id="fig:corr-example-2"></span>
<img src="images/correlation_example_2.png" alt="Scatterplot examples showing bivariate data with varying types of correlation." width="700pt" />
<p class="caption">
Figure 7.2: Scatterplot examples showing bivariate data with varying types of correlation.
</p>
</div>
</div>
<div id="correlation-neq-causation" class="section level3">
<h3><span class="header-section-number">7.3.3</span> Correlation <span class="math inline">\(\neq\)</span> causation</h3>
<div class="rmdnote">
<p>
Causation: the process or condition by which one event, a cause, contributes to the occurence of another event, the effect. In this process the cause is partly or wholly responsible for the effect.
</p>
</div>
<p>Let’s take a closer look at the dangers of mistaking a <em>correlated</em> relationship as <em>causal</em> relationship between two variables. Shown below is a scatterplot that builds off the <code>mpg</code> dataset we first discussed in Chapter <a href="dataviz.html#dataviz">4</a>. Using the <code>mpg</code> dataframe, we will plot the relationship between the number of cylinders in an engine (<code>cyl</code>, the independent variable) and that vehcile’s fuel economy (<code>hwy</code>, the dependent variable).</p>
<div class="figure" style="text-align: center"><span id="fig:corr-example-3"></span>
<img src="07-multivar_eda_files/figure-html/corr-example-3-1.png" alt="Scatterplot of Engine Displacement vs. Fuel Economy" width="672" />
<p class="caption">
Figure 7.3: Scatterplot of Engine Displacement vs. Fuel Economy
</p>
</div>
<p>Looking at this plot, there appears a clear correlation between the number of cylinders in a vehicle and its fuel efficiency A linear fit through these data gives a Pearson correlation coefficient of -0.76: not a perfect relationship but a significant one nonetheless. Does this mean that a <em>causal relationship</em> exists? If so, then we only need to mandate that all future vehicles on the road be built with 4-cylinder engines, if we want more a fuel-efficient fleet! That mandate, of course, would likely produce minimal effect. Just because two variables are correlated doesn’t mean that a change in one will <strong><em>cause</em></strong> a change in the other.</p>
<p>Those who understand internal combustion know that the number of cylinders is a design parameter more related to engine power than engine efficiency (i.e., the number of cylinders helps determine total displacement volume). Indeed, the causal relationship for fuel efficiency, in terms of miles traveled per gallon, is due more directly to engine efficiency, vehicle drag coefficient, and vehicle mass. If you want more fuel-efficient cars and trucks, you need more efficient engines that weigh less. Did you know that in the 1990s and early 2000s nearly all engine blocks were made from cast iron? Today, nearly all of them are made from aluminum. Can you guess why?</p>
<blockquote>
<p>Did you know that being a smoker is correlated with having a lighter in your pocket? Furthermore, it can be shown that keeping a lighter in your pocket is correlated with an increased risk of developing heart disease and lung cancer. Does this mean lighters in your pocket cause lung cancer?</p>
</blockquote>
</div>
</div>
<div id="exploring-multivariate-data" class="section level2">
<h2><span class="header-section-number">7.4</span> Exploring Multivariate Data</h2>
<p>With <em>multivariate data</em> we often consider more than just 2 variables of interest; however, visualizing more than 2 variables in a single plot can be challenging. There are advanced statistical approaches to exploring such data (e.g., multivariate regression, principal components, machine learning, etc.), but these techniques are beyond the scope of this course. Here, I will introduce a few graphical techniques that are useful for multivariate data exploration.</p>
<div id="faceting" class="section level3">
<h3><span class="header-section-number">7.4.1</span> Faceting</h3>
<p>One easy way to evaluate two or more variables is to create multiple plots (or facets) through the <code>ggplot2::facet</code> function. This function creates a series of plots, as panels, where each panel represents a different value (or level) of a third variable of interest. For example, let’s create a ggplot2 object from the <code>mtcars</code> data set that explores the relationship between a vehicle’s fuel economy and its weight. First, let’s create a simple bivariate scatterplot of these data (<code>mpg</code> vs. <code>wt</code>) and fit a linear model through the data (note: we haven’t yet discussed modeling but more on <a href="model.html#model">that here</a>).</p>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="eda2.html#cb235-1"></a><span class="co"># fit a linear model</span></span>
<span id="cb235-2"><a href="eda2.html#cb235-2"></a>g1_model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg <span class="op">~</span><span class="st"> </span>wt, <span class="dt">data=</span>mtcars)</span>
<span id="cb235-3"><a href="eda2.html#cb235-3"></a></span>
<span id="cb235-4"><a href="eda2.html#cb235-4"></a><span class="co">#create a ggplot2 object</span></span>
<span id="cb235-5"><a href="eda2.html#cb235-5"></a>g1 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> mtcars, </span>
<span id="cb235-6"><a href="eda2.html#cb235-6"></a>             <span class="kw">aes</span>(<span class="dt">x =</span> wt, <span class="dt">y =</span> mpg)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb235-7"><a href="eda2.html#cb235-7"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb235-8"><a href="eda2.html#cb235-8"></a><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">model =</span> g1_model, <span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb235-9"><a href="eda2.html#cb235-9"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Fuel Economy (mi/gal)&quot;</span>) <span class="op">+</span></span>
<span id="cb235-10"><a href="eda2.html#cb235-10"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Vehicle Weight (x1000 lb)&quot;</span>)</span>
<span id="cb235-11"><a href="eda2.html#cb235-11"></a>g1</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:facet-1"></span>
<img src="07-multivar_eda_files/figure-html/facet-1-1.png" alt="Scatterplot of fuel economy vs. vehicle weight from the `mtcars` dataset." width="672" />
<p class="caption">
Figure 7.4: Scatterplot of fuel economy vs. vehicle weight from the <code>mtcars</code> dataset.
</p>
</div>
<p>However, looking back at Figure <a href="eda2.html#fig:corr-example-3">7.3</a>, we know that the number of cylinders (<code>cyl</code>) is also associated with fuel efficiency. To examine at these three variables together (<code>mpg</code>, <code>wt</code>, and <code>cyl</code>) we can create a scatterplot that is <em>faceted</em> according to the <code>cyl</code> variable. This is relatively easy to do in <code>ggplot2</code> by adding a <code>facet_grid()</code> layer onto our ggplot object. The key arguments to pass into <code>facet_grid()</code> are:</p>
<ol style="list-style-type: decimal">
<li>Whether we want to facet by <strong>rows</strong> or <strong>columns</strong>, and</li>
<li>The variable being used to create the facets.</li>
</ol>
<p>In our case, column facets probably make the most sense so we would add code, <code>facet_grid(cols = vars(cyl)</code>, to the <code>ggplot2</code> object as follows:</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="eda2.html#cb236-1"></a>g1 <span class="op">+</span><span class="st"> </span><span class="kw">facet_grid</span>(<span class="dt">cols =</span> <span class="kw">vars</span>(cyl),</span>
<span id="cb236-2"><a href="eda2.html#cb236-2"></a>                <span class="dt">labeller =</span> label_both) <span class="co">#this code adds names &amp; values to the panel label</span></span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:facet-2"></span>
<img src="07-multivar_eda_files/figure-html/facet-2-1.png" alt="Scatterplots of fuel economy vs. vehicle weight by number of cylinders in the engine (data from the `mtcars` dataset)." width="672" />
<p class="caption">
Figure 7.5: Scatterplots of fuel economy vs. vehicle weight by number of cylinders in the engine (data from the <code>mtcars</code> dataset).
</p>
</div>
<p>Interestingly, but perhaps not surprising, we can see that the vehicles with different cylinder numbers tend to have different fuel efficiencies, but even within these facets we still see a relationship between efficiency and vehicle weight.</p>
<p>Here are the same data in a plot that is faceted by rows instead of columns.</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="eda2.html#cb237-1"></a>g1 <span class="op">+</span><span class="st"> </span><span class="kw">facet_grid</span>(<span class="dt">rows =</span> <span class="kw">vars</span>(cyl),</span>
<span id="cb237-2"><a href="eda2.html#cb237-2"></a>                <span class="dt">labeller =</span> label_both)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:facet-3"></span>
<img src="07-multivar_eda_files/figure-html/facet-3-1.png" alt="Scatterplots of fuel economy vs. vehicle weight by number of cylinders in the engine (data from the `mtcars` dataset)." width="672" />
<p class="caption">
Figure 7.6: Scatterplots of fuel economy vs. vehicle weight by number of cylinders in the engine (data from the <code>mtcars</code> dataset).
</p>
</div>
</div>
<div id="coloring" class="section level3">
<h3><span class="header-section-number">7.4.2</span> Coloring</h3>
<p>We can also use color to indicate variation in data; this can be useful for introducing a third variable into scatterplots and time series plots. Note: when introducing a <strong>color variable</strong> into a plot, you must do so through an <em>aesthetic</em>, such as: <code>geom_point(aes(color = cyl))</code></p>
<p>Let’s recreate Figure <a href="eda2.html#fig:facet-1">7.4</a> and highlight the <code>cyl</code> variable using difference colors. The addition of color provides us with the same level of insight as did the facets above.</p>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="eda2.html#cb238-1"></a><span class="co"># instruct R to treat the cyl variable as a factor with discrete levels</span></span>
<span id="cb238-2"><a href="eda2.html#cb238-2"></a><span class="co"># this, in turn, tells ggplot2 to assign discrete colors to each level</span></span>
<span id="cb238-3"><a href="eda2.html#cb238-3"></a>mtcars<span class="op">$</span>cyl &lt;-<span class="st"> </span><span class="kw">as.factor</span>(mtcars<span class="op">$</span>cyl)</span>
<span id="cb238-4"><a href="eda2.html#cb238-4"></a></span>
<span id="cb238-5"><a href="eda2.html#cb238-5"></a>g3 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> mtcars, </span>
<span id="cb238-6"><a href="eda2.html#cb238-6"></a>             <span class="kw">aes</span>(<span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, <span class="dt">color =</span> cyl)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb238-7"><a href="eda2.html#cb238-7"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb238-8"><a href="eda2.html#cb238-8"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Fuel Economy (mi/gal)&quot;</span>) <span class="op">+</span></span>
<span id="cb238-9"><a href="eda2.html#cb238-9"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Vehicle Weight, (x1000 lb)&quot;</span>)</span>
<span id="cb238-10"><a href="eda2.html#cb238-10"></a></span>
<span id="cb238-11"><a href="eda2.html#cb238-11"></a>g3</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:colorplot-1"></span>
<img src="07-multivar_eda_files/figure-html/colorplot-1-1.png" alt="Vehicle fuel economy vs. weight and colored by number of engine cylinders (data from mtcars)" width="672" />
<p class="caption">
Figure 7.7: Vehicle fuel economy vs. weight and colored by number of engine cylinders (data from mtcars)
</p>
</div>
<div class="rmdwarning">
<p>
When using color, be aware that many people are unable to distinguish red from green or blue from yellow. Many options exist to avoid issues from color blindness (e.g., the <code>viridis</code> palette) and websites like <a href="https://www.color-blindness.com/coblis-color-blindness-simulator/">color-blindness.com</a> allow you to upload image files as a test against common forms.
</p>
</div>
<p>Here is an updated version of Figure <a href="eda2.html#fig:colorplot-1">7.7</a> that avoids issues with color blindness and, better yet, differentiates the <code>cyl</code> variable with both colors and symbols.</p>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb239-1"><a href="eda2.html#cb239-1"></a><span class="co">#&quot;#330099&quot;,&quot;#CC0066&quot;,&quot;#FF6633&quot;, &quot;#0099CC&quot;, &quot;#FF9900&quot;,&quot;#CC6633&quot;, &quot;#33CC99&quot;,</span></span>
<span id="cb239-2"><a href="eda2.html#cb239-2"></a></span>
<span id="cb239-3"><a href="eda2.html#cb239-3"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> mtcars, </span>
<span id="cb239-4"><a href="eda2.html#cb239-4"></a>             <span class="kw">aes</span>(<span class="dt">x =</span> wt, </span>
<span id="cb239-5"><a href="eda2.html#cb239-5"></a>                 <span class="dt">y =</span> mpg, </span>
<span id="cb239-6"><a href="eda2.html#cb239-6"></a>                 <span class="dt">color =</span> cyl, </span>
<span id="cb239-7"><a href="eda2.html#cb239-7"></a>                 <span class="dt">shape =</span> cyl)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb239-8"><a href="eda2.html#cb239-8"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">size =</span> <span class="dv">2</span>) <span class="op">+</span></span>
<span id="cb239-9"><a href="eda2.html#cb239-9"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Fuel Economy (mi/gal)&quot;</span>) <span class="op">+</span></span>
<span id="cb239-10"><a href="eda2.html#cb239-10"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Vehicle Weight, (x1000 lb)&quot;</span>) <span class="op">+</span></span>
<span id="cb239-11"><a href="eda2.html#cb239-11"></a><span class="st">  </span><span class="kw">scale_colour_manual</span>(<span class="dt">values =</span> <span class="kw">c</span>(<span class="st">&quot;sandybrown&quot;</span>, </span>
<span id="cb239-12"><a href="eda2.html#cb239-12"></a>                                 <span class="st">&quot;orangered&quot;</span>, </span>
<span id="cb239-13"><a href="eda2.html#cb239-13"></a>                                 <span class="st">&quot;steelblue2&quot;</span>)) <span class="op">+</span></span>
<span id="cb239-14"><a href="eda2.html#cb239-14"></a><span class="st">  </span><span class="kw">theme_classic</span>()</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:colorplot-2"></span>
<img src="07-multivar_eda_files/figure-html/colorplot-2-1.png" alt="Vehicle fuel economy vs. weight and colored by number of engine cylinders (data from mtcars)" width="672" />
<p class="caption">
Figure 7.8: Vehicle fuel economy vs. weight and colored by number of engine cylinders (data from mtcars)
</p>
</div>
<div class="rmdtip">
<p>
Whenever you use color to differentiate variables, use symbols, too.
</p>
</div>
</div>
<div id="contour-plots" class="section level3">
<h3><span class="header-section-number">7.4.3</span> Contour Plots</h3>
</div>
<div id="time-series-density" class="section level3">
<h3><span class="header-section-number">7.4.4</span> Time-Series Density</h3>
</div>
</div>
<div id="ch-7-exercises" class="section level2">
<h2><span class="header-section-number">7.5</span> Ch-7 Exercises</h2>
<div id="in-class-fueleconomy.gov" class="section level3">
<h3><span class="header-section-number">7.5.1</span> In-class: fueleconomy.gov</h3>
<p>This in-class exercise is will conduct an exploratory, multivariate data
analysis on vehicle fuel economy. We will begin by downloading a .zip file from <a href="https://www.fueleconomy.gov/feg/ws/">fueleconomy.gov</a>. This file contains a
.csv with fuel economy information for nearly every vehicle manufactured
between 1984 and today. We will use the <code>readr</code> and <code>dplyr</code> packages to load
and clean the data, respectively. A data dictionary (something that defines
and explains each variable in the data set) is also available at the website
above.</p>
<p>The first code chunk will download the fueleconomy.gov data directly from their
website and into a temp file using <code>download.file()</code> from base R. We will then
<code>unzip()</code> that temp file into a .csv and use <code>readr</code> to read that .csv into a
data frame named <code>raw_data</code>.</p>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb240-1"><a href="eda2.html#cb240-1"></a><span class="co">#create a temp file to hold the zipped data</span></span>
<span id="cb240-2"><a href="eda2.html#cb240-2"></a>temp &lt;-<span class="st"> </span><span class="kw">tempfile</span>()</span>
<span id="cb240-3"><a href="eda2.html#cb240-3"></a><span class="co">#download the file into temp file</span></span>
<span id="cb240-4"><a href="eda2.html#cb240-4"></a><span class="kw">download.file</span>(<span class="dt">url =</span> <span class="st">&quot;https://www.fueleconomy.gov/feg/epadata/vehicles.csv.zip&quot;</span>,</span>
<span id="cb240-5"><a href="eda2.html#cb240-5"></a>              <span class="dt">destfile =</span> temp, </span>
<span id="cb240-6"><a href="eda2.html#cb240-6"></a>              <span class="dt">mode=</span><span class="st">&quot;wb&quot;</span>)</span>
<span id="cb240-7"><a href="eda2.html#cb240-7"></a></span>
<span id="cb240-8"><a href="eda2.html#cb240-8"></a>temp2 &lt;-<span class="st"> </span><span class="kw">unzip</span>(temp, <span class="st">&quot;vehicles.csv&quot;</span>, <span class="dt">exdir =</span> <span class="st">&quot;./data/&quot;</span>) <span class="co">#unzip .csv to /data dir</span></span>
<span id="cb240-9"><a href="eda2.html#cb240-9"></a></span>
<span id="cb240-10"><a href="eda2.html#cb240-10"></a>raw_data &lt;-<span class="st"> </span><span class="kw">read_csv</span>(temp2) <span class="co">#read the csv into a data frame</span></span>
<span id="cb240-11"><a href="eda2.html#cb240-11"></a></span>
<span id="cb240-12"><a href="eda2.html#cb240-12"></a><span class="kw">unlink</span>(temp) <span class="co">#delete the temp file</span></span>
<span id="cb240-13"><a href="eda2.html#cb240-13"></a></span>
<span id="cb240-14"><a href="eda2.html#cb240-14"></a><span class="kw">rm</span>(temp, temp2) <span class="co">#remove the two temp objects from local environment</span></span></code></pre></div>
<p>Looking at the <code>raw_data</code> data frame, we see there are 83 variables with over
42,000 observations. That’s a LOT of vehicles! In most analyses of large data
sets, we don’t need to inspect every variable. Let’s create a vector of
variables (<code>vars_needed</code>) that we do want and then pass that vector to <code>dplyr::select()</code> to retain only the variables we want. To pass a character
vector as an argument to <code>dplyr::select()</code>, we use the <code>all_of()</code>
function - a <code>&lt;tidy-select&gt;</code> argument modifier. You can type
<code>?tidyr_tidy_select</code> to learn more.</p>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb241-1"><a href="eda2.html#cb241-1"></a>vars_needed &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;id&quot;</span>,</span>
<span id="cb241-2"><a href="eda2.html#cb241-2"></a>                 <span class="st">&quot;make&quot;</span>,</span>
<span id="cb241-3"><a href="eda2.html#cb241-3"></a>                 <span class="st">&quot;model&quot;</span>,</span>
<span id="cb241-4"><a href="eda2.html#cb241-4"></a>                 <span class="st">&quot;year&quot;</span>,</span>
<span id="cb241-5"><a href="eda2.html#cb241-5"></a>                 <span class="st">&quot;cylinders&quot;</span>, </span>
<span id="cb241-6"><a href="eda2.html#cb241-6"></a>                 <span class="st">&quot;displ&quot;</span>, </span>
<span id="cb241-7"><a href="eda2.html#cb241-7"></a>                 <span class="st">&quot;drive&quot;</span>,</span>
<span id="cb241-8"><a href="eda2.html#cb241-8"></a>                 <span class="st">&quot;trany&quot;</span>,</span>
<span id="cb241-9"><a href="eda2.html#cb241-9"></a>                 <span class="st">&quot;VClass&quot;</span>,</span>
<span id="cb241-10"><a href="eda2.html#cb241-10"></a>                 <span class="st">&quot;fuelType1&quot;</span>,</span>
<span id="cb241-11"><a href="eda2.html#cb241-11"></a>                 <span class="st">&quot;comb08&quot;</span>,</span>
<span id="cb241-12"><a href="eda2.html#cb241-12"></a>                 <span class="st">&quot;highway08&quot;</span>,</span>
<span id="cb241-13"><a href="eda2.html#cb241-13"></a>                 <span class="st">&quot;city08&quot;</span>,</span>
<span id="cb241-14"><a href="eda2.html#cb241-14"></a>                 <span class="st">&quot;co2TailpipeGpm&quot;</span></span>
<span id="cb241-15"><a href="eda2.html#cb241-15"></a>                 )</span>
<span id="cb241-16"><a href="eda2.html#cb241-16"></a></span>
<span id="cb241-17"><a href="eda2.html#cb241-17"></a>df_mpg&lt;-raw_data <span class="op">%&gt;%</span></span>
<span id="cb241-18"><a href="eda2.html#cb241-18"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(<span class="kw">all_of</span>(vars_needed))  </span>
<span id="cb241-19"><a href="eda2.html#cb241-19"></a><span class="co">#all_of tells dplyr::select to expect a character vector of column names</span></span>
<span id="cb241-20"><a href="eda2.html#cb241-20"></a><span class="kw">rm</span>(raw_data) <span class="co">#remove large file from memory</span></span></code></pre></div>
<p>Some of these variables can be coded as <strong>factors</strong> (<em>categorical</em> variables
that may be enumerated into <em>discrete levels</em>). For example, there are a
finite number of vehicle transmission <code>trany</code> or drivetrain <code>drive</code> types on
the market and by telling R to code these data as <strong>factors</strong>, we can analyze
these variables in categorical form.</p>
<p>First, we will create a vector of variable names that we want to code as
factors, <code>vars_factr</code>. The we will apply the <code>as.factor()</code> function to those
variables using <code>dplyr::mutate(across())</code>. The <code>across()</code> function allows one
to apply the same transformation to multiple columns in a data frame. We will
also take the opportunity to rename a few of these variables (following our
naming guidelines discussed earlier) and to filter the data to retain only
vehciles made after the year 2000.</p>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="eda2.html#cb242-1"></a><span class="co"># ID the columns that we want as class:factor</span></span>
<span id="cb242-2"><a href="eda2.html#cb242-2"></a>vars_factr &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;make&quot;</span>, <span class="st">&quot;drive&quot;</span>, <span class="st">&quot;trany&quot;</span>, <span class="st">&quot;VClass&quot;</span>, <span class="st">&quot;fuelType1&quot;</span>)</span>
<span id="cb242-3"><a href="eda2.html#cb242-3"></a></span>
<span id="cb242-4"><a href="eda2.html#cb242-4"></a>df_mpg <span class="op">%&gt;%</span></span>
<span id="cb242-5"><a href="eda2.html#cb242-5"></a><span class="st">  </span><span class="co"># mutate(across(a)) applies the as.factor function only to the vars of interest</span></span>
<span id="cb242-6"><a href="eda2.html#cb242-6"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="kw">across</span>(<span class="kw">all_of</span>(vars_factr), <span class="dt">.fns =</span> as.factor)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb242-7"><a href="eda2.html#cb242-7"></a><span class="st">  </span><span class="co">#create simpler names</span></span>
<span id="cb242-8"><a href="eda2.html#cb242-8"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">rename</span>(<span class="dt">fuel_type =</span> fuelType1, </span>
<span id="cb242-9"><a href="eda2.html#cb242-9"></a>                <span class="dt">cyl =</span> cylinders, </span>
<span id="cb242-10"><a href="eda2.html#cb242-10"></a>                <span class="dt">tran =</span> trany, </span>
<span id="cb242-11"><a href="eda2.html#cb242-11"></a>                <span class="dt">v_class =</span> VClass) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># easier string to type</span></span>
<span id="cb242-12"><a href="eda2.html#cb242-12"></a><span class="st">  </span><span class="co"># keep only data collected after 2000 for the sake of a millennial audience</span></span>
<span id="cb242-13"><a href="eda2.html#cb242-13"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">filter</span>(year <span class="op">&gt;=</span><span class="st"> </span><span class="dv">2000</span>) -&gt;<span class="st"> </span>df_mpg </span>
<span id="cb242-14"><a href="eda2.html#cb242-14"></a></span>
<span id="cb242-15"><a href="eda2.html#cb242-15"></a><span class="kw">rm</span>(vars_needed, vars_factr) <span class="co"># won&#39;t be needing these anymore</span></span></code></pre></div>
<p>Begin as we always do, by simply looking at some of the data.</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb243-1"><a href="eda2.html#cb243-1"></a><span class="kw">head</span>(df_mpg)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 14
##      id make  model  year   cyl displ drive tran  v_class fuel_type comb08
##   &lt;dbl&gt; &lt;fct&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;fct&gt; &lt;fct&gt; &lt;fct&gt;   &lt;fct&gt;      &lt;dbl&gt;
## 1 15589 Acura NSX    2000     6   3   Rear… Auto… Two Se… Premium …     18
## 2 15590 Acura NSX    2000     6   3.2 Rear… Manu… Two Se… Premium …     18
## 3 15591 BMW   M Co…  2000     6   3.2 Rear… Manu… Two Se… Premium …     19
## 4 15592 BMW   Z3 C…  2000     6   2.8 Rear… Auto… Two Se… Premium …     19
## 5 15593 BMW   Z3 C…  2000     6   2.8 Rear… Manu… Two Se… Premium …     19
## 6 15594 BMW   Z3 R…  2000     6   2.5 Rear… Auto… Two Se… Premium …     19
## # … with 3 more variables: highway08 &lt;dbl&gt;, city08 &lt;dbl&gt;, co2TailpipeGpm &lt;dbl&gt;</code></pre>
<p>Next, let’s take a look at some of the factor levels. There are lots of ways to do this in R.</p>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb245-1"><a href="eda2.html#cb245-1"></a><span class="co">#print a character vector of levels for the drive variable in df_mpg</span></span>
<span id="cb245-2"><a href="eda2.html#cb245-2"></a><span class="kw">levels</span>(df_mpg<span class="op">$</span>drive) </span></code></pre></div>
<pre><code>## [1] &quot;2-Wheel Drive&quot;              &quot;4-Wheel Drive&quot;             
## [3] &quot;4-Wheel or All-Wheel Drive&quot; &quot;All-Wheel Drive&quot;           
## [5] &quot;Front-Wheel Drive&quot;          &quot;Part-time 4-Wheel Drive&quot;   
## [7] &quot;Rear-Wheel Drive&quot;</code></pre>
<div class="sourceCode" id="cb247"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb247-1"><a href="eda2.html#cb247-1"></a><span class="co">#print a character vector of levels for the fuel_type variable in df_mpg</span></span>
<span id="cb247-2"><a href="eda2.html#cb247-2"></a><span class="kw">levels</span>(df_mpg<span class="op">$</span>fuel_type) </span></code></pre></div>
<pre><code>## [1] &quot;Diesel&quot;            &quot;Electricity&quot;       &quot;Midgrade Gasoline&quot;
## [4] &quot;Natural Gas&quot;       &quot;Premium Gasoline&quot;  &quot;Regular Gasoline&quot;</code></pre>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb249-1"><a href="eda2.html#cb249-1"></a><span class="co">#print a character vector of levels for the v_class variable in df_mpg</span></span>
<span id="cb249-2"><a href="eda2.html#cb249-2"></a><span class="kw">levels</span>(df_mpg<span class="op">$</span>v_class) </span></code></pre></div>
<pre><code>##  [1] &quot;Compact Cars&quot;                       &quot;Large Cars&quot;                        
##  [3] &quot;Midsize Cars&quot;                       &quot;Midsize Station Wagons&quot;            
##  [5] &quot;Midsize-Large Station Wagons&quot;       &quot;Minicompact Cars&quot;                  
##  [7] &quot;Minivan - 2WD&quot;                      &quot;Minivan - 4WD&quot;                     
##  [9] &quot;Small Pickup Trucks&quot;                &quot;Small Pickup Trucks 2WD&quot;           
## [11] &quot;Small Pickup Trucks 4WD&quot;            &quot;Small Sport Utility Vehicle 2WD&quot;   
## [13] &quot;Small Sport Utility Vehicle 4WD&quot;    &quot;Small Station Wagons&quot;              
## [15] &quot;Special Purpose Vehicle&quot;            &quot;Special Purpose Vehicle 2WD&quot;       
## [17] &quot;Special Purpose Vehicle 4WD&quot;        &quot;Special Purpose Vehicles&quot;          
## [19] &quot;Special Purpose Vehicles/2wd&quot;       &quot;Special Purpose Vehicles/4wd&quot;      
## [21] &quot;Sport Utility Vehicle - 2WD&quot;        &quot;Sport Utility Vehicle - 4WD&quot;       
## [23] &quot;Standard Pickup Trucks&quot;             &quot;Standard Pickup Trucks 2WD&quot;        
## [25] &quot;Standard Pickup Trucks 4WD&quot;         &quot;Standard Pickup Trucks/2wd&quot;        
## [27] &quot;Standard Sport Utility Vehicle 2WD&quot; &quot;Standard Sport Utility Vehicle 4WD&quot;
## [29] &quot;Subcompact Cars&quot;                    &quot;Two Seaters&quot;                       
## [31] &quot;Vans&quot;                               &quot;Vans Passenger&quot;                    
## [33] &quot;Vans, Cargo Type&quot;                   &quot;Vans, Passenger Type&quot;</code></pre>
<p>Next, let’s see whether any variables contain missing data (NAs). A simple way is to map the combined functions of <code>sum()</code> and <code>is.na()</code> to each column of the data frame. We do this using the <code>map_dfc</code> function (reads: map a function across columns of a dataframe) from the <code>purr::</code> package.</p>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb251-1"><a href="eda2.html#cb251-1"></a>df_mpg <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">map_dfc</span>(<span class="op">~</span><span class="kw">sum</span>(<span class="kw">is.na</span>(.)))</span></code></pre></div>
<pre><code>## # A tibble: 1 x 14
##      id  make model  year   cyl displ drive  tran v_class fuel_type comb08
##   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;   &lt;int&gt;     &lt;int&gt;  &lt;int&gt;
## 1     0     0     0     0   231   230     4     9       0         0      0
## # … with 3 more variables: highway08 &lt;int&gt;, city08 &lt;int&gt;, co2TailpipeGpm &lt;int&gt;</code></pre>
<p>If we filter the <code>df_mpg</code> data for entries that contain <code>NA</code> we discover that most of them are due to electric vehicles. This may be a variable level that we choose to exclude from certain analyses later on…</p>
<div class="sourceCode" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb253-1"><a href="eda2.html#cb253-1"></a>missing_data &lt;-<span class="st"> </span>df_mpg <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter_all</span>(<span class="kw">any_vars</span>(<span class="kw">is.na</span>(.)))</span>
<span id="cb253-2"><a href="eda2.html#cb253-2"></a><span class="kw">head</span>(missing_data, <span class="dt">n=</span><span class="dv">10</span>)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 14
##       id make  model  year   cyl displ drive tran  v_class fuel_type comb08
##    &lt;dbl&gt; &lt;fct&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;fct&gt; &lt;fct&gt; &lt;fct&gt;   &lt;fct&gt;      &lt;dbl&gt;
##  1 16423 Niss… Altr…  2000    NA    NA &lt;NA&gt;  &lt;NA&gt;  Midsiz… Electric…     85
##  2 16424 Toyo… RAV4…  2000    NA    NA 2-Wh… &lt;NA&gt;  Sport … Electric…     72
##  3 17328 Toyo… RAV4…  2001    NA    NA 2-Wh… &lt;NA&gt;  Sport … Electric…     72
##  4 17329 Ford  Th!nk  2001    NA    NA &lt;NA&gt;  &lt;NA&gt;  Two Se… Electric…     65
##  5 17330 Ford  Expl…  2001    NA    NA 2-Wh… &lt;NA&gt;  Sport … Electric…     39
##  6 17331 Niss… Hype…  2001    NA    NA &lt;NA&gt;  &lt;NA&gt;  Two Se… Electric…     75
##  7 18290 Toyo… RAV4…  2002    NA    NA 2-Wh… &lt;NA&gt;  Sport … Electric…     78
##  8 18291 Ford  Expl…  2002    NA    NA 2-Wh… &lt;NA&gt;  Sport … Electric…     39
##  9 19296 Toyo… RAV4…  2003    NA    NA 2-Wh… &lt;NA&gt;  Sport … Electric…     78
## 10 30965 Ford  Rang…  2001    NA    NA 2-Wh… Auto… Standa… Electric…     58
## # … with 3 more variables: highway08 &lt;dbl&gt;, city08 &lt;dbl&gt;, co2TailpipeGpm &lt;dbl&gt;</code></pre>
<p>A nice way to begin EDA with a large, multivariate data set is to understand
how the different variables are ‘spread out’ across the data set. Let’s begin
with a time series (by year) of all the combined fuel economy values, <code>comb08</code>,
for all vehicle observations. The fuel economy data will be shown with boxplots
overlain with violin plots. We will use a log-scale y-axis due to the large
variation expected and outliers will be made more transparent to soften their
effect.</p>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb255-1"><a href="eda2.html#cb255-1"></a>e1 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> df_mpg, <span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> comb08)) <span class="op">+</span></span>
<span id="cb255-2"><a href="eda2.html#cb255-2"></a><span class="st">  </span><span class="kw">geom_violin</span>(<span class="kw">aes</span>(<span class="dt">group =</span> year),</span>
<span id="cb255-3"><a href="eda2.html#cb255-3"></a>               <span class="dt">outlier.shape =</span> <span class="ot">NA</span>,</span>
<span id="cb255-4"><a href="eda2.html#cb255-4"></a>               <span class="dt">fill =</span> <span class="st">&quot;royalblue2&quot;</span>) <span class="op">+</span></span>
<span id="cb255-5"><a href="eda2.html#cb255-5"></a><span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">group =</span> year),</span>
<span id="cb255-6"><a href="eda2.html#cb255-6"></a>               <span class="dt">fill =</span> <span class="ot">NA</span>,</span>
<span id="cb255-7"><a href="eda2.html#cb255-7"></a>               <span class="dt">outlier.alpha =</span> <span class="fl">0.2</span>) <span class="op">+</span></span>
<span id="cb255-8"><a href="eda2.html#cb255-8"></a><span class="st">  </span><span class="kw">scale_y_log10</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">10</span>,<span class="dv">100</span>)) <span class="op">+</span></span>
<span id="cb255-9"><a href="eda2.html#cb255-9"></a><span class="st">  </span><span class="kw">theme_bw</span>()</span>
<span id="cb255-10"><a href="eda2.html#cb255-10"></a>e1</span></code></pre></div>
<p><img src="07-multivar_eda_files/figure-html/expl-plot1-1.png" width="672" style="display: block; margin: auto;" />
This <a href="https://afdc.energy.gov/data/10562">DOE website</a> outlines the EPA <em>Corporate Average Fuel Economy</em> (CAFE) standards that require vehicles to meet set fuel economy levels (in terms of miles-per-gallon; mpg) across the ‘fleet’ of available vehicles. Let’s load a .csv file named <code>cafe</code> and look at the requirements by year.</p>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb256-1"><a href="eda2.html#cb256-1"></a>cafe &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;./data/CAFE_stds.csv&quot;</span>, <span class="dt">col_names =</span> <span class="kw">c</span>(<span class="st">&quot;year&quot;</span>, <span class="st">&quot;mpg_avg&quot;</span>), <span class="dt">skip =</span> <span class="dv">1</span>)</span>
<span id="cb256-2"><a href="eda2.html#cb256-2"></a></span>
<span id="cb256-3"><a href="eda2.html#cb256-3"></a><span class="kw">ggplot</span>(cafe, <span class="kw">aes</span>(year, mpg_avg)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_col</span>(<span class="dt">fill =</span> <span class="st">&quot;maroon&quot;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb256-4"><a href="eda2.html#cb256-4"></a><span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span></span>
<span id="cb256-5"><a href="eda2.html#cb256-5"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">90</span>, <span class="dt">hjust =</span> <span class="dv">1</span>)) <span class="op">+</span></span>
<span id="cb256-6"><a href="eda2.html#cb256-6"></a><span class="st">  </span><span class="kw">labs</span>( <span class="dt">y =</span> <span class="st">&quot;Required Average Fuel Efficiency (mpg)&quot;</span>, </span>
<span id="cb256-7"><a href="eda2.html#cb256-7"></a>        <span class="dt">x =</span> <span class="st">&quot;Year&quot;</span>, </span>
<span id="cb256-8"><a href="eda2.html#cb256-8"></a>        <span class="dt">title =</span> <span class="st">&quot;Federal Combined Average Fuel Economy (CAFE) Standards&quot;</span>)</span></code></pre></div>
<p><img src="07-multivar_eda_files/figure-html/CAFE-stds-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>This is a nice <a href="https://www.edmunds.com/fuel-economy/faq-new-corporate-average-fuel-economy-standards.html">explanatory story</a> of why the average fuel economy numbers don’t match well to the published CAFE standards.</p>
<p>Create a series of geom_density plots showing combined fuel economy <code>comb08</code>
across all vehicles and years as a function of <code>fuel_type</code>.<br />
Break out the different <code>fuel_type</code> categories into facets (ncol = 3).</p>
<div class="sourceCode" id="cb257"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb257-1"><a href="eda2.html#cb257-1"></a>g1 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> df_mpg) <span class="op">+</span><span class="st"> </span></span>
<span id="cb257-2"><a href="eda2.html#cb257-2"></a><span class="st">  </span><span class="kw">geom_density</span>(<span class="kw">aes</span>(comb08, <span class="dt">fill =</span> fuel_type)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb257-3"><a href="eda2.html#cb257-3"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>fuel_type, <span class="dt">ncol =</span> <span class="dv">3</span>) <span class="op">+</span></span>
<span id="cb257-4"><a href="eda2.html#cb257-4"></a><span class="st">  </span><span class="kw">scale_x_log10</span>() <span class="op">+</span></span>
<span id="cb257-5"><a href="eda2.html#cb257-5"></a><span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span></span>
<span id="cb257-6"><a href="eda2.html#cb257-6"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span>
<span id="cb257-7"><a href="eda2.html#cb257-7"></a></span>
<span id="cb257-8"><a href="eda2.html#cb257-8"></a>g1</span></code></pre></div>
<p><img src="07-multivar_eda_files/figure-html/EDA%20on%20fuel%20type%201-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Show the same plot without facets.</p>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb258-1"><a href="eda2.html#cb258-1"></a>g2 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> df_mpg, <span class="kw">aes</span>(<span class="dt">x=</span>comb08)) <span class="op">+</span></span>
<span id="cb258-2"><a href="eda2.html#cb258-2"></a><span class="st">  </span><span class="kw">geom_density</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> fuel_type),</span>
<span id="cb258-3"><a href="eda2.html#cb258-3"></a>                 <span class="dt">position =</span> <span class="st">&quot;identity&quot;</span>,</span>
<span id="cb258-4"><a href="eda2.html#cb258-4"></a>                 <span class="dt">alpha =</span> <span class="fl">0.6</span>,</span>
<span id="cb258-5"><a href="eda2.html#cb258-5"></a>               <span class="dt">adjust =</span> <span class="dv">1</span>) <span class="op">+</span></span>
<span id="cb258-6"><a href="eda2.html#cb258-6"></a><span class="st">  </span><span class="kw">scale_x_log10</span>() <span class="op">+</span></span>
<span id="cb258-7"><a href="eda2.html#cb258-7"></a><span class="st">  </span><span class="kw">theme_bw</span>() </span>
<span id="cb258-8"><a href="eda2.html#cb258-8"></a></span>
<span id="cb258-9"><a href="eda2.html#cb258-9"></a>g2</span></code></pre></div>
<p><img src="07-multivar_eda_files/figure-html/EDA%20on%20fuel%20type%202-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Q1: Among <em>4-cylinder</em> vehicles with <em>Front-Wheel Drive</em>, what make/model has the best <em>highway fuel economy</em> in 2018?</p>
<div class="sourceCode" id="cb259"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb259-1"><a href="eda2.html#cb259-1"></a>df_mpg <span class="op">%&gt;%</span></span>
<span id="cb259-2"><a href="eda2.html#cb259-2"></a><span class="st">  </span><span class="kw">filter</span>(cyl <span class="op">==</span><span class="st"> </span><span class="dv">4</span>, drive <span class="op">==</span><span class="st"> &quot;Front-Wheel Drive&quot;</span>, year <span class="op">==</span><span class="st"> </span><span class="dv">2018</span>) <span class="op">%&gt;%</span></span>
<span id="cb259-3"><a href="eda2.html#cb259-3"></a><span class="st">  </span><span class="kw">slice_max</span>(<span class="dt">order_by =</span> highway08, <span class="dt">n=</span><span class="dv">1</span>) <span class="op">%&gt;%</span></span>
<span id="cb259-4"><a href="eda2.html#cb259-4"></a><span class="st">  </span><span class="kw">select</span>(make, model, drive, year, highway08)</span></code></pre></div>
<pre><code>## # A tibble: 1 x 5
##   make    model      drive              year highway08
##   &lt;fct&gt;   &lt;chr&gt;      &lt;fct&gt;             &lt;dbl&gt;     &lt;dbl&gt;
## 1 Hyundai Ioniq Blue Front-Wheel Drive  2018        59</code></pre>
<p>Q2: Among <em>8-cylinder</em> vehicles with <em>Rear-wheel Drive</em>, what make/model has the worst <em>city fuel economy</em> in 2019?</p>
<div class="sourceCode" id="cb261"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb261-1"><a href="eda2.html#cb261-1"></a>df_mpg <span class="op">%&gt;%</span></span>
<span id="cb261-2"><a href="eda2.html#cb261-2"></a><span class="st">  </span><span class="kw">filter</span>(cyl <span class="op">==</span><span class="st"> </span><span class="dv">8</span>, drive <span class="op">==</span><span class="st"> &quot;Rear-Wheel Drive&quot;</span>, year <span class="op">==</span><span class="st"> </span><span class="dv">2019</span>) <span class="op">%&gt;%</span></span>
<span id="cb261-3"><a href="eda2.html#cb261-3"></a><span class="st">  </span><span class="kw">slice_min</span>(<span class="dt">order_by =</span> city08) <span class="op">%&gt;%</span></span>
<span id="cb261-4"><a href="eda2.html#cb261-4"></a><span class="st">  </span><span class="co">#top_n(n = -1, wt = city08) %&gt;%</span></span>
<span id="cb261-5"><a href="eda2.html#cb261-5"></a><span class="st">  </span><span class="kw">select</span>(make, model, drive, year, city08)</span></code></pre></div>
<pre><code>## # A tibble: 1 x 5
##   make    model    drive             year city08
##   &lt;fct&gt;   &lt;chr&gt;    &lt;fct&gt;            &lt;dbl&gt;  &lt;dbl&gt;
## 1 Bentley Mulsanne Rear-Wheel Drive  2019     10</code></pre>
<div class="figure" style="text-align: center"><span id="fig:Q2a"></span>
<img src="images/Bentley_Mulsanne_2019.jpg" alt="The Bentley Mulsanne: $330k lets you park it on the sidewalk!" width="450pt" />
<p class="caption">
Figure 7.9: The Bentley Mulsanne: $330k lets you park it on the sidewalk!
</p>
</div>
</div>
</div>
<div id="ch-7-homework" class="section level2">
<h2><span class="header-section-number">7.6</span> Ch-7 Homework</h2>
<p>Create a data fram from <code>df_mpg</code> that contains observations only for
“Front-Wheel Drive” vehicles (one of the <code>drive</code> levels) that run on
“Regular Gasoline” (a <code>fuel_type</code> level). With these data:</p>
<ol style="list-style-type: decimal">
<li>Create a series of boxplots showing combined fuel efficiency on the y-axis
and year on the x-axis.</li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="rprog3.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="rprog4.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
