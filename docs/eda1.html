<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Univariate Data Exploration | Engineering Data Analysis in R</title>
  <meta name="description" content="This is an undergraduate technical elective course for mechanical engineers who wish to lean about data analysis using the R programming language." />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Univariate Data Exploration | Engineering Data Analysis in R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is an undergraduate technical elective course for mechanical engineers who wish to lean about data analysis using the R programming language." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Univariate Data Exploration | Engineering Data Analysis in R" />
  
  <meta name="twitter:description" content="This is an undergraduate technical elective course for mechanical engineers who wish to lean about data analysis using the R programming language." />
  

<meta name="author" content="John Volckens" />


<meta name="date" content="2020-06-22" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="dataviz.html"/>
<link rel="next" href="rprog3.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Engineering Data Analysis in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#how-to-use-this-book"><i class="fa fa-check"></i><b>1.1</b> How to use this book</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#prerequisites"><i class="fa fa-check"></i><b>1.2</b> Prerequisites</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#grading"><i class="fa fa-check"></i><b>1.3</b> Grading</a><ul>
<li class="chapter" data-level="1.3.1" data-path="index.html"><a href="index.html#grading-for-mech-481a6"><i class="fa fa-check"></i><b>1.3.1</b> Grading for MECH 481A6</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#course-set-up"><i class="fa fa-check"></i><b>1.4</b> Course set-up</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#coursebook"><i class="fa fa-check"></i><b>1.5</b> Coursebook</a><ul>
<li class="chapter" data-level="1.5.1" data-path="index.html"><a href="index.html#other-helpful-books-not-required"><i class="fa fa-check"></i><b>1.5.1</b> Other helpful books (not required)</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i><b>1.6</b> Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="rprog1.html"><a href="rprog1.html"><i class="fa fa-check"></i><b>2</b> The R Programming Environment</a><ul>
<li class="chapter" data-level="2.1" data-path="rprog1.html"><a href="rprog1.html#objectives"><i class="fa fa-check"></i><b>2.1</b> Objectives</a></li>
<li class="chapter" data-level="2.2" data-path="rprog1.html"><a href="rprog1.html#r-and-r-studio"><i class="fa fa-check"></i><b>2.2</b> R and R Studio</a><ul>
<li class="chapter" data-level="2.2.1" data-path="rprog1.html"><a href="rprog1.html#what-is-r"><i class="fa fa-check"></i><b>2.2.1</b> What is R?</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="rprog1.html"><a href="rprog1.html#communicating-with-r"><i class="fa fa-check"></i><b>2.3</b> Communicating with R</a><ul>
<li class="chapter" data-level="2.3.1" data-path="rprog1.html"><a href="rprog1.html#r-sessions-the-console-and-the-command-prompt"><i class="fa fa-check"></i><b>2.3.1</b> R sessions, the console, and the command prompt</a></li>
<li class="chapter" data-level="2.3.2" data-path="rprog1.html"><a href="rprog1.html#r-expressions-function-calls-and-objects"><i class="fa fa-check"></i><b>2.3.2</b> R expressions, function calls, and objects</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="rprog1.html"><a href="rprog1.html#r-scripts"><i class="fa fa-check"></i><b>2.4</b> R scripts</a><ul>
<li class="chapter" data-level="2.4.1" data-path="rprog1.html"><a href="rprog1.html#commenting-code"><i class="fa fa-check"></i><b>2.4.1</b> Commenting code</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="rprog1.html"><a href="rprog1.html#the-package-system"><i class="fa fa-check"></i><b>2.5</b> The “package” system</a><ul>
<li class="chapter" data-level="2.5.1" data-path="rprog1.html"><a href="rprog1.html#r-packages"><i class="fa fa-check"></i><b>2.5.1</b> R packages</a></li>
<li class="chapter" data-level="2.5.2" data-path="rprog1.html"><a href="rprog1.html#installing-from-cran"><i class="fa fa-check"></i><b>2.5.2</b> Installing from CRAN</a></li>
<li class="chapter" data-level="2.5.3" data-path="rprog1.html"><a href="rprog1.html#loading-an-installed-package"><i class="fa fa-check"></i><b>2.5.3</b> Loading an installed package</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="rprog1.html"><a href="rprog1.html#rs-most-basic-object-types"><i class="fa fa-check"></i><b>2.6</b> R’s most basic object types</a><ul>
<li class="chapter" data-level="2.6.1" data-path="rprog1.html"><a href="rprog1.html#vectors"><i class="fa fa-check"></i><b>2.6.1</b> Vectors</a></li>
<li class="chapter" data-level="2.6.2" data-path="rprog1.html"><a href="rprog1.html#dataframes"><i class="fa fa-check"></i><b>2.6.2</b> Dataframes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="rprog2.html"><a href="rprog2.html"><i class="fa fa-check"></i><b>3</b> Getting and Cleaning Data</a><ul>
<li class="chapter" data-level="3.1" data-path="rprog2.html"><a href="rprog2.html#objectives-1"><i class="fa fa-check"></i><b>3.1</b> Objectives</a></li>
<li class="chapter" data-level="3.2" data-path="rprog2.html"><a href="rprog2.html#overview"><i class="fa fa-check"></i><b>3.2</b> Overview</a></li>
<li class="chapter" data-level="3.3" data-path="rprog2.html"><a href="rprog2.html#reading-data-into-r"><i class="fa fa-check"></i><b>3.3</b> Reading data into R</a><ul>
<li class="chapter" data-level="3.3.1" data-path="rprog2.html"><a href="rprog2.html#reading-local-flat-files"><i class="fa fa-check"></i><b>3.3.1</b> Reading local flat files</a></li>
<li class="chapter" data-level="3.3.2" data-path="rprog2.html"><a href="rprog2.html#reading-in-other-file-types"><i class="fa fa-check"></i><b>3.3.2</b> Reading in other file types</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="rprog2.html"><a href="rprog2.html#directories-and-pathnames"><i class="fa fa-check"></i><b>3.4</b> Directories and pathnames</a><ul>
<li class="chapter" data-level="3.4.1" data-path="rprog2.html"><a href="rprog2.html#directory-structure"><i class="fa fa-check"></i><b>3.4.1</b> Directory structure</a></li>
<li class="chapter" data-level="3.4.2" data-path="rprog2.html"><a href="rprog2.html#working-directory"><i class="fa fa-check"></i><b>3.4.2</b> Working directory</a></li>
<li class="chapter" data-level="3.4.3" data-path="rprog2.html"><a href="rprog2.html#file-and-directory-pathnames"><i class="fa fa-check"></i><b>3.4.3</b> File and directory pathnames</a></li>
<li class="chapter" data-level="3.4.4" data-path="rprog2.html"><a href="rprog2.html#diversion-paste"><i class="fa fa-check"></i><b>3.4.4</b> Diversion: <code>paste</code></a></li>
<li class="chapter" data-level="3.4.5" data-path="rprog2.html"><a href="rprog2.html#reading-online-flat-files"><i class="fa fa-check"></i><b>3.4.5</b> Reading online flat files</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="rprog2.html"><a href="rprog2.html#data-cleaning"><i class="fa fa-check"></i><b>3.5</b> Data cleaning</a><ul>
<li class="chapter" data-level="3.5.1" data-path="rprog2.html"><a href="rprog2.html#renaming-columns"><i class="fa fa-check"></i><b>3.5.1</b> Renaming columns</a></li>
<li class="chapter" data-level="3.5.2" data-path="rprog2.html"><a href="rprog2.html#selecting-columns"><i class="fa fa-check"></i><b>3.5.2</b> Selecting columns</a></li>
<li class="chapter" data-level="3.5.3" data-path="rprog2.html"><a href="rprog2.html#add-or-change-columns"><i class="fa fa-check"></i><b>3.5.3</b> Add or change columns</a></li>
<li class="chapter" data-level="3.5.4" data-path="rprog2.html"><a href="rprog2.html#base-r-equivalents-to-dplyr-functions"><i class="fa fa-check"></i><b>3.5.4</b> Base R equivalents to <code>dplyr</code> functions</a></li>
<li class="chapter" data-level="3.5.5" data-path="rprog2.html"><a href="rprog2.html#filtering-to-certain-rows"><i class="fa fa-check"></i><b>3.5.5</b> Filtering to certain rows</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="rprog2.html"><a href="rprog2.html#piping"><i class="fa fa-check"></i><b>3.6</b> Piping</a></li>
<li class="chapter" data-level="3.7" data-path="rprog2.html"><a href="rprog2.html#in-course-exercise"><i class="fa fa-check"></i><b>3.7</b> In-course Exercise</a><ul>
<li class="chapter" data-level="3.7.1" data-path="rprog2.html"><a href="rprog2.html#downloading-and-checking-out-the-example-data"><i class="fa fa-check"></i><b>3.7.1</b> Downloading and checking out the example data</a></li>
<li class="chapter" data-level="3.7.2" data-path="rprog2.html"><a href="rprog2.html#reading-in-different-types-of-files"><i class="fa fa-check"></i><b>3.7.2</b> Reading in different types of files</a></li>
<li class="chapter" data-level="3.7.3" data-path="rprog2.html"><a href="rprog2.html#directory-structure-1"><i class="fa fa-check"></i><b>3.7.3</b> Directory structure</a></li>
<li class="chapter" data-level="3.7.4" data-path="rprog2.html"><a href="rprog2.html#cleaning-up-data-1"><i class="fa fa-check"></i><b>3.7.4</b> Cleaning up data #1</a></li>
<li class="chapter" data-level="3.7.5" data-path="rprog2.html"><a href="rprog2.html#cleaning-up-data-2"><i class="fa fa-check"></i><b>3.7.5</b> Cleaning up data #2</a></li>
<li class="chapter" data-level="3.7.6" data-path="rprog2.html"><a href="rprog2.html#piping-1"><i class="fa fa-check"></i><b>3.7.6</b> Piping</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="dataviz.html"><a href="dataviz.html"><i class="fa fa-check"></i><b>4</b> Data Visualization: ggplot2</a><ul>
<li class="chapter" data-level="4.1" data-path="dataviz.html"><a href="dataviz.html#objectives-2"><i class="fa fa-check"></i><b>4.1</b> Objectives</a></li>
<li class="chapter" data-level="4.2" data-path="dataviz.html"><a href="dataviz.html#install-and-call-ggplot2"><i class="fa fa-check"></i><b>4.2</b> Install and call <code>ggplot2</code></a><ul>
<li class="chapter" data-level="4.2.1" data-path="dataviz.html"><a href="dataviz.html#initializing-a-ggplot-object"><i class="fa fa-check"></i><b>4.2.1</b> Initializing a ggplot object</a></li>
<li class="chapter" data-level="4.2.2" data-path="dataviz.html"><a href="dataviz.html#plot-aesthetics"><i class="fa fa-check"></i><b>4.2.2</b> Plot aesthetics</a></li>
<li class="chapter" data-level="4.2.3" data-path="dataviz.html"><a href="dataviz.html#adding-geoms"><i class="fa fa-check"></i><b>4.2.3</b> Adding geoms</a></li>
<li class="chapter" data-level="4.2.4" data-path="dataviz.html"><a href="dataviz.html#aesthetic-override-a-warning"><i class="fa fa-check"></i><b>4.2.4</b> Aesthetic override: a warning</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="dataviz.html"><a href="dataviz.html#shapes-and-colors"><i class="fa fa-check"></i><b>4.3</b> Shapes and colors</a></li>
<li class="chapter" data-level="4.4" data-path="dataviz.html"><a href="dataviz.html#scales-useful-plot-edits"><i class="fa fa-check"></i><b>4.4</b> Scales: useful plot edits</a></li>
<li class="chapter" data-level="4.5" data-path="dataviz.html"><a href="dataviz.html#example-plot"><i class="fa fa-check"></i><b>4.5</b> Example plot</a></li>
<li class="chapter" data-level="4.6" data-path="dataviz.html"><a href="dataviz.html#store-and-save-ggplot2-objects"><i class="fa fa-check"></i><b>4.6</b> Store and save ggplot2 objects</a></li>
<li class="chapter" data-level="4.7" data-path="dataviz.html"><a href="dataviz.html#getting-help-with-ggplot2"><i class="fa fa-check"></i><b>4.7</b> Getting help with ggplot2</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="eda1.html"><a href="eda1.html"><i class="fa fa-check"></i><b>5</b> Univariate Data Exploration</a><ul>
<li class="chapter" data-level="5.1" data-path="eda1.html"><a href="eda1.html#objectives-3"><i class="fa fa-check"></i><b>5.1</b> Objectives</a></li>
<li class="chapter" data-level="5.2" data-path="eda1.html"><a href="eda1.html#univariate-data"><i class="fa fa-check"></i><b>5.2</b> Univariate Data</a><ul>
<li class="chapter" data-level="5.2.1" data-path="eda1.html"><a href="eda1.html#location-dispersion-and-shape"><i class="fa fa-check"></i><b>5.2.1</b> Location, Dispersion, and Shape</a></li>
<li class="chapter" data-level="5.2.2" data-path="eda1.html"><a href="eda1.html#example-location-and-dispersion"><i class="fa fa-check"></i><b>5.2.2</b> Example: Location and Dispersion</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="eda1.html"><a href="eda1.html#quantiles"><i class="fa fa-check"></i><b>5.3</b> Quantiles</a><ul>
<li class="chapter" data-level="5.3.1" data-path="eda1.html"><a href="eda1.html#quantiles-and-descriptive-statistics"><i class="fa fa-check"></i><b>5.3.1</b> Quantiles and Descriptive Statistics</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="eda1.html"><a href="eda1.html#univariate-data-visualization"><i class="fa fa-check"></i><b>5.4</b> Univariate Data Visualization</a><ul>
<li class="chapter" data-level="5.4.1" data-path="eda1.html"><a href="eda1.html#summary-vs.enumerative-plots"><i class="fa fa-check"></i><b>5.4.1</b> Summary vs. Enumerative Plots</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="eda1.html"><a href="eda1.html#cumulative-distribution-plot"><i class="fa fa-check"></i><b>5.5</b> Cumulative Distribution Plot</a><ul>
<li class="chapter" data-level="5.5.1" data-path="eda1.html"><a href="eda1.html#cumulative-distribution-plot-example"><i class="fa fa-check"></i><b>5.5.1</b> Cumulative Distribution Plot Example</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="eda1.html"><a href="eda1.html#hist"><i class="fa fa-check"></i><b>5.6</b> Histogram</a><ul>
<li class="chapter" data-level="5.6.1" data-path="eda1.html"><a href="eda1.html#histogram-what-to-look-for"><i class="fa fa-check"></i><b>5.6.1</b> Histogram: what to look for?</a></li>
<li class="chapter" data-level="5.6.2" data-path="eda1.html"><a href="eda1.html#what-causes-skewed-histograms"><i class="fa fa-check"></i><b>5.6.2</b> What causes skewed histograms?</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="eda1.html"><a href="eda1.html#box"><i class="fa fa-check"></i><b>5.7</b> Boxplot</a></li>
<li class="chapter" data-level="5.8" data-path="eda1.html"><a href="eda1.html#time_series"><i class="fa fa-check"></i><b>5.8</b> Time-Series</a></li>
<li class="chapter" data-level="5.9" data-path="eda1.html"><a href="eda1.html#autocorr"><i class="fa fa-check"></i><b>5.9</b> Autocorrelation</a><ul>
<li class="chapter" data-level="5.9.1" data-path="eda1.html"><a href="eda1.html#partial-autocorrelation"><i class="fa fa-check"></i><b>5.9.1</b> Partial Autocorrelation</a></li>
</ul></li>
<li class="chapter" data-level="5.10" data-path="eda1.html"><a href="eda1.html#in-course-exercises"><i class="fa fa-check"></i><b>5.10</b> In-course Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="rprog3.html"><a href="rprog3.html"><i class="fa fa-check"></i><b>6</b> Dates, Strings, and Tidying</a><ul>
<li class="chapter" data-level="6.1" data-path="rprog3.html"><a href="rprog3.html#objectives-4"><i class="fa fa-check"></i><b>6.1</b> Objectives</a></li>
<li class="chapter" data-level="6.2" data-path="rprog3.html"><a href="rprog3.html#dates"><i class="fa fa-check"></i><b>6.2</b> Dates</a></li>
<li class="chapter" data-level="6.3" data-path="rprog3.html"><a href="rprog3.html#dates-in-r"><i class="fa fa-check"></i><b>6.3</b> Dates in R</a></li>
<li class="chapter" data-level="6.4" data-path="rprog3.html"><a href="rprog3.html#strings"><i class="fa fa-check"></i><b>6.4</b> Strings</a><ul>
<li class="chapter" data-level="6.4.1" data-path="rprog3.html"><a href="rprog3.html#string-detect-match"><i class="fa fa-check"></i><b>6.4.1</b> String detect &amp; match</a></li>
<li class="chapter" data-level="6.4.2" data-path="rprog3.html"><a href="rprog3.html#regular-expressions"><i class="fa fa-check"></i><b>6.4.2</b> Regular Expressions</a></li>
<li class="chapter" data-level="6.4.3" data-path="rprog3.html"><a href="rprog3.html#string-split-separate"><i class="fa fa-check"></i><b>6.4.3</b> String split &amp; separate</a></li>
<li class="chapter" data-level="6.4.4" data-path="rprog3.html"><a href="rprog3.html#string-extract-remove"><i class="fa fa-check"></i><b>6.4.4</b> String extract &amp; remove</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="rprog3.html"><a href="rprog3.html#tidy-data"><i class="fa fa-check"></i><b>6.5</b> Tidy Data</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="eda2.html"><a href="eda2.html"><i class="fa fa-check"></i><b>7</b> Multivariate Data Exploration</a><ul>
<li class="chapter" data-level="7.1" data-path="eda2.html"><a href="eda2.html#objectives-5"><i class="fa fa-check"></i><b>7.1</b> Objectives</a></li>
<li class="chapter" data-level="7.2" data-path="eda2.html"><a href="eda2.html#bivariate"><i class="fa fa-check"></i><b>7.2</b> Bivariate Data</a></li>
<li class="chapter" data-level="7.3" data-path="eda2.html"><a href="eda2.html#scatt"><i class="fa fa-check"></i><b>7.3</b> Scatterplot</a><ul>
<li class="chapter" data-level="7.3.1" data-path="eda2.html"><a href="eda2.html#causality"><i class="fa fa-check"></i><b>7.3.1</b> Causality</a></li>
<li class="chapter" data-level="7.3.2" data-path="eda2.html"><a href="eda2.html#correlation"><i class="fa fa-check"></i><b>7.3.2</b> Correlation</a></li>
<li class="chapter" data-level="7.3.3" data-path="eda2.html"><a href="eda2.html#correlation-neq-causation"><i class="fa fa-check"></i><b>7.3.3</b> Correlation <span class="math inline">\(\neq\)</span> causation</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="eda2.html"><a href="eda2.html#qqplot"><i class="fa fa-check"></i><b>7.4</b> Q-Q Plot (Quantile-Quantile)</a></li>
<li class="chapter" data-level="7.5" data-path="eda2.html"><a href="eda2.html#Tukey"><i class="fa fa-check"></i><b>7.5</b> Tukey Mean Difference Plot</a></li>
<li class="chapter" data-level="7.6" data-path="eda2.html"><a href="eda2.html#exploring-multivariate-data"><i class="fa fa-check"></i><b>7.6</b> Exploring Multivariate Data</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="rprog4.html"><a href="rprog4.html"><i class="fa fa-check"></i><b>8</b> Functional Programming</a><ul>
<li class="chapter" data-level="8.1" data-path="rprog4.html"><a href="rprog4.html#step-iii-1"><i class="fa fa-check"></i><b>8.1</b> Step III-1</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="eda3.html"><a href="eda3.html"><i class="fa fa-check"></i><b>9</b> Tips and Tricks for Data Exploration</a><ul>
<li class="chapter" data-level="9.1" data-path="eda3.html"><a href="eda3.html#transformation"><i class="fa fa-check"></i><b>9.1</b> Transformation</a></li>
<li class="chapter" data-level="9.2" data-path="eda3.html"><a href="eda3.html#centering"><i class="fa fa-check"></i><b>9.2</b> Centering</a></li>
<li class="chapter" data-level="9.3" data-path="eda3.html"><a href="eda3.html#normalizing"><i class="fa fa-check"></i><b>9.3</b> Normalizing</a><ul>
<li class="chapter" data-level="9.3.1" data-path="eda3.html"><a href="eda3.html#standardizing"><i class="fa fa-check"></i><b>9.3.1</b> Standardizing</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="eda3.html"><a href="eda3.html#stratification"><i class="fa fa-check"></i><b>9.4</b> Stratification</a></li>
<li class="chapter" data-level="9.5" data-path="eda3.html"><a href="eda3.html#censoring-and-truncating"><i class="fa fa-check"></i><b>9.5</b> Censoring and Truncating</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="measure.html"><a href="measure.html"><i class="fa fa-check"></i><b>10</b> Measurement</a><ul>
<li class="chapter" data-level="10.1" data-path="measure.html"><a href="measure.html#sampling"><i class="fa fa-check"></i><b>10.1</b> Sampling</a><ul>
<li class="chapter" data-level="10.1.1" data-path="measure.html"><a href="measure.html#samples-vs.populations"><i class="fa fa-check"></i><b>10.1.1</b> Samples vs. Populations</a></li>
<li class="chapter" data-level="10.1.2" data-path="measure.html"><a href="measure.html#collecting-a-sample"><i class="fa fa-check"></i><b>10.1.2</b> Collecting a sample</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="measure.html"><a href="measure.html#figures-of-merit"><i class="fa fa-check"></i><b>10.2</b> Figures of Merit</a><ul>
<li class="chapter" data-level="10.2.1" data-path="measure.html"><a href="measure.html#accuracy"><i class="fa fa-check"></i><b>10.2.1</b> Accuracy</a></li>
<li class="chapter" data-level="10.2.2" data-path="measure.html"><a href="measure.html#precision"><i class="fa fa-check"></i><b>10.2.2</b> Precision</a></li>
<li class="chapter" data-level="10.2.3" data-path="measure.html"><a href="measure.html#bias"><i class="fa fa-check"></i><b>10.2.3</b> Bias</a></li>
<li class="chapter" data-level="10.2.4" data-path="measure.html"><a href="measure.html#limit-of-detection"><i class="fa fa-check"></i><b>10.2.4</b> Limit of Detection</a></li>
<li class="chapter" data-level="10.2.5" data-path="measure.html"><a href="measure.html#failure-and-reliability"><i class="fa fa-check"></i><b>10.2.5</b> Failure and Reliability</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="model.html"><a href="model.html"><i class="fa fa-check"></i><b>11</b> Modeling</a><ul>
<li class="chapter" data-level="11.1" data-path="model.html"><a href="model.html#fitting"><i class="fa fa-check"></i><b>11.1</b> Fitting</a><ul>
<li class="chapter" data-level="11.1.1" data-path="model.html"><a href="model.html#pdf"><i class="fa fa-check"></i><b>11.1.1</b> Probability Density Function</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="model.html"><a href="model.html#linear-models"><i class="fa fa-check"></i><b>11.2</b> Linear Models</a><ul>
<li class="chapter" data-level="11.2.1" data-path="model.html"><a href="model.html#assumptions-of-linear-regression"><i class="fa fa-check"></i><b>11.2.1</b> Assumptions of Linear Regression</a></li>
<li class="chapter" data-level="11.2.2" data-path="model.html"><a href="model.html#diagnostics"><i class="fa fa-check"></i><b>11.2.2</b> Diagnostics</a></li>
<li class="chapter" data-level="11.2.3" data-path="model.html"><a href="model.html#ordinary-least-squares"><i class="fa fa-check"></i><b>11.2.3</b> Ordinary Least Squares</a></li>
<li class="chapter" data-level="11.2.4" data-path="model.html"><a href="model.html#weighted-least-squares"><i class="fa fa-check"></i><b>11.2.4</b> Weighted Least Squares</a></li>
<li class="chapter" data-level="11.2.5" data-path="model.html"><a href="model.html#deming-regression"><i class="fa fa-check"></i><b>11.2.5</b> Deming Regression</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="simulate.html"><a href="simulate.html"><i class="fa fa-check"></i><b>12</b> Simulation</a><ul>
<li class="chapter" data-level="12.1" data-path="simulate.html"><a href="simulate.html#introduction-to-simulation"><i class="fa fa-check"></i><b>12.1</b> Introduction to simulation</a></li>
<li class="chapter" data-level="12.2" data-path="simulate.html"><a href="simulate.html#simulation-example"><i class="fa fa-check"></i><b>12.2</b> Simulation Example:</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="dist.html"><a href="dist.html"><i class="fa fa-check"></i><b>13</b> Appendix: Reference Distributions</a><ul>
<li class="chapter" data-level="13.1" data-path="dist.html"><a href="dist.html#unif_dist"><i class="fa fa-check"></i><b>13.1</b> Uniform Distribution</a><ul>
<li class="chapter" data-level="13.1.1" data-path="dist.html"><a href="dist.html#characteristic-plots-uniform-distribution"><i class="fa fa-check"></i><b>13.1.1</b> Characteristic Plots: Uniform Distribution</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="dist.html"><a href="dist.html#normal_dist"><i class="fa fa-check"></i><b>13.2</b> Normal Distribution</a><ul>
<li class="chapter" data-level="13.2.1" data-path="dist.html"><a href="dist.html#normal-distribution-characteristic-plots"><i class="fa fa-check"></i><b>13.2.1</b> Normal Distribution: Characteristic Plots</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="dist.html"><a href="dist.html#log_normal_dist"><i class="fa fa-check"></i><b>13.3</b> Log-normal Distribution</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Engineering Data Analysis in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="eda1" class="section level1">
<h1><span class="header-section-number">Chapter 5</span> Univariate Data Exploration</h1>
<blockquote>
<p><em><span style="color: blue;"> Exploratory data analysis is graphical detective work - John Tukey </span></em></p>
</blockquote>
<p>Exploratory Data Analysis (also known as EDA) is largely a visual technique based on the human trait of <em>“pattern recognition”</em>. The purpose of EDA is simple: learn about your data through diagnostic visualization.</p>
<p><strong>Why is Exploratory Data Analysis (EDA) useful?</strong>
Because getting to know a dataset is a key step towards making sense of it, and EDA is a great way to familiarize oneself with a dataset. As a result, you can use EDA to do many powerful things in a short span of time.</p>
<p>Think of the word <strong>“Exploratory”</strong> in terms of <strong>“Hypothesis Building”</strong>.</p>
<ul>
<li>In other words, <strong>modeling</strong> and <strong>statistical inference testing</strong> should come <em>after</em> EDA.<br />
</li>
<li>In other, other words: You can use EDA to jump start ideas on <em>“what do I do with my data?”</em>!</li>
</ul>
<blockquote>
<p><em><span style="color: blue;"> Perfect data is boring. Flawed data, on the other hand, is interesting and mysterious. Perfect data doesn’t get asked out on a second date. - me </span> </em></p>
</blockquote>
<div id="objectives-3" class="section level2">
<h2><span class="header-section-number">5.1</span> Objectives</h2>
<p>This Chapter is designed around the following learning objectives. Upon completing this Chapter, you should be able to:</p>
<ul>
<li>Define and interpret the location, dispersion, and shape of univariate data distributions</li>
<li>Calculate quantiles and basic descriptive statistics for univariate data</li>
<li>Create a cumulative distribution plot and extract quantile information from it</li>
<li>Create and interpret data from a histogtam</li>
<li>Define skewness (and its effect on measures of spread and central tendency) in qualitative terms</li>
<li>Create a time-series plot and identify shifts in location and dispersion</li>
<li>Define autocorrelation (quantitatively and qualitatively)</li>
<li>Identidy time lags where autocorrelation is significant using an autocorrelation (and partial autocorrelation) plot</li>
</ul>
</div>
<div id="univariate-data" class="section level2">
<h2><span class="header-section-number">5.2</span> Univariate Data</h2>
<p><em>Univartiate</em> means “only one variable” being considered (like medical doctors, statisticians enjoy the use fancy words to describe things…).</p>
<p><em>Univariate data analyses</em> describe ways to discover features about a single variable or quantity. While simple, univariate analyses are a great starting point for EDA because they allow us to isolate a variable for inspection. The variation in diameter of a mass-produced component, or pollutant concentration in the atmosphere, or the rate of a beating heart are all examples of things we might examine in a univariate sense. This is, of course, a potentially risky procedure because, as engineers, we are taught about <em>mechanisms</em> and <em>dependencies</em> that imply that variable A is inextricably linked to variable B through some physical process. That’s OK to admit. Univariate analyses are still useful. Trust me for now or just skip ahead to multivariate analyses…your choice.</p>
<div id="location-dispersion-and-shape" class="section level3">
<h3><span class="header-section-number">5.2.1</span> Location, Dispersion, and Shape</h3>
<p>Univariate EDA often begins with an attempy to discover three important properties about an observed variable: its location, dispersion, and shape. Once you define these properties (the “what”), you can begin to probe the underlying causes for these properties (the “how” and “why”). Discovering “how” and “why” of a variable’s location, dispersion, and shape might sound simple, and yet, answering such questions often represents the pinnacle of scientific discovery (read: they give out nobel prizes for that stuff). Let’s start with “what” (location, dispersion, and shape) and build from there.</p>
<p>The <strong>location</strong> of univariate data means: where do most of the values/observations fall? Do they tend to be large or small, based on what you know about the variable?</p>
<p>The <strong>dispersion</strong> of the data refers to its variability. Are the values tightly bound in a small range or do they vary widely from one observation to the next? Note that the phrase “varies widely” is contextual. The variation in the cost of an ice cream cone from one location to the next might look small to you but could mean the difference between joy and sorrow to a 10-year-old with only a $1.50 in their pocket…</p>
<p>The <strong>shape</strong> of the distribution is actually a combination of location and dispersion but with some mathematical nuance. Knowing the shape of your data distribution means that you have insight into its <em>probability density function</em>. One wishes to know the “shape” of the populaiton distribution they are attempting to observe because once you know a distribution’s shape, you can model it. And if you can model the distribution, you can begin to make inferences about it (read: make extrapolations, predictions, or other types of inference).</p>
<p>The shape of a distribution of data is often categorized based on whether it looks similar to one of many <strong><em><a href="dist.html#dist">reference distributions</a></em></strong>. You can think of reference distributions like species of living organisms; there are lots out there but once you categorize one you can likely predict its behavior. In other words, if the shape of your data matches a reference distribution, most of your modeling work is already done! Examples of reference distributions include the normal distribution, the lognormal distribution, the uniform distribution etc. More on different types of <em>reference distributions</em> <a href="dist.html#dist">here</a>.</p>
</div>
<div id="example-location-and-dispersion" class="section level3">
<h3><span class="header-section-number">5.2.2</span> Example: Location and Dispersion</h3>
<p>Let’s plan a camping trip. Our trip is purely theotrical…so let’s not worry about costs, logistics, or other important factors. For this exercise we only care about <em>comfort</em> while outdoors. When I think of being comfortable outdoors, the first thing that comes to mind is <strong><em>temperature</em></strong>. Did I bring the proper clothing?</p>
<p>We will consider going camping in two lovely spots: the first is the forest preserves along the Na Pali coast in Kauai, Hawaii and the second is the sunny hiking/climbing regoin around Jack’s Canyon in southwest Colorado. Let’s examine the location and dispersion of hourly temperatures in these two regions for the month of July, 2010 We can download such data from the <NOAA Climate Data Center>[<a href="https://www.ncdc.noaa.gov/cdo-web/search" class="uri">https://www.ncdc.noaa.gov/cdo-web/search</a>] that provides daily average, minimum, and maximum temperature readings for these two regions. Once we know the <strong>location</strong> and <strong>dispersion</strong> of these data, we can decide what clothes to bring!</p>
<p>We create a simple plot <a href="eda1.html#fig:NOAA-temps-2">5.1</a> that summarizes the various temperatures measured at these two regions.</p>
<div class="figure" style="text-align: center"><span id="fig:NOAA-temps-2"></span>
<img src="images/NOAA_temps.png" alt="Hourly temperature levels in Colorado and Hawaii for the month of July, 2010." width="700pt" />
<p class="caption">
Figure 5.1: Hourly temperature levels in Colorado and Hawaii for the month of July, 2010.
</p>
</div>
<p>First, if we are picking spots to go camping, both locations have daily averaage temperatures that seem very pleasant (the average is about 78.9 <span class="math inline">\(^\circ\)</span>F in Colorado and 78.6 <span class="math inline">\(^\circ\)</span>F in Hawaii). When we calculate an average value we are creating an indicator of a variable’s <strong>location</strong>. However, if we look at the <strong>dispersion</strong> of temperature observations (how the readings vary across the month), we can make an important distiction: the range of observed temperature values in Hawaii is fairly narrow, whereas the range in Colorado spans from 64.4 to
91.8 <span class="math inline">\(^\circ\)</span>F!</p>
<p>The conclusion to be drawn here is that the <strong><em>central tendencies</em></strong> of hourly temperature are nearly identical between Hawaii and Colorado but the <strong><em>dispersion</em></strong> of the temperature data suggests that you might want to pack more gear if you want to be comfortable in Colorado (see <a href="eda1.html#fig:NOAA-temps-annotate">5.2</a>.</p>
<p>You will discover that there are many ways to communicate location (e.g., mode, mean, median) and dispersion (e.g., range, IQR, standard deviation); we will touch upon several such descriptors in this course.</p>
<div class="figure" style="text-align: center"><span id="fig:NOAA-temps-annotate"></span>
<img src="images/NOAA_temps_annotate.png" alt="The Hawaii and Colorado temperature data have similar locations (or central tendencies) but differing dispersion (or spread)." width="700pt" />
<p class="caption">
Figure 5.2: The Hawaii and Colorado temperature data have similar locations (or central tendencies) but differing dispersion (or spread).
</p>
</div>
</div>
</div>
<div id="quantiles" class="section level2">
<h2><span class="header-section-number">5.3</span> Quantiles</h2>
<p>Let’s assume you have a sample of univariate data. A good starting point for exploring these data is to break them into <em>quantiles</em> and extract some basic information. Quantiles allow you to see things like the start, middle, and end rather quickly, because the first step of quantile calculation is to sort your data from smallest to largest value.</p>
<div class="rmdtip">
<p>
A Quantile represents a fractional portion of an ordered, univariate distribution.
</p>
</div>
<p>In other words, quantiles break a set of observations into similarly sized ‘chunks’ where each chunk represents an equal fraction of the total distribution from start to finish. If you line your data up from smallest to largest and then slice that list into sections, you have created a set of quantiles. For example, when a distribition is broken into 10 equal chunks, or <em>deciles</em>, the first quantile (the 10<sup>th</sup> % or the 0.1 fraction) represents the value that bounds the lower 10 % of the observed data. The second quantile (0.2 fraction) represents the 20<sup>th</sup>% value for the observed data. The 0.3 quantile represents the 30<sup>th</sup>%, and so on. There are two important aspects to remember about quantiles: (1) Each quantile is defined only by its upper-end value; (2) quantiles are defined after the data have been <em>rank ordered</em> from lowest to highest value.</p>
<p>Quantiles are often used to communicate <strong><em>descriptive statistics</em></strong> for univariate data:</p>
<p>The two most extreme quantiles define the <strong><em>Range</em></strong>:</p>
<ul>
<li><code>Min</code>: the 0% or lowest value; the zeroth quantile</li>
<li><code>Max</code>: the 100<sup>th</sup> percentile (or 1.0 in fractional terms); the highest value observed; the n<sup>th</sup> quantile</li>
</ul>
<p>If you break a distribution into quarters, you have created <em>Quartiles</em>. Let’s generate a sample of random numbers between 0 and 100 and break the resulting data into quartiles. A random number generator (<code>runif</code>) will create a <strong><a href="dist.html#unif_dist">uniform distribution</a></strong> across the sample range since all values have equal probability of being chosen. With that in mind, you can probably guess what the quartiles will look like, given a sufficiently large sample…</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb220-1" data-line-number="1"><span class="kw">set.seed</span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb220-2" data-line-number="2">univar1 &lt;-<span class="st"> </span><span class="kw">runif</span>(<span class="dt">n =</span> <span class="dv">1000</span>, <span class="dt">min =</span> <span class="dv">0</span>, <span class="dt">max =</span> <span class="dv">100</span>)</a>
<a class="sourceLine" id="cb220-3" data-line-number="3">univar1_quartiles &lt;-<span class="st"> </span><span class="kw">quantile</span>(univar1, <span class="dt">probs =</span> <span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="fl">0.25</span>)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">round</span>(<span class="dv">1</span>)</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:quantiles-2"></span>
<img src="images/quantile_1.png" alt="Quartiles estimated from n=1000 samples of a uniform distribution between 0 and 100" width="700pt" />
<p class="caption">
Figure 5.3: Quartiles estimated from n=1000 samples of a uniform distribution between 0 and 100
</p>
</div>
<p>As expected, the 1<sup>st</sup>, 2<sup>nd</sup>, 3<sup>rd</sup>, and 4<sup>th</sup> quartiles from a uniform distribnution between 0 and 100 fall into predictable chunks: 25, 50, 75, and 100.</p>
<ul>
<li>The first, or lower quartile, contains the lower 25% of the distribution. In quantile terms, we define this quartile by its upper value, which occurs at the 25<sup>th</sup> percentile (or the 0.25 quantile).<br />
</li>
<li>The second quartile is defined at the 50<sup>th</sup> percentile value. Because this quantile ends at 0.5 (the 50<sup>th</sup> percentile) it also represents the <strong><em>median</em></strong> of the distriution. *Note: to define the data that falls into the second quartile, you actually need to know the 1<sup>st</sup> and 2<sup>nd</sup> quartile values, since you want the range of values that start at the 25<sup>th</sup> percentile and end at the 50<sup>th</sup> percentile.</li>
<li>the third quartile contains data for the 0.5 to 0.75 quantiles (50<sup>th</sup> to the 75<sup>th</sup>%)</li>
<li>the fourth quartile contains the upper 25% of the distribution: 0.75 to 1.0</li>
</ul>
<div id="quantiles-and-descriptive-statistics" class="section level3">
<h3><span class="header-section-number">5.3.1</span> Quantiles and Descriptive Statistics</h3>
<p>Quantiles allow us to calculate several important <strong>descriptive statistics</strong> for univariate data. For example, the quartile output above allows us to report the following descritptives:</p>
<table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-2">Table 5.1: </span>Quantiles and descriptive stats
for n=1000 samples from a uniform distribution, 0-100
</caption>
<thead>
<tr>
<th style="text-align:center;">
Quantile
</th>
<th style="text-align:center;">
Descriptor
</th>
<th style="text-align:center;">
Example Values
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
minimum
</td>
<td style="text-align:center;">
0.1
</td>
</tr>
<tr>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
maximum
</td>
<td style="text-align:center;">
100.0
</td>
</tr>
<tr>
<td style="text-align:center;">
0.5
</td>
<td style="text-align:center;">
median
</td>
<td style="text-align:center;">
48.3
</td>
</tr>
<tr>
<td style="text-align:center;">
0.25
</td>
<td style="text-align:center;">
25<sup>th</sup>%
</td>
<td style="text-align:center;">
25.8
</td>
</tr>
<tr>
<td style="text-align:center;">
0.75
</td>
<td style="text-align:center;">
75<sup>th</sup>%
</td>
<td style="text-align:center;">
74.7
</td>
</tr>
<tr>
<td style="text-align:center;">
0.75 - 0.25
</td>
<td style="text-align:center;">
IQR
</td>
<td style="text-align:center;">
48.9
</td>
</tr>
</tbody>
</table>
<p>A couple notes. You might wonder why I didn’t include <em>summary statistics</em> (like the mean and standard deviation) in this list of descriptive statistics. The reason is not because I don’t like using summary statistics, but because their use implies that you know the type/shape of the distribution you are describing (i.e., is it normally distributed, log-normal, bi-modal, etc.). Use of descriptors like <code>mean()</code> and <code>sd()</code> are very useful when properly applied, but can be misleading when the distribution is skewed (<strong>more on that later</strong>). Quantile descirptors, on the other hand, are agnostic to the type of distribution they describe (i.e,. the median is ALWAYS the 50% value, regarless of the shape of the distribution).</p>
<p>The last descriptor in the list is the <em>“Inter-Quartile Rage”</em> or IQR for short; the IQR describes the spread of the data and communicates the range of values needed to go from the 25<sup>th</sup>% to the 75<sup>th</sup>% of the distribution. The IQR is siad to span the bulk, or “middle part” of the distribution. The IQR is <em>similar</em> in concept to a standard deviation but makes no assumptions about the shape/type of the distribution being considered.</p>
<p>Let’s now create quantiles from a <em>normal distribution</em> of data (mean = 50, standard deviation = 15). We’ll start by randomly sampling 1000 values (using <code>rnorm</code>) and then arranging them with the <code>quanitle</code> function (the code chunk also shows how to calculate quantiles manually).</p>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb221-1" data-line-number="1">normal1 &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">1000</span>, <span class="dt">mean =</span> <span class="dv">50</span>, <span class="dt">sd =</span> <span class="dv">15</span>)</a>
<a class="sourceLine" id="cb221-2" data-line-number="2"><span class="kw">quantile</span>(normal1, <span class="dt">probs =</span> <span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="fl">0.1</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb221-3" data-line-number="3"><span class="st">  </span><span class="kw">round</span>(<span class="dv">0</span>)</a></code></pre></div>
<pre><code>##   0%  10%  20%  30%  40%  50%  60%  70%  80%  90% 100% 
##    1   30   36   42   45   49   53   58   63   70  105</code></pre>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb223-1" data-line-number="1"><span class="co">#manual method for calculating quantiles</span></a>
<a class="sourceLine" id="cb223-2" data-line-number="2">normal_data_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="kw">tibble</span>(</a>
<a class="sourceLine" id="cb223-3" data-line-number="3">  <span class="dt">sample_data =</span> normal1,  <span class="co">#start with raw sample data</span></a>
<a class="sourceLine" id="cb223-4" data-line-number="4">  <span class="dt">sorted_data =</span> <span class="kw">sort</span>(normal1),   <span class="co">#sort the data</span></a>
<a class="sourceLine" id="cb223-5" data-line-number="5">  <span class="dt">cum_frac =</span> <span class="kw">seq.int</span>(<span class="dt">from =</span> <span class="dv">1</span><span class="op">/</span><span class="kw">length</span>(normal1),   <span class="co">#calculate cumulative fraction for each entry</span></a>
<a class="sourceLine" id="cb223-6" data-line-number="6">                     <span class="dt">to =</span> <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb223-7" data-line-number="7">                     <span class="dt">by =</span> <span class="dv">1</span><span class="op">/</span><span class="kw">length</span>(normal1)))</a>
<a class="sourceLine" id="cb223-8" data-line-number="8"></a>
<a class="sourceLine" id="cb223-9" data-line-number="9"></a>
<a class="sourceLine" id="cb223-10" data-line-number="10">deciles &lt;-<span class="st"> </span><span class="kw">seq.int</span>(<span class="dt">from =</span> <span class="dv">0</span>, <span class="dt">to =</span> <span class="dv">1</span>, <span class="dt">by =</span> <span class="fl">0.1</span>)</a>
<a class="sourceLine" id="cb223-11" data-line-number="11"></a>
<a class="sourceLine" id="cb223-12" data-line-number="12"><span class="co">#take only the quantiles that match the decile values created above</span></a>
<a class="sourceLine" id="cb223-13" data-line-number="13">normal_data_deciles &lt;-<span class="st"> </span><span class="kw">filter</span>(normal_data_<span class="dv">2</span>, cum_frac <span class="op">%in%</span><span class="st"> </span>deciles)</a></code></pre></div>
<p>Normal distributions are more complicated than uniform distributions, and it’s hard to get a lot out of the decile summary when shown in tabular format. This brings us to my favorite part of exploratory data analysis: <strong><em>data visualization</em></strong>.</p>
</div>
</div>
<div id="univariate-data-visualization" class="section level2">
<h2><span class="header-section-number">5.4</span> Univariate Data Visualization</h2>
<p>Data visualization is a powerful technique for exploring data. Visualizaing univariate data is the <strong>first step</strong> in getting to know your data, once they have been read into R and cleaned.f</p>
<p>Below I introduce formal approaches to visualizing the location, dispersion, and shape of univariate data. Later on we will explore relationships between variables in <a href="eda2.html#eda2">multivariate data analyses</a>. The techniques shown below are simple, yet I am surprised how often they are underemployed.</p>
<div id="summary-vs.enumerative-plots" class="section level3">
<h3><span class="header-section-number">5.4.1</span> Summary vs. Enumerative Plots</h3>
<p>Univariate data visualizations can be broken down into two categories: <strong><em>summary plots</em></strong> and <strong><em>enumerative plots</em></strong>. A <em>summary plot</em> is called such because it shows you the data <em>summarized</em> in some way. Thus, some analysis or manipulation happens to the data prior to the generation of a summary plot. <em>Enumerative</em> is a fancy word that means: to name or show <strong><em>ALL</em></strong> of the data without modificaiton. <em>Enumerative plots</em> show the <em>raw data</em> and <em>all the data</em> in a single plot. There are strengths and weakensses to both these types of plots.</p>
<ul>
<li><strong>Enumerative plots:</strong>
<ul>
<li>Strengths: They show you <em>all</em> the data without manipulation. This is considered a strength because many analysts like to see raw data; they believe that <em>“The data don’t lie”</em>.<br />
</li>
<li>Weaknesses: Enumerative plots can take more “looking at” in order to comprehend. Sometimes more data = more work for your brain.<br />
</li>
</ul></li>
<li><strong>Summary plots:</strong>
<ul>
<li>Strengths: Summary plots are easy to read and easy to see the “main points”.</li>
<li>Weaknesses: Summary plots don’t show you all the data; they only show you a summary of the data. You are more likely to miss a special feature of a dataset when looking at just a single summary plot.</li>
</ul></li>
</ul>
</div>
</div>
<div id="cumulative-distribution-plot" class="section level2">
<h2><span class="header-section-number">5.5</span> Cumulative Distribution Plot</h2>
<p>A <strong>cumulative distribution plot</strong> is an <em>enumerative plot</em> that lays out the raw quantiles (typically on the y-axis) against the observed data (x-axis). Bevause these plots show all the data, each observation gets assigned a unit quantile (i.e., if there are 100 data points in a sample, each datum represents 1% of the total or a quantile of 0.01) . Thus, quatiles are shown on the y-axis and the x-axis shows the observed data, ordered from smallest to largest value.</p>
<div class="rmdnote">
<p>
The cumulative distribution plot shows the rolling fraction (or percent) of data (y-axis) that are “less than or equal to” the (x-axis) values of that data.
</p>
</div>
<p>An annotated cumulative distribution plot is shown below for a sample of temperature data that follow a normal distribution:</p>
<div class="figure" style="text-align: center"><span id="fig:norm-cdf-plot"></span>
<img src="images/normal_cum_dist_anno.png" alt="Annotated Cumulative Distribution Plot for Normally-Distributed Temperature Data" width="700pt" />
<p class="caption">
Figure 5.4: Annotated Cumulative Distribution Plot for Normally-Distributed Temperature Data
</p>
</div>
<p>As you can see, there is a lot of information contained in a cumulative distribution plot! We can see the range (min, max), the median (the 0.5 quantile), and any other percentile values for the distribution. We can quickly pick out any value to and find out what fraction of the data are below it. For example, picking out the quantile of 0.9 on the y-axis shows that 90% of the observed temperature values are below a level of 21 <span class="math inline">\(^\circ\)</span>C. In fact, most of the basic descriptive statistics can be accessed on a cumulative distribution plot:</p>
<ul>
<li><strong>median</strong>: x-axis value at quantile 0.5<br />
</li>
<li><strong>25<sup>th</sup> and 75<sup>th</sup> percentiles</strong> (or quartiles): x-axis values at quantile 0.25 and 0.75, respectively<br />
</li>
<li><strong>interquartile range</strong> (IQR): x-axis distance between quantiles 0.25 and 0.75<br />
</li>
<li><strong>range</strong>: min, max values at quantile 0 and 1.0, respectively</li>
</ul>
<p>Cumulative distribution plots also reveal details about the dispersion of the observed data (and, more subtly, about the shape/nature of underlying data distribution). For example, in the temperature example above (Fig. <a href="eda1.html#fig:norm-cdf-plot">5.4</a>), the curve has geometric symmetry about the median - this symmetry indicates that the dispersion of the data is equal as you move away from the median in either direction.</p>
<div id="cumulative-distribution-plot-example" class="section level3">
<h3><span class="header-section-number">5.5.1</span> Cumulative Distribution Plot Example</h3>
<p>In the example below, we create a cumulative distribition plot of annual salaries reported by individuals with a degree in Mechanical Engineering in the US. These data come from the <a href="https://www.nsf.gov/statistics/srvygrads/">NSF Survey of College Gradautes</a>. I’ve also taken the liberty of identifying the max, min, and quartile values on the plot.</p>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb224-1" data-line-number="1"><span class="co">#load data</span></a>
<a class="sourceLine" id="cb224-2" data-line-number="2">raw_salaries &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;./data/ME_salaries.csv&quot;</span>, </a>
<a class="sourceLine" id="cb224-3" data-line-number="3">                 <span class="dt">col_types =</span> <span class="st">&quot;iif&quot;</span>, </a>
<a class="sourceLine" id="cb224-4" data-line-number="4">                 <span class="dt">col_names =</span> <span class="kw">c</span>(<span class="st">&quot;salary&quot;</span>, <span class="st">&quot;age&quot;</span>,<span class="st">&quot;gender&quot;</span>),</a>
<a class="sourceLine" id="cb224-5" data-line-number="5">                 <span class="dt">skip =</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb224-6" data-line-number="6"></a>
<a class="sourceLine" id="cb224-7" data-line-number="7"><span class="co">#create cumulative fractions </span></a>
<a class="sourceLine" id="cb224-8" data-line-number="8">ordered_salaries &lt;-<span class="st"> </span>raw_salaries <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb224-9" data-line-number="9"><span class="st">  </span><span class="kw">select</span>(salary) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb224-10" data-line-number="10"><span class="st">  </span><span class="kw">filter</span>(salary <span class="op">&lt;</span><span class="st"> </span><span class="dv">500000</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="co">#to remove numeric identifiers like &#39;989961&#39;</span></a>
<a class="sourceLine" id="cb224-11" data-line-number="11"><span class="st">  </span><span class="kw">arrange</span>(salary) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb224-12" data-line-number="12"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">cum_pct =</span> <span class="kw">seq.int</span>(</a>
<a class="sourceLine" id="cb224-13" data-line-number="13">    <span class="dt">from =</span> <span class="dv">1</span><span class="op">/</span><span class="kw">length</span>(salary), </a>
<a class="sourceLine" id="cb224-14" data-line-number="14">    <span class="dt">to =</span> <span class="dv">1</span>, </a>
<a class="sourceLine" id="cb224-15" data-line-number="15">    <span class="dt">by =</span> <span class="dv">1</span><span class="op">/</span><span class="kw">length</span>(salary))) </a>
<a class="sourceLine" id="cb224-16" data-line-number="16">  </a>
<a class="sourceLine" id="cb224-17" data-line-number="17">  <span class="co">#alternate method if you don&#39;t want to calculate cumulative fractions</span></a>
<a class="sourceLine" id="cb224-18" data-line-number="18">  cdf_ME_salaries &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> ordered_salaries, <span class="kw">aes</span>(<span class="dt">x =</span> salary)) <span class="op">+</span></a>
<a class="sourceLine" id="cb224-19" data-line-number="19"><span class="st">  </span><span class="kw">geom_step</span>(<span class="dt">stat =</span> <span class="st">&quot;ecdf&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="co">#ecdf = &#39;empiricial cumulative distribution function&#39;</span></a>
<a class="sourceLine" id="cb224-20" data-line-number="20"><span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb224-21" data-line-number="21"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Salaries of ME Graduates&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Cumulative Fraction&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb224-22" data-line-number="22"><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">limits=</span><span class="kw">c</span>(<span class="op">-</span><span class="fl">0.05</span>, <span class="fl">1.03</span>), <span class="dt">expand =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">0</span>),</a>
<a class="sourceLine" id="cb224-23" data-line-number="23">                     <span class="dt">breaks =</span> <span class="kw">seq</span>(<span class="dt">from =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb224-24" data-line-number="24">                                        <span class="dt">to =</span> <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb224-25" data-line-number="25">                                        <span class="dt">by =</span> <span class="fl">0.1</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb224-26" data-line-number="26"><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">labels =</span> scales<span class="op">::</span><span class="kw">label_dollar</span>(<span class="dt">scale =</span> <span class="fl">0.001</span>, </a>
<a class="sourceLine" id="cb224-27" data-line-number="27">                                                   <span class="dt">prefix =</span> <span class="st">&#39;$&#39;</span>, </a>
<a class="sourceLine" id="cb224-28" data-line-number="28">                                                   <span class="dt">suffix =</span> <span class="st">&#39;k&#39;</span>),</a>
<a class="sourceLine" id="cb224-29" data-line-number="29">                     <span class="dt">minor_breaks =</span> <span class="kw">seq</span>(<span class="dt">from =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb224-30" data-line-number="30">                                  <span class="dt">to =</span> <span class="dv">450000</span>,</a>
<a class="sourceLine" id="cb224-31" data-line-number="31">                                  <span class="dt">by =</span> <span class="dv">10000</span>))<span class="op">+</span></a>
<a class="sourceLine" id="cb224-32" data-line-number="32"><span class="st">  </span><span class="kw">geom_segment</span>(<span class="dt">data =</span> <span class="kw">data.frame</span>(<span class="dt">x=</span><span class="kw">quantile</span>(ordered_salaries<span class="op">$</span>salary),</a>
<a class="sourceLine" id="cb224-33" data-line-number="33">                                 <span class="dt">y=</span><span class="kw">rep.int</span>(<span class="op">-</span>.<span class="dv">05</span>, <span class="dv">5</span>),</a>
<a class="sourceLine" id="cb224-34" data-line-number="34">                                 <span class="dt">xend=</span><span class="kw">quantile</span>(ordered_salaries<span class="op">$</span>salary),</a>
<a class="sourceLine" id="cb224-35" data-line-number="35">                                 <span class="dt">yend=</span><span class="kw">seq</span>(<span class="dt">from =</span> <span class="dv">0</span>, <span class="dt">to =</span> <span class="dv">1</span>, <span class="dt">by =</span> <span class="fl">0.25</span>)),</a>
<a class="sourceLine" id="cb224-36" data-line-number="36">               <span class="kw">aes</span>(<span class="dt">x=</span>x, <span class="dt">y=</span>y, <span class="dt">xend=</span>xend, <span class="dt">yend=</span>yend), </a>
<a class="sourceLine" id="cb224-37" data-line-number="37">               <span class="dt">color =</span> <span class="st">&quot;red&quot;</span>,</a>
<a class="sourceLine" id="cb224-38" data-line-number="38">               <span class="dt">linetype =</span> <span class="st">&quot;dashed&quot;</span>)</a>
<a class="sourceLine" id="cb224-39" data-line-number="39"><span class="kw">ggsave</span>(<span class="st">&quot;./images/cdf_me_salaries.png&quot;</span>, <span class="dt">dpi =</span> <span class="dv">150</span>)</a></code></pre></div>
<pre><code>## Saving 7 x 5 in image</code></pre>
<div class="figure" style="text-align: center"><span id="fig:cdf-me-salaries"></span>
<img src="images/cdf_me_salaries.png" alt="Annual Salaries Reported by US Graduates (all ages) with a Mechanical Engineering Degree" width="700pt" />
<p class="caption">
Figure 5.5: Annual Salaries Reported by US Graduates (all ages) with a Mechanical Engineering Degree
</p>
</div>
<p>The good news is that if you can survive the undergraduate grind in Mechanical Engineering, you have a good chance of making a great living wage. The median salary is $
96,000 - note this is for graduates of all ages across the country in the year 2017. Don’t expect that paycheck on your first day on the job!</p>
<p>One interesting thing you may notice in Figure <a href="eda1.html#fig:cdf-me-salaries">5.5</a> is that the ‘tails’ of the plot (the shape of the curves about the median value) are not symmetrical. One tail looks longer than the other. This lack of symmetry implies a degree of <em>skewness</em> in the data. Why is that? We will explore skewness at several points in this course (and discuss some of the mechanisms that cause data to be skewed later on).</p>
</div>
</div>
<div id="hist" class="section level2">
<h2><span class="header-section-number">5.6</span> Histogram</h2>
<p>A <strong>histogram</strong> is a <em>summary</em> plot of counts (or frequency of observations) as a function of magnitude (or levels). Histograms are useful because they allow you to visualize the spread and shape of your data as distribution. A histogram can tell you several important things about a variable:</p>
<ul>
<li>The location or central tendency (what’s the most common value?)<br />
</li>
<li>The approximate range of the data (what are the max, min values?)<br />
</li>
<li>The dispersion (how spread out are the data?)<br />
</li>
<li>The nature of the distribution (i.e., do the data appear normally distributed or skewed?)<br />
</li>
<li>The presence (or absence) of outliers in the data (what are those observations doing way out there?)</li>
</ul>
<p>Below is a basic histogram that I’ve annotated to show some key features. This histogram was created by sampling a normal distribution <code>rnorm()</code> and plotted using <code>ggplot::geom_histogram</code>. Examination of this histogram quickly reveals a lot about the underlying data. For example, the central tendency is located around a value of ~30 and the majority of the data appear to fall between a range of 20 - 40.</p>
<div class="figure" style="text-align: center"><span id="fig:hist-anno-1"></span>
<img src="images/hist_anno_1.png" alt="A histogram is a plot of counts (or frequency of observations) as a function of magnitude (or levels) of univariate data" width="700pt" />
<p class="caption">
Figure 5.6: A histogram is a plot of counts (or frequency of observations) as a function of magnitude (or levels) of univariate data
</p>
</div>
<div id="histogram-what-to-look-for" class="section level3">
<h3><span class="header-section-number">5.6.1</span> Histogram: what to look for?</h3>
<p>In addition to being able to “see” key data descriptors (e.g., mean, range, spread), a histogram also allows one (a) to get a feel for <strong><em>skewness</em></strong> (whether the distribution is symmetric about the central tendency), (b) to see <strong><em>outliers</em></strong>, and (c) to visualize other potential interesting features in the dataset.</p>
<div class="figure" style="text-align: center"><span id="fig:skew-hist-out-plot"></span>
<img src="images/hist_anno_2.png" alt="A histogram depicting a skewed distribution" width="700pt" />
<p class="caption">
Figure 5.7: A histogram depicting a skewed distribution
</p>
</div>
<p>Figure <a href="eda1.html#fig:skew-hist-out-plot">5.7</a> depicts just such a skewed distribution. Examination of Figure <a href="eda1.html#fig:skew-hist-out-plot">5.7</a> also reveals the presence of potential <strong><em>outliers</em></strong> in the data: the apparent spike in observations around x = 200. Outliers are interesting features and should neither be ignored nor deleted outright. Outliers exist for some reason, and oftentimes only through detective-work or mechanistic knowledge can you elucidate their source (we will delve into the handling of outliers later on; for now it’s enough to know that they exist).</p>
<p>In Figure <a href="eda1.html#fig:skew-hist-out-plot">5.7</a> the central tendency is evident, but the spread of the data are not symmetrical about that central tendency. One outcome of skewed data is that traditional location measures of central tendency (mode, median, mean) do not agree with each other:</p>
<p>Figure <a href="eda1.html#fig:skew-hist-out-plot">5.7</a> central tendency calculations:</p>
<ul>
<li>mode: 14<br />
</li>
<li>median: 53<br />
</li>
<li>mean: 87</li>
</ul>
<div class="figure" style="text-align: center"><span id="fig:skew-hist-out-plot-2"></span>
<img src="images/hist_anno_3.png" alt="Describing the spread of skewed data with a &quot;standard deviation&quot; can lead to confusion and trouble: in this case the existence of physically impossible values." width="700pt" />
<p class="caption">
Figure 5.8: Describing the spread of skewed data with a “standard deviation” can lead to confusion and trouble: in this case the existence of physically impossible values.
</p>
</div>
<p>Another, potentially more troubling, outcome of skewed data is that certain measures of the spread of the data (such as the standard deviation) can lead to misleading conclusions. For example, if we calculate and extend “one standard deviation” to the mean of the data in Figure <a href="eda1.html#fig:skew-hist-out-plot-2">5.8</a>, we would imply the existence of negative values (87 - 113 = -26), which is often impossible in the case of physical measurements. This is a common mistake in data analysis: the application of “normal” descriptors like <code>mean</code> and <code>sd</code> to “non-normal” data.
Skewed distributions can be more challenging to handle because they are <em>less predictable</em> than normal distributions (<em>that said, statisticians have figured out how to model just about any type of distribution, so don’t fret</em>). In any case, we can always rely on quantile calculations for descriptors (median and IQR) since those descriptors do not make assumptions about the shape of the distribution in question.</p>
</div>
<div id="what-causes-skewed-histograms" class="section level3">
<h3><span class="header-section-number">5.6.2</span> What causes skewed histograms?</h3>
<p>I want to spend some time thinking about mechanisms that cause variability in an observation. These mechanisms are often responsible for whether a set of observations appears normally distributed or skewed. We will focus on two types of distributions for now: <a href="dist.html#normal_dist">normal</a> and <a href="dist.html#log_normal_dist">log-normal</a> data. Many other types of data distributions exist in the real world.</p>
<p>A general “rule of thumb” is that <em>additive</em> variability tends to produce normally distributed data, whereas mechanisms that cause <em>multiplicative</em> variability tend to produce skewed data (log-normal, in the case of Figure <a href="eda1.html#fig:skew-hist-out-plot">5.7</a>). By <em>additive</em>, I mean that variable x tends to vary in a “plus/minus” sense about its central tendency. Examples of additive variability include the distribution of heights measured in a sample of 3<sup>rd</sup> graders or the variability in the mass of a 3D-printed part produced 100 times by the same machine.</p>
<p><em>Multiplicative</em> (or log-normal) variability arises when the mechanism(s) controlling the variation of “x” are multipliers (or divisors) of x. Many real-world phenomena create multiplicative variability in observed data: the strength of a WiFi signal at different locations within a building, the magnitude of earthquakes measured at a given position on the Earth’s surface, the size of rocks found in a section of a riverbed, or the size of particles found in air. All of these phenomena tend to be governed by multiplicative factors. In other words, all of these observations are controlled by mechanisms that suggest x = a<em>b</em>c not x = a+b+c. Explicit examples of <em>multiplicative</em> variability (and how it leads to log-normal data) are provided <a href="dist.html#log_normal_dist">here</a>.</p>
</div>
</div>
<div id="box" class="section level2">
<h2><span class="header-section-number">5.7</span> Boxplot</h2>
<p>The boxplot is <em>summary plot</em> that allows one to view a distribution by its quartiles (Figure <a href="eda1.html#fig:boxplot-1-anno">5.9</a>). The “box” in a boxplot consists of three parallel lines (usually oriented vertically) connected on their sides to form a box. The outer box lines (also called the <em>“hinges”</em>) represent the 0.25 and 0.75 quantiles and the inner line represents the 0.5 quantile, or median. Thus, the height of the box depicts the inter-quartile range of the data. Boxplots are often drawn with lines extending out from each end of the box (these lines are called <em>“whiskers”</em>). These whisker lines vary in their representation. For some plots, the whiskers represent either: the max/min values, respectively, OR a distance of 1.5xIQR if the either the max or min value are larger than 1.5xIQR. Other times the whiskers represent the 0.9 or 0.95 quantiles or 1.58xIQR/sqrt(2). Because of these variations, it’s best to define the whiskers for the viewer (either in the text or the Figure caption). Here is the R definition from the helpfile <code>?geom_boxplot</code>:</p>
<blockquote>
<p>The upper whisker extends from the hinge to the largest value no further than 1.5 * IQR from the hinge (where IQR is the inter-quartile range, or distance between the first and third quartiles). The lower whisker extends from the hinge to the smallest value at most 1.5 * IQR of the hinge. Data beyond the end of the whiskers are called “outlying” points and are plotted individually.</p>
</blockquote>
<div class="figure" style="text-align: center"><span id="fig:boxplot-1-anno"></span>
<img src="images/boxplot_1_anno.png" alt="A generic boxplot The box lines represent the lower, middle, and upper quartiles, respectively; the whiskers represent 1.5*IQR in each direction." width="700pt" />
<p class="caption">
Figure 5.9: A generic boxplot The box lines represent the lower, middle, and upper quartiles, respectively; the whiskers represent 1.5*IQR in each direction.
</p>
</div>
<p>Boxplots <em>can be created</em> for a single univariate distribution (as shown in Figure <a href="eda1.html#fig:boxplot-1-anno">5.9</a>), but the strength of the boxplot really comes from drawing several together, so that one univariate distribution can be compared to another. In my opnion, single boxplots are quite boring by themselves (and the same information presented by a boxplot is just as easy to get from a cumulative distribution plot). However, I do think it’s faster to view quartiles (and the IQR) on the boxplot, so a plot with multiple boxplots has its advantages. For example, let’s look at the data from Figure <a href="eda1.html#fig:NOAA-temps-2">5.1</a> as two boxplots.</p>
<div class="figure" style="text-align: center"><span id="fig:boxplot-2"></span>
<img src="05-eda1_files/figure-html/boxplot-2-1.png" alt="Boxplots of hourly temperatures in Colorado and Hawaii for July, 2010. Whiskers represent 1.5*IQR" width="700pt" />
<p class="caption">
Figure 5.10: Boxplots of hourly temperatures in Colorado and Hawaii for July, 2010. Whiskers represent 1.5*IQR
</p>
</div>
<p>Examination of the boxplots in Figure <a href="eda1.html#fig:boxplot-2">5.10</a> conveys much the same information as what is seen for the raw data originally plotted in Figure <a href="eda1.html#fig:NOAA-temps-2">5.1</a>: both distributions have same central tendencies but the Colorado distribution has considerably more variation.</p>
</div>
<div id="time_series" class="section level2">
<h2><span class="header-section-number">5.8</span> Time-Series</h2>
<p>The <strong>time-series plot</strong> plot (also called a <strong>“run sequence”</strong> plot) is something you have undoubtedly seen before. This plot (typically shown as an <em>enumerative plot</em>) depicts the value of a variable (y-axis) plotted in the sequence that the observations were made (x-axis, often shown as units of time). A time-series plot allows you to do several things:</p>
<ul>
<li>Identify shifts in “location” of the variable (when and by how much do values change over time?)<br />
</li>
<li>Identify shifts in “variation” of the variable (does the data get more/less noisy over time?)</li>
<li>Identify (potential) outliers and when they occurred</li>
<li>Identify the <strong><em>timing</em></strong> of events!</li>
</ul>
<p>Let’s plot the same temperature data from Hawaii as shown in <a href="eda1.html#fig:NOAA-temps-2">5.1</a> as a time series.</p>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb226-1" data-line-number="1"><span class="co"># plot Temp vs Time for Colorado data</span></a>
<a class="sourceLine" id="cb226-2" data-line-number="2">NOAA_HI_time_series&lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> <span class="kw">filter</span>(NOAA_temps, location <span class="op">==</span><span class="st"> &quot;Hawaii&quot;</span>), </a>
<a class="sourceLine" id="cb226-3" data-line-number="3">       <span class="kw">aes</span>(<span class="dt">x =</span> date, <span class="dt">y =</span> temp_hr_f)) <span class="op">+</span></a>
<a class="sourceLine" id="cb226-4" data-line-number="4"><span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">linejoin =</span> <span class="st">&quot;round&quot;</span>,</a>
<a class="sourceLine" id="cb226-5" data-line-number="5">            <span class="dt">color =</span> <span class="st">&quot;purple&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb226-6" data-line-number="6"><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">size =</span> <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb226-7" data-line-number="7">             <span class="dt">shape =</span> <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb226-8" data-line-number="8">             <span class="dt">color =</span> <span class="st">&quot;purple&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb226-9" data-line-number="9"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Date&quot;</span>,</a>
<a class="sourceLine" id="cb226-10" data-line-number="10">       <span class="dt">y =</span> <span class="st">&quot;Temperature, °F&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb226-11" data-line-number="11"><span class="st">  </span><span class="kw">theme_bw</span>()</a>
<a class="sourceLine" id="cb226-12" data-line-number="12"><span class="kw">ggsave</span>(<span class="st">&quot;./images/NOAA_HI_time_series.png&quot;</span>, <span class="dt">dpi =</span> <span class="dv">150</span>)</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:NOAA-HI-time-series"></span>
<img src="images/NOAA_HI_time_series.png" alt="Time series of hourly temperature measurements in Kauai, Hawaii for July 2010." width="700pt" />
<p class="caption">
Figure 5.11: Time series of hourly temperature measurements in Kauai, Hawaii for July 2010.
</p>
</div>
<p><strong>What can we see in these data?</strong> Here are some quick conclusions:</p>
<ol style="list-style-type: decimal">
<li>The temperature appears to rise and fall in a predictable pattern each day (duh).</li>
<li>Over the course of the month, we can see a gradual increase in daily mean temperature taking place.</li>
</ol>
<p>Neither of these conclusions are groundbreaking, but they both allude to an important outcome: there are patterns to be seen in these data! None of those patterns were evident in the cumulative distribution or histogram plots. If we zoom in on just the first 5 days of the month, we see the daily temperature patterns in more detail.</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb227-1" data-line-number="1"><span class="co"># plot Temp vs Time for Colorado data</span></a>
<a class="sourceLine" id="cb227-2" data-line-number="2">NOAA_HI_time_series&lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> <span class="kw">filter</span>(NOAA_temps, location <span class="op">==</span><span class="st"> &quot;Hawaii&quot;</span>, date <span class="op">&lt;=</span><span class="st"> &quot;2010-07-05&quot;</span>), </a>
<a class="sourceLine" id="cb227-3" data-line-number="3">       <span class="kw">aes</span>(<span class="dt">x =</span> date, <span class="dt">y =</span> temp_hr_f)) <span class="op">+</span></a>
<a class="sourceLine" id="cb227-4" data-line-number="4"><span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">linejoin =</span> <span class="st">&quot;round&quot;</span>,</a>
<a class="sourceLine" id="cb227-5" data-line-number="5">            <span class="dt">color =</span> <span class="st">&quot;purple&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb227-6" data-line-number="6"><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">size =</span> <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb227-7" data-line-number="7">             <span class="dt">shape =</span> <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb227-8" data-line-number="8">             <span class="dt">color =</span> <span class="st">&quot;purple&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb227-9" data-line-number="9"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Date&quot;</span>,</a>
<a class="sourceLine" id="cb227-10" data-line-number="10">       <span class="dt">y =</span> <span class="st">&quot;Temperature, °F&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb227-11" data-line-number="11"><span class="st">  </span><span class="kw">theme_bw</span>()</a>
<a class="sourceLine" id="cb227-12" data-line-number="12"><span class="kw">ggsave</span>(<span class="st">&quot;./images/NOAA_HI_time_series-2.png&quot;</span>, <span class="dt">dpi =</span> <span class="dv">150</span>)</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:NOAA-HI-time-series-2"></span>
<img src="images/NOAA_HI_time_series-2.png" alt="Time series of hourly temperature measurements in Kauai, Hawaii for July 1-5, 2010." width="700pt" />
<p class="caption">
Figure 5.12: Time series of hourly temperature measurements in Kauai, Hawaii for July 1-5, 2010.
</p>
</div>
</div>
<div id="autocorr" class="section level2">
<h2><span class="header-section-number">5.9</span> Autocorrelation</h2>
<p>Autocorrelation, or serial correlation, means <em>correlated with oneself across time</em>. Autocorrelation is a concept that suggests <em>“whatever is happening in this moment is still likely to be happening in the next moment.”</em> Lots of things are autocorrelated: your mood right now is likely related to your mood 15 minutes from now (or 15 minutes ago). The weather outside at 08:00 on a given day is a good predictor of the weather outside an hour later at 09:00, or two hours later at 10:00, and so on, but less so in fourteen days hence.</p>
<p>Almost all physical phenomona have a degree of autocorrelation and that’s important because if a datapoint at time ‘i’ is correlated with time ‘i + 1’ then those two datapoints are NOT independent. Yet, many statistical tests assume that the underlying data ARE independent from one another! Thus, autocorrelation can pose a problem when we want to make inferences using data collected over a span of time. Fortunately, we have ways of detecting the presence (and relative strength) of autocorrelation with a simple exploratory plot.</p>
<p>The <strong>autocorrelation plot</strong> is a <em>summary plot</em> that gives the Pearson correlation coefficient (r) between all measurements (x<sub>i</sub>) and their lags (x<sub>i+n</sub>), where <em>x</em> represents an observation and <em>i</em> represents a point in time.</p>
<p>This plot can help answer the following questions:</p>
<ul>
<li>Are the data correlated with each other over time?
<ul>
<li>Note: if the answer is <em>yes</em> then your data are <em>not necessarily independent measures</em><br />
</li>
</ul></li>
<li>Are there patterns (periodicity) to discover?
<ul>
<li>hourly?<br />
</li>
<li>daily?<br />
</li>
<li>weekly?<br />
</li>
<li>seasonally?</li>
</ul></li>
</ul>
<p>Let’s examine the Hawaii temperature data shown in Figures <a href="eda1.html#fig:NOAA-temps-2">5.1</a> and <a href="eda1.html#fig:NOAA-HI-time-series">5.11</a> using an autocorrelation plot.</p>
<p>The <code>stats</code> package in R has a function to calculate autocorrelation and plot it through time (as a function of lags). Here, the y-axis represents the Pearson correlation coefficient and the x-axis represents time lags (for the basic unit of time in which the data are arranged).</p>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb228-1" data-line-number="1"><span class="co">#subset the datafile to contain only measures from Colorado</span></a>
<a class="sourceLine" id="cb228-2" data-line-number="2">NOAA_temps_HI &lt;-<span class="st"> </span>NOAA_temps <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb228-3" data-line-number="3"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">filter</span>(location <span class="op">==</span><span class="st"> &quot;Hawaii&quot;</span>)</a>
<a class="sourceLine" id="cb228-4" data-line-number="4"></a>
<a class="sourceLine" id="cb228-5" data-line-number="5"><span class="co">#call the autocorrelation plot</span></a>
<a class="sourceLine" id="cb228-6" data-line-number="6"><span class="kw">acf</span>(NOAA_temps_HI<span class="op">$</span>temp_hr_f,       </a>
<a class="sourceLine" id="cb228-7" data-line-number="7">    <span class="dt">main =</span> <span class="st">&quot; &quot;</span> ,</a>
<a class="sourceLine" id="cb228-8" data-line-number="8">    <span class="dt">xlab =</span> <span class="st">&quot;Lag (hours)&quot;</span>,</a>
<a class="sourceLine" id="cb228-9" data-line-number="9">    <span class="dt">ylab =</span> <span class="st">&quot;Correlation coefficient&quot;</span>) </a></code></pre></div>
<p><img src="05-eda1_files/figure-html/acf-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>The plot suggests a fairly <strong>strong level of autocorrelation in these temperature data</strong>. We should not be surprised, especially after seeing the time series shown in Figures <a href="eda1.html#fig:NOAA-HI-time-series">5.11</a> and <a href="eda1.html#fig:NOAA-HI-time-series-2">5.12</a>. Can you explain why the Pearson correlation coefficient is negative at a 12-hr lag? Why does the coefficient trend back upwards to nearly perfect correlation at 24-hr lags?</p>
<p>Other notes about autocorrelation plots:
* Bars above the blue horizontal lines indicate that autocorrelation is worth attention.<br />
* One important implication of autocorrelated data is that the data wihtin a given lag duration are <strong>not independent.</strong><br />
* This <em>lack of independence</em> violates the assumptions of many modeling approaches (that’s potentially bad).</p>
<div id="partial-autocorrelation" class="section level3">
<h3><span class="header-section-number">5.9.1</span> Partial Autocorrelation</h3>
<p>The <strong>partial autocorrelation plot</strong> is a <em>summary plot</em> that gives the correlation coefficient (r) between all timepoints (x<sub>i</sub>) and their lags (x<sub>i+n</sub>) <em>after accounting for autocorrelation for all previous lags</em>.</p>
<p>The partial autocorrelation plot can help you decide: <em>how far out in time should I go in order to assume that measurment (x<sub>i</sub>) is independent from (x<sub>i+n</sub>)?</em></p>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb229-1" data-line-number="1"><span class="kw">pacf</span>(NOAA_temps_HI<span class="op">$</span>temp_hr_f,      <span class="co">#call the partial autocorrelation plot</span></a>
<a class="sourceLine" id="cb229-2" data-line-number="2">     <span class="dt">main =</span> <span class="st">&quot; &quot;</span>, </a>
<a class="sourceLine" id="cb229-3" data-line-number="3">     <span class="dt">xlab =</span> <span class="st">&quot;Lag (hours)&quot;</span>,</a>
<a class="sourceLine" id="cb229-4" data-line-number="4">     <span class="dt">ylab =</span> <span class="st">&quot;Partial Correlation Coefficient&quot;</span>) </a></code></pre></div>
<p><img src="05-eda1_files/figure-html/pacf-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>In this case, after a 2-hr lag, the data loses most autocorrelation, except for some periodicity around 12- and 24-hr lags.</p>
</div>
</div>
<div id="in-course-exercises" class="section level2">
<h2><span class="header-section-number">5.10</span> In-course Exercises</h2>
<p>Visualizing a bi-modal distribution (hist, cum dist)</p>
<p>List which plot types discussed in this chapter are <em>enumerative</em> vs. <em>summary</em>.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="dataviz.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="rprog3.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
