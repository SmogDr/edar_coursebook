<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 Functional Programming | Engineering Data Analysis in R</title>
  <meta name="description" content="This is an undergraduate technical elective course for mechanical engineers who wish to lean about data analysis using the R programming language." />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 Functional Programming | Engineering Data Analysis in R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is an undergraduate technical elective course for mechanical engineers who wish to lean about data analysis using the R programming language." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 Functional Programming | Engineering Data Analysis in R" />
  
  <meta name="twitter:description" content="This is an undergraduate technical elective course for mechanical engineers who wish to lean about data analysis using the R programming language." />
  

<meta name="author" content="John Volckens and Kathleen E. Wendt" />


<meta name="date" content="2020-10-03" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="eda2.html"/>
<link rel="next" href="transform.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Engineering Data Analysis in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#how-to-use-this-book"><i class="fa fa-check"></i><b>1.1</b> How to use this book</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#prerequisites"><i class="fa fa-check"></i><b>1.2</b> Prerequisites</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#grading"><i class="fa fa-check"></i><b>1.3</b> Grading</a><ul>
<li class="chapter" data-level="1.3.1" data-path="index.html"><a href="index.html#grading-for-mech-481a6"><i class="fa fa-check"></i><b>1.3.1</b> Grading for MECH 481A6</a></li>
<li class="chapter" data-level="1.3.2" data-path="index.html"><a href="index.html#homework-submission"><i class="fa fa-check"></i><b>1.3.2</b> Homework submission</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#course-set-up"><i class="fa fa-check"></i><b>1.4</b> Course set-up</a><ul>
<li class="chapter" data-level="1.4.1" data-path="index.html"><a href="index.html#install-r-and-rstudio"><i class="fa fa-check"></i><b>1.4.1</b> Install R and RStudio</a></li>
<li class="chapter" data-level="1.4.2" data-path="index.html"><a href="index.html#install-git-and-create-a-github-account"><i class="fa fa-check"></i><b>1.4.2</b> Install Git and create a GitHub account</a></li>
<li class="chapter" data-level="1.4.3" data-path="index.html"><a href="index.html#connect-git-github-and-rstudio"><i class="fa fa-check"></i><b>1.4.3</b> Connect Git, GitHub, and RStudio</a></li>
<li class="chapter" data-level="1.4.4" data-path="index.html"><a href="index.html#create-new-project-github-first"><i class="fa fa-check"></i><b>1.4.4</b> Create new project, GitHub first</a></li>
<li class="chapter" data-level="1.4.5" data-path="index.html"><a href="index.html#use-rstudiogithub-system-for-homework-submission"><i class="fa fa-check"></i><b>1.4.5</b> Use RStudio/GitHub system for homework submission</a></li>
<li class="chapter" data-level="1.4.6" data-path="index.html"><a href="index.html#confirm-successful-set-up"><i class="fa fa-check"></i><b>1.4.6</b> Confirm successful set-up</a></li>
<li class="chapter" data-level="1.4.7" data-path="index.html"><a href="index.html#asking-for-help-properly"><i class="fa fa-check"></i><b>1.4.7</b> Asking for help (properly)</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#coursebook"><i class="fa fa-check"></i><b>1.5</b> Coursebook</a><ul>
<li class="chapter" data-level="1.5.1" data-path="index.html"><a href="index.html#other-helpful-books-not-required"><i class="fa fa-check"></i><b>1.5.1</b> Other helpful books (not required)</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i><b>1.6</b> Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="rprog1.html"><a href="rprog1.html"><i class="fa fa-check"></i><b>2</b> The R Programming Environment</a><ul>
<li class="chapter" data-level="2.1" data-path="rprog1.html"><a href="rprog1.html#ch.-2-objectives"><i class="fa fa-check"></i><b>2.1</b> Ch. 2 Objectives</a></li>
<li class="chapter" data-level="2.2" data-path="rprog1.html"><a href="rprog1.html#r-and-r-studio"><i class="fa fa-check"></i><b>2.2</b> R and R Studio</a><ul>
<li class="chapter" data-level="2.2.1" data-path="rprog1.html"><a href="rprog1.html#what-is-r"><i class="fa fa-check"></i><b>2.2.1</b> What is R?</a></li>
<li class="chapter" data-level="2.2.2" data-path="rprog1.html"><a href="rprog1.html#free-and-open-source-software"><i class="fa fa-check"></i><b>2.2.2</b> Free and open-source software</a></li>
<li class="chapter" data-level="2.2.3" data-path="rprog1.html"><a href="rprog1.html#what-is-rstudio"><i class="fa fa-check"></i><b>2.2.3</b> What is RStudio?</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="rprog1.html"><a href="rprog1.html#communicating-with-r"><i class="fa fa-check"></i><b>2.3</b> Communicating with R</a><ul>
<li class="chapter" data-level="2.3.1" data-path="rprog1.html"><a href="rprog1.html#r-sessions-console-and-command-prompt"><i class="fa fa-check"></i><b>2.3.1</b> R sessions, console, and command prompt</a></li>
<li class="chapter" data-level="2.3.2" data-path="rprog1.html"><a href="rprog1.html#r-expressions-function-calls-and-objects"><i class="fa fa-check"></i><b>2.3.2</b> R expressions, function calls, and objects</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="rprog1.html"><a href="rprog1.html#r-scripts"><i class="fa fa-check"></i><b>2.4</b> R scripts</a><ul>
<li class="chapter" data-level="2.4.1" data-path="rprog1.html"><a href="rprog1.html#commenting-code"><i class="fa fa-check"></i><b>2.4.1</b> Commenting code</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="rprog1.html"><a href="rprog1.html#the-package-system"><i class="fa fa-check"></i><b>2.5</b> The “package” system</a><ul>
<li class="chapter" data-level="2.5.1" data-path="rprog1.html"><a href="rprog1.html#r-packages"><i class="fa fa-check"></i><b>2.5.1</b> R packages</a></li>
<li class="chapter" data-level="2.5.2" data-path="rprog1.html"><a href="rprog1.html#installing-from-cran"><i class="fa fa-check"></i><b>2.5.2</b> Installing from CRAN</a></li>
<li class="chapter" data-level="2.5.3" data-path="rprog1.html"><a href="rprog1.html#loading-an-installed-package"><i class="fa fa-check"></i><b>2.5.3</b> Loading an installed package</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="rprog1.html"><a href="rprog1.html#rs-most-basic-object-types"><i class="fa fa-check"></i><b>2.6</b> R’s most basic object types</a><ul>
<li class="chapter" data-level="2.6.1" data-path="rprog1.html"><a href="rprog1.html#vectors"><i class="fa fa-check"></i><b>2.6.1</b> Vectors</a></li>
<li class="chapter" data-level="2.6.2" data-path="rprog1.html"><a href="rprog1.html#dataframes"><i class="fa fa-check"></i><b>2.6.2</b> Dataframes</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="rprog1.html"><a href="rprog1.html#chapter-2-exercises"><i class="fa fa-check"></i><b>2.7</b> Chapter 2 Exercises</a><ul>
<li class="chapter" data-level="2.7.1" data-path="rprog1.html"><a href="rprog1.html#set-1-session-helpfiles-scripts-and-objects"><i class="fa fa-check"></i><b>2.7.1</b> Set 1: Session, helpfiles, scripts, and objects</a></li>
<li class="chapter" data-level="2.7.2" data-path="rprog1.html"><a href="rprog1.html#set-2-loading-and-using-packages"><i class="fa fa-check"></i><b>2.7.2</b> Set 2: Loading and using packages</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="rprog1.html"><a href="rprog1.html#chapter-2-homework"><i class="fa fa-check"></i><b>2.8</b> Chapter 2 Homework</a><ul>
<li class="chapter" data-level="2.8.1" data-path="rprog1.html"><a href="rprog1.html#special-swirl-commands"><i class="fa fa-check"></i><b>2.8.1</b> Special <code>swirl</code> commands</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="rprog2.html"><a href="rprog2.html"><i class="fa fa-check"></i><b>3</b> Getting and Cleaning Data</a><ul>
<li class="chapter" data-level="3.1" data-path="rprog2.html"><a href="rprog2.html#ch.-3-objectives"><i class="fa fa-check"></i><b>3.1</b> Ch. 3 Objectives</a></li>
<li class="chapter" data-level="3.2" data-path="rprog2.html"><a href="rprog2.html#overview"><i class="fa fa-check"></i><b>3.2</b> Overview</a></li>
<li class="chapter" data-level="3.3" data-path="rprog2.html"><a href="rprog2.html#reading-data-into-r"><i class="fa fa-check"></i><b>3.3</b> Reading data into R</a><ul>
<li class="chapter" data-level="3.3.1" data-path="rprog2.html"><a href="rprog2.html#reading-local-flat-files"><i class="fa fa-check"></i><b>3.3.1</b> Reading local flat files</a></li>
<li class="chapter" data-level="3.3.2" data-path="rprog2.html"><a href="rprog2.html#reading-in-other-file-types"><i class="fa fa-check"></i><b>3.3.2</b> Reading in other file types</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="rprog2.html"><a href="rprog2.html#directories-and-pathnames"><i class="fa fa-check"></i><b>3.4</b> Directories and pathnames</a><ul>
<li class="chapter" data-level="3.4.1" data-path="rprog2.html"><a href="rprog2.html#directory-structure"><i class="fa fa-check"></i><b>3.4.1</b> Directory structure</a></li>
<li class="chapter" data-level="3.4.2" data-path="rprog2.html"><a href="rprog2.html#working-directory"><i class="fa fa-check"></i><b>3.4.2</b> Working directory</a></li>
<li class="chapter" data-level="3.4.3" data-path="rprog2.html"><a href="rprog2.html#file-and-directory-pathnames"><i class="fa fa-check"></i><b>3.4.3</b> File and directory pathnames</a></li>
<li class="chapter" data-level="3.4.4" data-path="rprog2.html"><a href="rprog2.html#tangent-paste"><i class="fa fa-check"></i><b>3.4.4</b> Tangent: <code>paste</code></a></li>
<li class="chapter" data-level="3.4.5" data-path="rprog2.html"><a href="rprog2.html#reading-online-flat-files"><i class="fa fa-check"></i><b>3.4.5</b> Reading online flat files</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="rprog2.html"><a href="rprog2.html#data-cleaning"><i class="fa fa-check"></i><b>3.5</b> Data cleaning</a><ul>
<li class="chapter" data-level="3.5.1" data-path="rprog2.html"><a href="rprog2.html#renaming-columns"><i class="fa fa-check"></i><b>3.5.1</b> Renaming columns</a></li>
<li class="chapter" data-level="3.5.2" data-path="rprog2.html"><a href="rprog2.html#selecting-columns"><i class="fa fa-check"></i><b>3.5.2</b> Selecting columns</a></li>
<li class="chapter" data-level="3.5.3" data-path="rprog2.html"><a href="rprog2.html#add-or-change-columns"><i class="fa fa-check"></i><b>3.5.3</b> Add or change columns</a></li>
<li class="chapter" data-level="3.5.4" data-path="rprog2.html"><a href="rprog2.html#base-r-equivalents-to-dplyr-functions"><i class="fa fa-check"></i><b>3.5.4</b> Base R equivalents to <code>dplyr</code> functions</a></li>
<li class="chapter" data-level="3.5.5" data-path="rprog2.html"><a href="rprog2.html#filtering-to-certain-rows"><i class="fa fa-check"></i><b>3.5.5</b> Filtering to certain rows</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="rprog2.html"><a href="rprog2.html#piping"><i class="fa fa-check"></i><b>3.6</b> Piping</a></li>
<li class="chapter" data-level="3.7" data-path="rprog2.html"><a href="rprog2.html#markdowns"><i class="fa fa-check"></i><b>3.7</b> Markdowns</a><ul>
<li class="chapter" data-level="3.7.1" data-path="rprog2.html"><a href="rprog2.html#r-markdowns"><i class="fa fa-check"></i><b>3.7.1</b> R Markdowns</a></li>
<li class="chapter" data-level="3.7.2" data-path="rprog2.html"><a href="rprog2.html#header"><i class="fa fa-check"></i><b>3.7.2</b> Header</a></li>
<li class="chapter" data-level="3.7.3" data-path="rprog2.html"><a href="rprog2.html#text"><i class="fa fa-check"></i><b>3.7.3</b> Text</a></li>
<li class="chapter" data-level="3.7.4" data-path="rprog2.html"><a href="rprog2.html#code-chunks"><i class="fa fa-check"></i><b>3.7.4</b> Code Chunks</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="rprog2.html"><a href="rprog2.html#chapter-3-exercises"><i class="fa fa-check"></i><b>3.8</b> Chapter 3 Exercises</a><ul>
<li class="chapter" data-level="3.8.1" data-path="rprog2.html"><a href="rprog2.html#set-1-pathnames-and-data-import"><i class="fa fa-check"></i><b>3.8.1</b> Set 1: Pathnames and data import</a></li>
<li class="chapter" data-level="3.8.2" data-path="rprog2.html"><a href="rprog2.html#set-2-data-wrangling-and-piping"><i class="fa fa-check"></i><b>3.8.2</b> Set 2: Data wrangling and piping</a></li>
<li class="chapter" data-level="3.8.3" data-path="rprog2.html"><a href="rprog2.html#set-3-r-markdown"><i class="fa fa-check"></i><b>3.8.3</b> Set 3: R Markdown</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="rprog2.html"><a href="rprog2.html#chapter-3-homework"><i class="fa fa-check"></i><b>3.9</b> Chapter 3 Homework</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="dataviz.html"><a href="dataviz.html"><i class="fa fa-check"></i><b>4</b> Data Visualization with <code>ggplot2</code></a><ul>
<li class="chapter" data-level="4.1" data-path="dataviz.html"><a href="dataviz.html#chapter-4-objectives"><i class="fa fa-check"></i><b>4.1</b> Chapter 4 Objectives</a></li>
<li class="chapter" data-level="4.2" data-path="dataviz.html"><a href="dataviz.html#install-and-load-ggplot2"><i class="fa fa-check"></i><b>4.2</b> Install and load <code>ggplot2</code></a></li>
<li class="chapter" data-level="4.3" data-path="dataviz.html"><a href="dataviz.html#steps-to-create-a-ggplot2-object"><i class="fa fa-check"></i><b>4.3</b> Steps to create a <code>ggplot2</code> object</a></li>
<li class="chapter" data-level="4.4" data-path="dataviz.html"><a href="dataviz.html#initializing-a-ggplot2-object"><i class="fa fa-check"></i><b>4.4</b> Initializing a <code>ggplot2</code> object</a></li>
<li class="chapter" data-level="4.5" data-path="dataviz.html"><a href="dataviz.html#plot-aesthetics"><i class="fa fa-check"></i><b>4.5</b> Plot aesthetics</a></li>
<li class="chapter" data-level="4.6" data-path="dataviz.html"><a href="dataviz.html#adding-geoms"><i class="fa fa-check"></i><b>4.6</b> Adding geoms</a><ul>
<li class="chapter" data-level="4.6.1" data-path="dataviz.html"><a href="dataviz.html#aesthetic-override-a-warning"><i class="fa fa-check"></i><b>4.6.1</b> Aesthetic override: a warning</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="dataviz.html"><a href="dataviz.html#shapes-and-colors"><i class="fa fa-check"></i><b>4.7</b> Shapes and colors</a></li>
<li class="chapter" data-level="4.8" data-path="dataviz.html"><a href="dataviz.html#scales-useful-plot-edits"><i class="fa fa-check"></i><b>4.8</b> Scales: useful plot edits</a></li>
<li class="chapter" data-level="4.9" data-path="dataviz.html"><a href="dataviz.html#ggplot2-example-1"><i class="fa fa-check"></i><b>4.9</b> <code>ggplot2</code> example 1</a></li>
<li class="chapter" data-level="4.10" data-path="dataviz.html"><a href="dataviz.html#ggplot2-example-2"><i class="fa fa-check"></i><b>4.10</b> <code>ggplot2</code> example 2</a></li>
<li class="chapter" data-level="4.11" data-path="dataviz.html"><a href="dataviz.html#store-and-save-ggplot2-objects"><i class="fa fa-check"></i><b>4.11</b> Store and save <code>ggplot2</code> objects</a></li>
<li class="chapter" data-level="4.12" data-path="dataviz.html"><a href="dataviz.html#getting-help-with-ggplot2"><i class="fa fa-check"></i><b>4.12</b> Getting help with <code>ggplot2</code></a></li>
<li class="chapter" data-level="4.13" data-path="dataviz.html"><a href="dataviz.html#chapter-4-homework"><i class="fa fa-check"></i><b>4.13</b> Chapter 4 Homework</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="eda1.html"><a href="eda1.html"><i class="fa fa-check"></i><b>5</b> Univariate Data Exploration</a><ul>
<li class="chapter" data-level="5.1" data-path="eda1.html"><a href="eda1.html#ch.-5-objectives"><i class="fa fa-check"></i><b>5.1</b> Ch. 5 Objectives</a></li>
<li class="chapter" data-level="5.2" data-path="eda1.html"><a href="eda1.html#univar"><i class="fa fa-check"></i><b>5.2</b> Univariate Data</a><ul>
<li class="chapter" data-level="5.2.1" data-path="eda1.html"><a href="eda1.html#location-dispersion-and-shape"><i class="fa fa-check"></i><b>5.2.1</b> Location, Dispersion, and Shape</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="eda1.html"><a href="eda1.html#quantile"><i class="fa fa-check"></i><b>5.3</b> Quantiles</a><ul>
<li class="chapter" data-level="5.3.1" data-path="eda1.html"><a href="eda1.html#descriptive-statistics"><i class="fa fa-check"></i><b>5.3.1</b> Descriptive Statistics</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="eda1.html"><a href="eda1.html#univariate-data-visualization"><i class="fa fa-check"></i><b>5.4</b> Univariate Data Visualization</a><ul>
<li class="chapter" data-level="5.4.1" data-path="eda1.html"><a href="eda1.html#summary-vs.-enumerative-plots"><i class="fa fa-check"></i><b>5.4.1</b> Summary vs. Enumerative Plots</a></li>
<li class="chapter" data-level="5.4.2" data-path="eda1.html"><a href="eda1.html#cumulative-distribution-plot"><i class="fa fa-check"></i><b>5.4.2</b> Cumulative Distribution Plot</a></li>
<li class="chapter" data-level="5.4.3" data-path="eda1.html"><a href="eda1.html#hist"><i class="fa fa-check"></i><b>5.4.3</b> Histogram</a></li>
<li class="chapter" data-level="5.4.4" data-path="eda1.html"><a href="eda1.html#box"><i class="fa fa-check"></i><b>5.4.4</b> Boxplot</a></li>
<li class="chapter" data-level="5.4.5" data-path="eda1.html"><a href="eda1.html#time_series"><i class="fa fa-check"></i><b>5.4.5</b> Time-Series Plot</a></li>
<li class="chapter" data-level="5.4.6" data-path="eda1.html"><a href="eda1.html#autocorr"><i class="fa fa-check"></i><b>5.4.6</b> Autocorrelation Plot</a></li>
<li class="chapter" data-level="5.4.7" data-path="eda1.html"><a href="eda1.html#partial-autocorrelation-plot"><i class="fa fa-check"></i><b>5.4.7</b> Partial Autocorrelation Plot</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="eda1.html"><a href="eda1.html#exploring-data"><i class="fa fa-check"></i><b>5.5</b> Exploring Data</a></li>
<li class="chapter" data-level="5.6" data-path="eda1.html"><a href="eda1.html#chapter-5-homework"><i class="fa fa-check"></i><b>5.6</b> Chapter 5 Homework</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="rprog3.html"><a href="rprog3.html"><i class="fa fa-check"></i><b>6</b> Strings, Dates, and Tidying</a><ul>
<li class="chapter" data-level="6.1" data-path="rprog3.html"><a href="rprog3.html#chapter-6-objectives"><i class="fa fa-check"></i><b>6.1</b> Chapter 6 Objectives</a></li>
<li class="chapter" data-level="6.2" data-path="rprog3.html"><a href="rprog3.html#strings"><i class="fa fa-check"></i><b>6.2</b> Strings</a><ul>
<li class="chapter" data-level="6.2.1" data-path="rprog3.html"><a href="rprog3.html#string-detect-match-subset"><i class="fa fa-check"></i><b>6.2.1</b> String detect, match, subset</a></li>
<li class="chapter" data-level="6.2.2" data-path="rprog3.html"><a href="rprog3.html#regular-expressions"><i class="fa fa-check"></i><b>6.2.2</b> Regular Expressions</a></li>
<li class="chapter" data-level="6.2.3" data-path="rprog3.html"><a href="rprog3.html#string-split-replace"><i class="fa fa-check"></i><b>6.2.3</b> String split, replace</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="rprog3.html"><a href="rprog3.html#dates-and-date-times"><i class="fa fa-check"></i><b>6.3</b> Dates and Date-times</a><ul>
<li class="chapter" data-level="6.3.1" data-path="rprog3.html"><a href="rprog3.html#dates-and-times-in-base-r"><i class="fa fa-check"></i><b>6.3.1</b> Dates and Times in base R</a></li>
<li class="chapter" data-level="6.3.2" data-path="rprog3.html"><a href="rprog3.html#date-time-formats"><i class="fa fa-check"></i><b>6.3.2</b> Date-time formats</a></li>
<li class="chapter" data-level="6.3.3" data-path="rprog3.html"><a href="rprog3.html#date-time-classes-in-r"><i class="fa fa-check"></i><b>6.3.3</b> Date-time classes in R</a></li>
<li class="chapter" data-level="6.3.4" data-path="rprog3.html"><a href="rprog3.html#reading-and-classifying-date-times"><i class="fa fa-check"></i><b>6.3.4</b> Reading and classifying date-times</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="rprog3.html"><a href="rprog3.html#lubridate"><i class="fa fa-check"></i><b>6.4</b> <code>lubridate</code></a><ul>
<li class="chapter" data-level="6.4.1" data-path="rprog3.html"><a href="rprog3.html#parsing-functions-in-lubridate"><i class="fa fa-check"></i><b>6.4.1</b> Parsing functions in <code>lubridate</code></a></li>
<li class="chapter" data-level="6.4.2" data-path="rprog3.html"><a href="rprog3.html#date-time-manipulation-with-lubridate"><i class="fa fa-check"></i><b>6.4.2</b> Date-time manipulation with <code>lubridate</code></a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="rprog3.html"><a href="rprog3.html#tidy-data"><i class="fa fa-check"></i><b>6.5</b> Tidy Data</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="eda2.html"><a href="eda2.html"><i class="fa fa-check"></i><b>7</b> Multivariate Data Exploration</a><ul>
<li class="chapter" data-level="7.1" data-path="eda2.html"><a href="eda2.html#ch.-7-objectives"><i class="fa fa-check"></i><b>7.1</b> Ch. 7 Objectives</a></li>
<li class="chapter" data-level="7.2" data-path="eda2.html"><a href="eda2.html#bivariate"><i class="fa fa-check"></i><b>7.2</b> Bivariate Data</a></li>
<li class="chapter" data-level="7.3" data-path="eda2.html"><a href="eda2.html#scatt"><i class="fa fa-check"></i><b>7.3</b> Scatterplot</a><ul>
<li class="chapter" data-level="7.3.1" data-path="eda2.html"><a href="eda2.html#causality"><i class="fa fa-check"></i><b>7.3.1</b> Causality</a></li>
<li class="chapter" data-level="7.3.2" data-path="eda2.html"><a href="eda2.html#corr"><i class="fa fa-check"></i><b>7.3.2</b> Correlation</a></li>
<li class="chapter" data-level="7.3.3" data-path="eda2.html"><a href="eda2.html#correlation-neq-causation"><i class="fa fa-check"></i><b>7.3.3</b> Correlation <span class="math inline">\(\neq\)</span> causation</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="eda2.html"><a href="eda2.html#exploring-multivariate-data"><i class="fa fa-check"></i><b>7.4</b> Exploring Multivariate Data</a><ul>
<li class="chapter" data-level="7.4.1" data-path="eda2.html"><a href="eda2.html#faceting"><i class="fa fa-check"></i><b>7.4.1</b> Faceting</a></li>
<li class="chapter" data-level="7.4.2" data-path="eda2.html"><a href="eda2.html#coloring"><i class="fa fa-check"></i><b>7.4.2</b> Coloring</a></li>
<li class="chapter" data-level="7.4.3" data-path="eda2.html"><a href="eda2.html#contour-plots"><i class="fa fa-check"></i><b>7.4.3</b> Contour Plots</a></li>
<li class="chapter" data-level="7.4.4" data-path="eda2.html"><a href="eda2.html#time-series-density"><i class="fa fa-check"></i><b>7.4.4</b> Time-Series Density</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="eda2.html"><a href="eda2.html#ch-7-exercises"><i class="fa fa-check"></i><b>7.5</b> Ch-7 Exercises</a><ul>
<li class="chapter" data-level="7.5.1" data-path="eda2.html"><a href="eda2.html#in-class-fueleconomy.gov"><i class="fa fa-check"></i><b>7.5.1</b> In-class: fueleconomy.gov</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="eda2.html"><a href="eda2.html#ch-7-homework"><i class="fa fa-check"></i><b>7.6</b> Ch-7 Homework</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="rprog4.html"><a href="rprog4.html"><i class="fa fa-check"></i><b>8</b> Functional Programming</a><ul>
<li class="chapter" data-level="8.1" data-path="rprog4.html"><a href="rprog4.html#ch.-8-objectives"><i class="fa fa-check"></i><b>8.1</b> Ch. 8 Objectives</a></li>
<li class="chapter" data-level="8.2" data-path="rprog4.html"><a href="rprog4.html#what-is-functional-programming"><i class="fa fa-check"></i><b>8.2</b> What is <strong><em>functional programming</em></strong>?</a></li>
<li class="chapter" data-level="8.3" data-path="rprog4.html"><a href="rprog4.html#writng-functions"><i class="fa fa-check"></i><b>8.3</b> Writng Functions</a><ul>
<li class="chapter" data-level="8.3.1" data-path="rprog4.html"><a href="rprog4.html#example-function-my_mean"><i class="fa fa-check"></i><b>8.3.1</b> Example Function: my_mean</a></li>
<li class="chapter" data-level="8.3.2" data-path="rprog4.html"><a href="rprog4.html#example-function-import.w.name"><i class="fa fa-check"></i><b>8.3.2</b> Example Function: “import.w.name”</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="rprog4.html"><a href="rprog4.html#the-purrr-package"><i class="fa fa-check"></i><b>8.4</b> The <code>purrr::</code> package</a><ul>
<li class="chapter" data-level="8.4.1" data-path="rprog4.html"><a href="rprog4.html#function-mapping"><i class="fa fa-check"></i><b>8.4.1</b> Function Mapping</a></li>
<li class="chapter" data-level="8.4.2" data-path="rprog4.html"><a href="rprog4.html#working-with-lists"><i class="fa fa-check"></i><b>8.4.2</b> Working with Lists</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="rprog4.html"><a href="rprog4.html#exercises"><i class="fa fa-check"></i><b>8.5</b> Exercises</a></li>
<li class="chapter" data-level="8.6" data-path="rprog4.html"><a href="rprog4.html#homework"><i class="fa fa-check"></i><b>8.6</b> Homework</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="transform.html"><a href="transform.html"><i class="fa fa-check"></i><b>9</b> Transformations and other Tricks</a><ul>
<li class="chapter" data-level="9.1" data-path="transform.html"><a href="transform.html#ch.-9-objectives"><i class="fa fa-check"></i><b>9.1</b> Ch. 9 Objectives</a></li>
<li class="chapter" data-level="9.2" data-path="transform.html"><a href="transform.html#transformation"><i class="fa fa-check"></i><b>9.2</b> Transformation</a><ul>
<li class="chapter" data-level="9.2.1" data-path="transform.html"><a href="transform.html#centering"><i class="fa fa-check"></i><b>9.2.1</b> Centering</a></li>
<li class="chapter" data-level="9.2.2" data-path="transform.html"><a href="transform.html#rescaling"><i class="fa fa-check"></i><b>9.2.2</b> Rescaling</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="transform.html"><a href="transform.html#normalization-and-standardization"><i class="fa fa-check"></i><b>9.3</b> Normalization and Standardization</a><ul>
<li class="chapter" data-level="9.3.1" data-path="transform.html"><a href="transform.html#rate-normalization"><i class="fa fa-check"></i><b>9.3.1</b> Rate normalization</a></li>
<li class="chapter" data-level="9.3.2" data-path="transform.html"><a href="transform.html#standardizing"><i class="fa fa-check"></i><b>9.3.2</b> Standardizing</a></li>
<li class="chapter" data-level="9.3.3" data-path="transform.html"><a href="transform.html#reducing-skewness"><i class="fa fa-check"></i><b>9.3.3</b> Reducing Skewness</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="transform.html"><a href="transform.html#stratification"><i class="fa fa-check"></i><b>9.4</b> Stratification</a></li>
<li class="chapter" data-level="9.5" data-path="transform.html"><a href="transform.html#outliers-and-censoring"><i class="fa fa-check"></i><b>9.5</b> Outliers and Censoring</a><ul>
<li class="chapter" data-level="9.5.1" data-path="transform.html"><a href="transform.html#outliers"><i class="fa fa-check"></i><b>9.5.1</b> Detecting Outliers</a></li>
<li class="chapter" data-level="9.5.2" data-path="transform.html"><a href="transform.html#censoring-outliers"><i class="fa fa-check"></i><b>9.5.2</b> Censoring outliers</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="transform.html"><a href="transform.html#ch-9-exercises"><i class="fa fa-check"></i><b>9.6</b> Ch-9 Exercises</a></li>
<li class="chapter" data-level="9.7" data-path="transform.html"><a href="transform.html#ch-9-homework"><i class="fa fa-check"></i><b>9.7</b> Ch-9 Homework</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="measure.html"><a href="measure.html"><i class="fa fa-check"></i><b>10</b> Measurement</a><ul>
<li class="chapter" data-level="10.1" data-path="measure.html"><a href="measure.html#ch.-10-objectives"><i class="fa fa-check"></i><b>10.1</b> Ch. 10 Objectives</a></li>
<li class="chapter" data-level="10.2" data-path="measure.html"><a href="measure.html#sampling"><i class="fa fa-check"></i><b>10.2</b> Sampling</a><ul>
<li class="chapter" data-level="10.2.1" data-path="measure.html"><a href="measure.html#sample"><i class="fa fa-check"></i><b>10.2.1</b> Samples vs. Populations</a></li>
<li class="chapter" data-level="10.2.2" data-path="measure.html"><a href="measure.html#sample.collect"><i class="fa fa-check"></i><b>10.2.2</b> Collecting a sample</a></li>
<li class="chapter" data-level="10.2.3" data-path="measure.html"><a href="measure.html#simple-random-sampling"><i class="fa fa-check"></i><b>10.2.3</b> Simple Random Sampling</a></li>
<li class="chapter" data-level="10.2.4" data-path="measure.html"><a href="measure.html#systematic-sampling"><i class="fa fa-check"></i><b>10.2.4</b> Systematic Sampling</a></li>
<li class="chapter" data-level="10.2.5" data-path="measure.html"><a href="measure.html#stratified-sampling"><i class="fa fa-check"></i><b>10.2.5</b> Stratified Sampling</a></li>
<li class="chapter" data-level="10.2.6" data-path="measure.html"><a href="measure.html#cluster-sampling"><i class="fa fa-check"></i><b>10.2.6</b> Cluster Sampling</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="measure.html"><a href="measure.html#figures-of-merit"><i class="fa fa-check"></i><b>10.3</b> Figures of Merit</a><ul>
<li class="chapter" data-level="10.3.1" data-path="measure.html"><a href="measure.html#LOD"><i class="fa fa-check"></i><b>10.3.1</b> Limit of Detection &amp; Quantification</a></li>
<li class="chapter" data-level="10.3.2" data-path="measure.html"><a href="measure.html#dynamic"><i class="fa fa-check"></i><b>10.3.2</b> Dynamic Range</a></li>
<li class="chapter" data-level="10.3.3" data-path="measure.html"><a href="measure.html#precision"><i class="fa fa-check"></i><b>10.3.3</b> Measurement Precision</a></li>
<li class="chapter" data-level="10.3.4" data-path="measure.html"><a href="measure.html#bias"><i class="fa fa-check"></i><b>10.3.4</b> Measurement Bias (accuracy)</a></li>
<li class="chapter" data-level="10.3.5" data-path="measure.html"><a href="measure.html#measurement-uncertainty"><i class="fa fa-check"></i><b>10.3.5</b> Measurement Uncertainty</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="measure.html"><a href="measure.html#ch-10-exercises"><i class="fa fa-check"></i><b>10.4</b> Ch-10 Exercises</a></li>
<li class="chapter" data-level="10.5" data-path="measure.html"><a href="measure.html#ch-10-homework"><i class="fa fa-check"></i><b>10.5</b> CH-10 Homework</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="model.html"><a href="model.html"><i class="fa fa-check"></i><b>11</b> Modeling</a><ul>
<li class="chapter" data-level="11.1" data-path="model.html"><a href="model.html#ch.-11-objectives"><i class="fa fa-check"></i><b>11.1</b> Ch. 11 Objectives</a></li>
<li class="chapter" data-level="11.2" data-path="model.html"><a href="model.html#process-modeling"><i class="fa fa-check"></i><b>11.2</b> Process Modeling</a><ul>
<li class="chapter" data-level="11.2.1" data-path="model.html"><a href="model.html#assumptions"><i class="fa fa-check"></i><b>11.2.1</b> Assumptions</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="model.html"><a href="model.html#model-fitting"><i class="fa fa-check"></i><b>11.3</b> Model Fitting</a></li>
<li class="chapter" data-level="11.4" data-path="model.html"><a href="model.html#ols-regression"><i class="fa fa-check"></i><b>11.4</b> OLS Regression</a><ul>
<li class="chapter" data-level="11.4.1" data-path="model.html"><a href="model.html#OLS_assum"><i class="fa fa-check"></i><b>11.4.1</b> OLS Assumptions and Diagnostics</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="model.html"><a href="model.html#example-ols-linear-regression"><i class="fa fa-check"></i><b>11.5</b> Example: OLS Linear Regression</a><ul>
<li class="chapter" data-level="11.5.1" data-path="model.html"><a href="model.html#the-lm-function"><i class="fa fa-check"></i><b>11.5.1</b> The <code>lm()</code> function</a></li>
<li class="chapter" data-level="11.5.2" data-path="model.html"><a href="model.html#ols-diagnostics"><i class="fa fa-check"></i><b>11.5.2</b> OLS Diagnostics</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="model.html"><a href="model.html#calibration"><i class="fa fa-check"></i><b>11.6</b> Calibration</a><ul>
<li class="chapter" data-level="11.6.1" data-path="model.html"><a href="model.html#example-calibration"><i class="fa fa-check"></i><b>11.6.1</b> Example Calibration</a></li>
</ul></li>
<li class="chapter" data-level="11.7" data-path="model.html"><a href="model.html#ch-11-exercises"><i class="fa fa-check"></i><b>11.7</b> Ch-11 Exercises</a></li>
<li class="chapter" data-level="11.8" data-path="model.html"><a href="model.html#ch-11-homework"><i class="fa fa-check"></i><b>11.8</b> Ch-11 Homework</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="simulate.html"><a href="simulate.html"><i class="fa fa-check"></i><b>12</b> Simulation</a><ul>
<li class="chapter" data-level="12.1" data-path="simulate.html"><a href="simulate.html#ch.-12-objectives"><i class="fa fa-check"></i><b>12.1</b> Ch. 12 Objectives</a></li>
<li class="chapter" data-level="12.2" data-path="simulate.html"><a href="simulate.html#introduction-to-simulation"><i class="fa fa-check"></i><b>12.2</b> Introduction to simulation</a></li>
<li class="chapter" data-level="12.3" data-path="simulate.html"><a href="simulate.html#simulation-example"><i class="fa fa-check"></i><b>12.3</b> Simulation Example:</a></li>
<li class="chapter" data-level="12.4" data-path="simulate.html"><a href="simulate.html#ch-12-exercises"><i class="fa fa-check"></i><b>12.4</b> Ch-12 Exercises</a></li>
<li class="chapter" data-level="12.5" data-path="simulate.html"><a href="simulate.html#ch-12-homework"><i class="fa fa-check"></i><b>12.5</b> Ch-12 Homework</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="dist.html"><a href="dist.html"><i class="fa fa-check"></i><b>13</b> Appendix: Reference Distributions</a><ul>
<li class="chapter" data-level="13.1" data-path="dist.html"><a href="dist.html#unif_dist"><i class="fa fa-check"></i><b>13.1</b> Uniform Distribution</a><ul>
<li class="chapter" data-level="13.1.1" data-path="dist.html"><a href="dist.html#characteristic-plots-uniform-distribution"><i class="fa fa-check"></i><b>13.1.1</b> Characteristic Plots: Uniform Distribution</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="dist.html"><a href="dist.html#normal_dist"><i class="fa fa-check"></i><b>13.2</b> Normal Distribution</a><ul>
<li class="chapter" data-level="13.2.1" data-path="dist.html"><a href="dist.html#normal-distribution-characteristic-plots"><i class="fa fa-check"></i><b>13.2.1</b> Normal Distribution: Characteristic Plots</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="dist.html"><a href="dist.html#log_normal_dist"><i class="fa fa-check"></i><b>13.3</b> Log-normal Distribution</a></li>
<li class="chapter" data-level="13.4" data-path="dist.html"><a href="dist.html#statistical-terms"><i class="fa fa-check"></i><b>13.4</b> Statistical Terms</a><ul>
<li class="chapter" data-level="13.4.1" data-path="dist.html"><a href="dist.html#measures-of-central-tendency"><i class="fa fa-check"></i><b>13.4.1</b> Measures of Central Tendency</a></li>
<li class="chapter" data-level="13.4.2" data-path="dist.html"><a href="dist.html#measures-of-dispersion"><i class="fa fa-check"></i><b>13.4.2</b> Measures of Dispersion</a></li>
<li class="chapter" data-level="13.4.3" data-path="dist.html"><a href="dist.html#pearson"><i class="fa fa-check"></i><b>13.4.3</b> Pearson Correlation Coefficient</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Engineering Data Analysis in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="rprog4" class="section level1">
<h1><span class="header-section-number">Chapter 8</span> Functional Programming</h1>
<div id="ch.-8-objectives" class="section level2">
<h2><span class="header-section-number">8.1</span> Ch. 8 Objectives</h2>
<p>This chapter is designed around the following learning objectives for functional
programming in R. Upon completing this chapter, you should be able to:</p>
<ul>
<li>Describe the basic tenets of functional programming</li>
<li>Define functions and their basic attributes</li>
<li>Create simple functions using named and optional arguments</li>
<li>Define the meaning of <em>“vectorized operations”</em> in R</li>
<li>Interpret and apply the <code>purrr::map</code> family of functions</li>
</ul>
</div>
<div id="what-is-functional-programming" class="section level2">
<h2><span class="header-section-number">8.2</span> What is <strong><em>functional programming</em></strong>?</h2>
<p><em>Functional programming</em> means just that: programming with functions. A basic
philosophy of functional programming in R is to replace “for-loops” with functions.
While there isn’t anything inherently wrong with for-loops, they can be difficult
to follow, especially when they are nested within one to another.
R is well-poised to support the elimination of “for-loops” because R is a
<em>vectorized language</em>. To be vectorized means that you don’t need a for-loop to
execute this code:</p>
<div class="sourceCode" id="cb270"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb270-1"><a href="rprog4.html#cb270-1"></a>evens &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dt">from =</span> <span class="dv">2</span>, <span class="dt">to =</span> <span class="dv">20</span>, <span class="dt">by =</span> <span class="dv">2</span>)  </span>
<span id="cb270-2"><a href="rprog4.html#cb270-2"></a>evens_squared &lt;-<span class="st"> </span>evens<span class="op">^</span><span class="dv">2</span></span></code></pre></div>
<p>with code like this:</p>
<div class="sourceCode" id="cb271"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb271-1"><a href="rprog4.html#cb271-1"></a>evens_squared &lt;-<span class="st"> </span><span class="cf">for</span>( i <span class="cf">in</span> <span class="kw">length</span>(evens)){  </span>
<span id="cb271-2"><a href="rprog4.html#cb271-2"></a>  evens_squared &lt;-<span class="st"> </span>evens[i] <span class="op">*</span><span class="st"> </span>evens[i] </span>
<span id="cb271-3"><a href="rprog4.html#cb271-3"></a>}</span></code></pre></div>
<p>The top code performs the <code>squared</code> operator across each entry in the
vector, one after another. The bottom set uses a for-loop to accomplish the
same task, albeit in a longer (and harder to follow) version.</p>
<p>The pipe operator <code>%&gt;%</code> is an ally in this endeavor because it allows you to
pass an object through series of functions onto a vector (or data frame) in
serial order. The pipe function is also easier to follow (with your mind) because
it allows you to interpret the code as if you were reading instructions in a
“how-to” manual:
<em>“take this object, then do this, then do this, then do that”</em>. Without the <code>%&gt;%</code>
operator, we are forced to nest functions together or write long and verbose
code that steps through treatments slowly (and somewhat painfully). Looking at
the code below should make clear which set is easier to comprehend:</p>
<div class="sourceCode" id="cb272"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb272-1"><a href="rprog4.html#cb272-1"></a><span class="co">#nested code</span></span>
<span id="cb272-2"><a href="rprog4.html#cb272-2"></a>daily_show_<span class="dv">2000</span> &lt;-<span class="st"> </span><span class="kw">select</span>(<span class="kw">filter</span>(<span class="kw">rename</span>(daily_show, </span>
<span id="cb272-3"><a href="rprog4.html#cb272-3"></a>                                          <span class="dt">year =</span> YEAR, </span>
<span id="cb272-4"><a href="rprog4.html#cb272-4"></a>                                          <span class="dt">job =</span> GoogleKnowlege_Occupation, </span>
<span id="cb272-5"><a href="rprog4.html#cb272-5"></a>                                          <span class="dt">date =</span> Show, </span>
<span id="cb272-6"><a href="rprog4.html#cb272-6"></a>                                          <span class="dt">name =</span> Raw_Guest_List), </span>
<span id="cb272-7"><a href="rprog4.html#cb272-7"></a>                                   year <span class="op">==</span><span class="st"> </span><span class="dv">2000</span>), </span>
<span id="cb272-8"><a href="rprog4.html#cb272-8"></a>                            job, date, name)</span>
<span id="cb272-9"><a href="rprog4.html#cb272-9"></a><span class="co">#piped code</span></span>
<span id="cb272-10"><a href="rprog4.html#cb272-10"></a>daily_show_<span class="dv">2000</span> &lt;-<span class="st"> </span>daily_show <span class="op">%&gt;%</span></span>
<span id="cb272-11"><a href="rprog4.html#cb272-11"></a><span class="st">  </span><span class="kw">rename</span>(<span class="dt">year =</span> YEAR, </span>
<span id="cb272-12"><a href="rprog4.html#cb272-12"></a>         <span class="dt">job =</span> GoogleKnowlege_Occupation, </span>
<span id="cb272-13"><a href="rprog4.html#cb272-13"></a>         <span class="dt">date =</span> Show, </span>
<span id="cb272-14"><a href="rprog4.html#cb272-14"></a>         <span class="dt">name =</span> Raw_Guest_List) <span class="op">%&gt;%</span></span>
<span id="cb272-15"><a href="rprog4.html#cb272-15"></a><span class="st">  </span><span class="kw">filter</span>(year <span class="op">==</span><span class="st"> </span><span class="dv">2000</span>) <span class="op">%&gt;%</span></span>
<span id="cb272-16"><a href="rprog4.html#cb272-16"></a><span class="st">  </span><span class="kw">select</span>(job, date, name)</span></code></pre></div>
<p>In the nested example above, we “see” the <code>dplyr::select()</code> function first, yet
yet the arguments to this function show up last (ar the end of the nested code).
This separation between functions and their arguments only gets worse as the
degree of nesting increases. The piped code, however, produces the same result
as the nested code but in a much more “readable” fashion. A similar analogy
holds for the nesting of “for-loops” (which, when nested, are even
harder to follow!).</p>
</div>
<div id="writng-functions" class="section level2">
<h2><span class="header-section-number">8.3</span> Writng Functions</h2>
<blockquote>
<p><span style="color: blue;"> “If you have to do something more than twice,
write a function to do it.” - Programming Proverb </span></p>
</blockquote>
<p>Up to this point, we have relied entirely on functions sourced from base R or
from packages like <code>Tidyverse;:</code>(and for good reason - they are terribly useful).<br />
Every programmer, howver, at some point in their journey, discovers that the
function they are desiring simply doesn’t exist - at least not in the way that
suits their vision. To that end, its worth learning how to create your own
functions.</p>
<p>The syntax for function generation is relatively straight forward:</p>
<div class="sourceCode" id="cb273"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb273-1"><a href="rprog4.html#cb273-1"></a><span class="co">#example code; will not run</span></span>
<span id="cb273-2"><a href="rprog4.html#cb273-2"></a></span>
<span id="cb273-3"><a href="rprog4.html#cb273-3"></a>function_name &lt;-<span class="st"> </span><span class="cf">function</span>(argument1, argument2, ...) {</span>
<span id="cb273-4"><a href="rprog4.html#cb273-4"></a>   <span class="co"># insert code to manipulate arguments here</span></span>
<span id="cb273-5"><a href="rprog4.html#cb273-5"></a>   <span class="co"># maybe some code to check validity of input arguments</span></span>
<span id="cb273-6"><a href="rprog4.html#cb273-6"></a>   <span class="co"># specify a return value, if desired</span></span>
<span id="cb273-7"><a href="rprog4.html#cb273-7"></a>}</span></code></pre></div>
<p>Each function has <strong>arguments</strong> as input, <strong>body code</strong> as the working parts, and
an <strong>environment</strong> where the function resides. These components can be
accessed by passing the function name as an argument to:</p>
<ul>
<li><code>formals()</code>, to see arguments</li>
<li><code>body()</code>, to see the function’s code
<ul>
<li>or type just the function name, without <code>()</code>, into the console</li>
<li><em>but note that many base R functions are coded in C</em> and can be accessed
<a href="https://github.com/wch/r-source">on GitHub</a>.</li>
</ul></li>
<li><code>environment()</code>, to see where the function resides.
<ul>
<li>more on <em>R environments</em> below</li>
</ul></li>
</ul>
<div id="example-function-my_mean" class="section level3">
<h3><span class="header-section-number">8.3.1</span> Example Function: my_mean</h3>
<p>Let’s create a simple function, named <code>my_mean</code>, to calculate the arithmetic mean
for a numeric vector. This function takes only one argument, a vector <code>x</code>, for
which we calculate the mean (<code>sum(x) / length(x)</code>), assign it to a
value <code>y</code>, and the return <code>y</code> as output. Note that all the <em>“action”</em> for <code>my_mean</code>
happens within the curly braces <code>{ }</code> that follow the function assignment.</p>
<div class="sourceCode" id="cb274"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb274-1"><a href="rprog4.html#cb274-1"></a>my_mean &lt;-<span class="st"> </span><span class="cf">function</span>(x) {</span>
<span id="cb274-2"><a href="rprog4.html#cb274-2"></a>     y &lt;-<span class="st"> </span><span class="kw">sum</span>(x) <span class="op">/</span><span class="st"> </span><span class="kw">length</span>(x) <span class="co"># calculate mean(x) if true</span></span>
<span id="cb274-3"><a href="rprog4.html#cb274-3"></a>     <span class="kw">return</span>(y)</span>
<span id="cb274-4"><a href="rprog4.html#cb274-4"></a>   }</span>
<span id="cb274-5"><a href="rprog4.html#cb274-5"></a></span>
<span id="cb274-6"><a href="rprog4.html#cb274-6"></a><span class="kw">my_mean</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p>While this function is simple and straightforward, it does have some limitations.
For example, what happens if we pass a character vector to <code>my_mean</code> or a numeric
vector that contains <code>NA</code> values? In the former case, we will get an error
because our function uses the base R function <code>sum()</code>, which requires numeric,
logical, or complex vectors as inpout (so our function inherits the properties
of that function).</p>
<p>If any <code>NA</code> values are present, however, we are less fortunate: only NA is
returned. This many not seem like a big deal but if your analyss depends on
calling <code>my_mean</code> in several locations (over and over), you might have a hard
time debugging it…</p>
<div class="sourceCode" id="cb276"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb276-1"><a href="rprog4.html#cb276-1"></a><span class="kw">my_mean</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="ot">NA</span>))</span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<p>For this reason, functions often contain <em>optional arguments</em> that allow the user
to specify how to handle such errors. The function <code>my_mean2</code> below contains
an optional argument, <code>na.rm = TRUE</code>, that defaults to remove <code>NA</code> values when
present. This function uses <code>if else</code> logic to handle the <code>na.rm = TRUE</code>
argument, since this argument can only have one of two values.</p>
<div class="sourceCode" id="cb278"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb278-1"><a href="rprog4.html#cb278-1"></a>my_mean2 &lt;-<span class="st"> </span><span class="cf">function</span>(x, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>) {</span>
<span id="cb278-2"><a href="rprog4.html#cb278-2"></a>  <span class="cf">if</span> (na.rm <span class="op">==</span><span class="st"> </span><span class="ot">FALSE</span>) {</span>
<span id="cb278-3"><a href="rprog4.html#cb278-3"></a>    y &lt;-<span class="st"> </span><span class="kw">sum</span>(x) <span class="op">/</span><span class="st"> </span><span class="kw">length</span>(x)</span>
<span id="cb278-4"><a href="rprog4.html#cb278-4"></a>    <span class="kw">return</span>(y)</span>
<span id="cb278-5"><a href="rprog4.html#cb278-5"></a>    }</span>
<span id="cb278-6"><a href="rprog4.html#cb278-6"></a>  <span class="cf">else</span> {</span>
<span id="cb278-7"><a href="rprog4.html#cb278-7"></a>    y &lt;-<span class="st"> </span><span class="kw">sum</span>(<span class="kw">na.omit</span>(x)) <span class="op">/</span><span class="st"> </span><span class="kw">length</span>(<span class="kw">na.omit</span>(x))</span>
<span id="cb278-8"><a href="rprog4.html#cb278-8"></a>    <span class="kw">return</span>(y)</span>
<span id="cb278-9"><a href="rprog4.html#cb278-9"></a>    }</span>
<span id="cb278-10"><a href="rprog4.html#cb278-10"></a>}</span></code></pre></div>
<p>Now, when we pass a vector containing <code>NAs</code> to <code>my_mean2</code>, we get a numeric
result.</p>
<div class="sourceCode" id="cb279"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb279-1"><a href="rprog4.html#cb279-1"></a><span class="kw">my_mean2</span>(<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,<span class="ot">NA</span>), <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p>A couple points worth noting about the functions above. First, take note that
most <em>homemade</em> functions rely on other functions called within their body text,
and so they inherit the properties of those functions.<br />
Second, you may have noticed that while
the <code>body()</code> code in <code>my_mean2</code> assigns the mean of <code>x</code> to a new variable, <code>y</code>,
this function-specific variable does not show up in the <strong>“Global Environment”</strong>
pane after the function is executed. This is due to how <em>environments</em> are created
in R: an environment essentially draws walls around objects.</p>
<p>Indeed, objects that are defined within functions are part of the <em>evaluation</em>
<em>environment</em> within that function, even if the function returns the value of
the object as output (<em>“what happens inside functions stays inside functions”</em>).
A detailed discussion on R environments is beyond the scope of this book,
look <a href="https://www.r-bloggers.com/environments-in-r/">here</a> for an introduction
to environments and
<a href="https://adv-r.hadley.nz/environments.html">here</a> for a more detailed tutorial.
The take-home point is that a homemade function can exist within the global
environment and return values to the global environment, even if the objects
created within that function don’t.</p>
</div>
<div id="example-function-import.w.name" class="section level3">
<h3><span class="header-section-number">8.3.2</span> Example Function: “import.w.name”</h3>
<p>Oftentimes, you will have a list of files of the same type/structure
that you want to import and analyze in a single data frame. This exercise (and
the section that follows) will demonstrate how you can streamline that process
using functional programming. Let’s create a function to <em>"import a file with</em>
<em>its name appended".</em></p>
<p>For this example, assume that your files represent data from network of sensors,
where the ID assigned to each sensor is <strong>included in its filename</strong> but
<em>not in the file itself</em>. To give you an example of what we are working with,
lets use <code>list.files()</code> to look at the file names and paths. For this exercise
we show a short list of 8 files (4 each from two sensors) but one could imagine
this list being hundreds of entries.<em>To Note: these are real data collected</em>
<em>with using sensors from</em><br />
<em><a href="http://www.purpleair.com/map">this citizen-science network</a> and published</em>
<em>by our research group <a href="https://doi.org/10.1016/j.atmosenv.2019.117067">here</a> in 2019.</em>
The “PA” in each filename stands for <a href="www.purpleair.com">Purple Air</a>.</p>
<div class="sourceCode" id="cb281"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb281-1"><a href="rprog4.html#cb281-1"></a><span class="kw">list.files</span>(<span class="st">&#39;./data/purpleair/&#39;</span>, <span class="dt">full.names=</span><span class="ot">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] &quot;./data/purpleair//PA019_20181022.csv&quot;
## [2] &quot;./data/purpleair//PA019_20181023.csv&quot;
## [3] &quot;./data/purpleair//PA019_20181024.csv&quot;
## [4] &quot;./data/purpleair//PA019_20181025.csv&quot;
## [5] &quot;./data/purpleair//PA020_20181022.csv&quot;
## [6] &quot;./data/purpleair//PA020_20181023.csv&quot;
## [7] &quot;./data/purpleair//PA020_20181024.csv&quot;
## [8] &quot;./data/purpleair//PA020_20181025.csv&quot;</code></pre>
<p>Thus, we wish to write a function that not only imports these files into a data
frame but also extracts the part of the filename (i.e., PA019 and PA020) as one
of the data columns (otherwise, when the data were, combined we might not know
what data was associated with a given sensor!). In this function we will also
include a step to clean up the newly created data frame with a call to
<code>dplyr::select()</code> to retain only a few variables of interest. Seeing that these
files are .csv, we can leverage <code>readr::read_csv</code></p>
<div class="sourceCode" id="cb283"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb283-1"><a href="rprog4.html#cb283-1"></a><span class="co"># create an object that tracks the file names and file paths</span></span>
<span id="cb283-2"><a href="rprog4.html#cb283-2"></a>file_list &lt;-<span class="st"> </span><span class="kw">list.files</span>(<span class="st">&#39;./data/purpleair/&#39;</span>, <span class="dt">full.names=</span><span class="ot">TRUE</span>)</span>
<span id="cb283-3"><a href="rprog4.html#cb283-3"></a></span>
<span id="cb283-4"><a href="rprog4.html#cb283-4"></a><span class="co"># function to import a .csv and include part of the filename as a data column</span></span>
<span id="cb283-5"><a href="rprog4.html#cb283-5"></a>import.w.name &lt;-<span class="st"> </span><span class="cf">function</span>(pathname) {</span>
<span id="cb283-6"><a href="rprog4.html#cb283-6"></a>  <span class="co">#create a tibble by importing the &#39;pathname&#39; file</span></span>
<span id="cb283-7"><a href="rprog4.html#cb283-7"></a>  df &lt;-<span class="st"> </span><span class="kw">read_csv</span>(pathname, <span class="dt">col_names =</span> <span class="ot">TRUE</span>)</span>
<span id="cb283-8"><a href="rprog4.html#cb283-8"></a>  df &lt;-<span class="st"> </span>df <span class="op">%&gt;%</span></span>
<span id="cb283-9"><a href="rprog4.html#cb283-9"></a><span class="st">    </span><span class="co"># use stringr::str_extract &amp; a regex to extract sensor ID from file name</span></span>
<span id="cb283-10"><a href="rprog4.html#cb283-10"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">sensor_ID =</span> <span class="kw">str_extract</span>(pathname, </span>
<span id="cb283-11"><a href="rprog4.html#cb283-11"></a>                                  <span class="st">&quot;(?&lt;=//)[:alnum:]+(?=_)&quot;</span>)) <span class="op">%&gt;%</span></span>
<span id="cb283-12"><a href="rprog4.html#cb283-12"></a><span class="st">    </span><span class="co"># clean up the resultant data frame with dplyr::select</span></span>
<span id="cb283-13"><a href="rprog4.html#cb283-13"></a><span class="st">    </span><span class="kw">select</span>(UTCDateTime, </span>
<span id="cb283-14"><a href="rprog4.html#cb283-14"></a>           current_temp_f, </span>
<span id="cb283-15"><a href="rprog4.html#cb283-15"></a>           current_humidity, </span>
<span id="cb283-16"><a href="rprog4.html#cb283-16"></a>           pressure,</span>
<span id="cb283-17"><a href="rprog4.html#cb283-17"></a>           pm2_<span class="dv">5</span>_atm,</span>
<span id="cb283-18"><a href="rprog4.html#cb283-18"></a>           sensor_ID)</span>
<span id="cb283-19"><a href="rprog4.html#cb283-19"></a>  <span class="kw">return</span>(df)</span>
<span id="cb283-20"><a href="rprog4.html#cb283-20"></a>}</span></code></pre></div>
<p>After sourcing this function, we can test it out on the first entry of our list
of files. <em>We specify the first entry with a subset to</em> <code>file_list[1]</code>.</p>
<div class="sourceCode" id="cb284"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb284-1"><a href="rprog4.html#cb284-1"></a>PA_data_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw">import.w.name</span>(file_list[<span class="dv">1</span>])</span>
<span id="cb284-2"><a href="rprog4.html#cb284-2"></a></span>
<span id="cb284-3"><a href="rprog4.html#cb284-3"></a><span class="kw">head</span>(PA_data_<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 6
##   UTCDateTime       current_temp_f current_humidity pressure pm2_5_atm sensor_ID
##   &lt;chr&gt;                      &lt;dbl&gt;            &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;    
## 1 2018/10/22T17:52…             90               12     852.      2.45 PA019    
## 2 2018/10/22T17:53…             86               13     852.      3.43 PA019    
## 3 2018/10/22T17:55…             87               13     852.      2.76 PA019    
## 4 2018/10/22T17:56…             87               13     852.      2    PA019    
## 5 2018/10/22T17:58…             87               13     852.      1.82 PA019    
## 6 2018/10/22T17:59…             87               13     852.      1.98 PA019</code></pre>
<p>The <code>import.w.name()</code> function is useful, but not versatile;
it was written to handle a special type of file with a particular naming
convention. Those limitations aside, one could imagine how this function could
be easily adapted to suit other file types and formats. As you develop your
coding skills, a good strategy is to keep useful functions in a .R script
file so that you can call upon them when needed: <code>source(import.w.name.R)</code></p>
</div>
</div>
<div id="the-purrr-package" class="section level2">
<h2><span class="header-section-number">8.4</span> The <code>purrr::</code> package</h2>
<p>The <code>purrr::</code> package was designed specifically with functional programming in mind.
Similar to the discussion of <em>vectorized operations</em> above, <code>purrr::</code> was created
to help you apply functions to vectors in a way that is easy to implement and
easy to “read”.</p>
<div id="function-mapping" class="section level3">
<h3><span class="header-section-number">8.4.1</span> Function Mapping</h3>
<p>The <code>map_</code> family of functions are the core of the <code>purrr</code> package. These
functions are intended to <em>map</em> functions (i.e., to apply them) to individual elements in a vector (or data frames); the <code>map_</code> functions are similar to functions like <code>lapply()</code> and <code>vapply()</code> from base R (but more versatile). <em>“Mapping”</em> a function onto a vector is a common theme of functional programming. To illustrate how the <code>map_</code> functions work, its best to visualize the process first.</p>
<div class="sourceCode" id="cb286"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb286-1"><a href="rprog4.html#cb286-1"></a>knitr<span class="op">::</span><span class="kw">include_graphics</span>(<span class="st">&quot;./images/map_anno1.png&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:map-anno1"></span>
<img src="images/map_anno1.png" alt="The map functions transform their input by applying a function to each element of a list or atomic vector and returning an object of the same length as the input."  />
<p class="caption">
Figure 8.1: The map functions transform their input by applying a function to each element of a list or atomic vector and returning an object of the same length as the input.
</p>
</div>
<p>As shown above in Figure <a href="rprog4.html#fig:map-anno1">8.1</a>, the generic form of <code>map()</code> always returns a <code>list</code> object as the output. Working with lists is one of the mental hurdles to overcome when learning <code>map()</code>. However, there are variants in the <code>map_</code> family of functions that return various object types.</p>
<div class="sourceCode" id="cb287"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb287-1"><a href="rprog4.html#cb287-1"></a>purrr_variants &lt;-<span class="st"> </span><span class="kw">tibble</span>(</span>
<span id="cb287-2"><a href="rprog4.html#cb287-2"></a>  <span class="dt">name =</span> <span class="kw">c</span>(<span class="st">&quot;map()&quot;</span>,</span>
<span id="cb287-3"><a href="rprog4.html#cb287-3"></a>           <span class="st">&quot;map_lgl()&quot;</span>, </span>
<span id="cb287-4"><a href="rprog4.html#cb287-4"></a>           <span class="st">&quot;map_int()&quot;</span>, </span>
<span id="cb287-5"><a href="rprog4.html#cb287-5"></a>           <span class="st">&quot;map_dbl()&quot;</span>, </span>
<span id="cb287-6"><a href="rprog4.html#cb287-6"></a>           <span class="st">&quot;map_chr()&quot;</span>, </span>
<span id="cb287-7"><a href="rprog4.html#cb287-7"></a>           <span class="st">&quot;map_dfr()&quot;</span>, </span>
<span id="cb287-8"><a href="rprog4.html#cb287-8"></a>           <span class="st">&quot;map_dfc()&quot;</span>),</span>
<span id="cb287-9"><a href="rprog4.html#cb287-9"></a>  <span class="dt">returns =</span> <span class="kw">c</span>(<span class="st">&quot;list&quot;</span>,</span>
<span id="cb287-10"><a href="rprog4.html#cb287-10"></a>              <span class="st">&quot;logical&quot;</span>,</span>
<span id="cb287-11"><a href="rprog4.html#cb287-11"></a>              <span class="st">&quot;integer&quot;</span>,</span>
<span id="cb287-12"><a href="rprog4.html#cb287-12"></a>              <span class="st">&quot;numeric&quot;</span>,</span>
<span id="cb287-13"><a href="rprog4.html#cb287-13"></a>              <span class="st">&quot;character&quot;</span>,</span>
<span id="cb287-14"><a href="rprog4.html#cb287-14"></a>              <span class="st">&quot;data frame, by rows&quot;</span>,</span>
<span id="cb287-15"><a href="rprog4.html#cb287-15"></a>              <span class="st">&quot;data frame, by columns&quot;</span>)</span>
<span id="cb287-16"><a href="rprog4.html#cb287-16"></a>)</span>
<span id="cb287-17"><a href="rprog4.html#cb287-17"></a></span>
<span id="cb287-18"><a href="rprog4.html#cb287-18"></a>knitr<span class="op">::</span><span class="kw">kable</span>(purrr_variants, <span class="dt">col.names =</span> <span class="kw">c</span>(<span class="st">&quot;`Purrr::` Function&quot;</span>, <span class="st">&quot;Object Returned&quot;</span>))</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left"><code>Purrr::</code> Function</th>
<th align="left">Object Returned</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">map()</td>
<td align="left">list</td>
</tr>
<tr class="even">
<td align="left">map_lgl()</td>
<td align="left">logical</td>
</tr>
<tr class="odd">
<td align="left">map_int()</td>
<td align="left">integer</td>
</tr>
<tr class="even">
<td align="left">map_dbl()</td>
<td align="left">numeric</td>
</tr>
<tr class="odd">
<td align="left">map_chr()</td>
<td align="left">character</td>
</tr>
<tr class="even">
<td align="left">map_dfr()</td>
<td align="left">data frame, by rows</td>
</tr>
<tr class="odd">
<td align="left">map_dfc()</td>
<td align="left">data frame, by columns</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb288"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb288-1"><a href="rprog4.html#cb288-1"></a>file_list &lt;-<span class="st"> </span><span class="kw">list.files</span>(<span class="st">&#39;./data/purpleair/&#39;</span>, <span class="dt">full.names=</span><span class="ot">TRUE</span>)</span>
<span id="cb288-2"><a href="rprog4.html#cb288-2"></a>PA_data_merged &lt;-<span class="st"> </span><span class="kw">map_df</span>(file_list, import.w.name)</span></code></pre></div>
</div>
<div id="working-with-lists" class="section level3">
<h3><span class="header-section-number">8.4.2</span> Working with Lists</h3>
</div>
</div>
<div id="exercises" class="section level2">
<h2><span class="header-section-number">8.5</span> Exercises</h2>
</div>
<div id="homework" class="section level2">
<h2><span class="header-section-number">8.6</span> Homework</h2>
<p>Write a function that takes a vector of numbers as input and outputs that vector
sorted from smallest to largest value. Do this with only base R code and then
with <code>dplyr::arrange()</code>. Hint: for the latter case you should look up the
<code>require()</code> function.</p>
<p>Modify the function <code>import.w.name</code> to include two additional steps:<br />
1. Convert the character vector <code>UTCDateTime</code> into a DateTime class object.
2. Import the “date” part of the filename (in addition to the sensor ID) and
create a new column variable with this information. Hint: provide regex pattern.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="eda2.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="transform.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
