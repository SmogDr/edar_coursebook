geom_point() +
geom_smooth(data = model_with$model, #call to new dataset but same x, y
method = "lm",
color = "orange") +
stat_smooth(data = model_without$model, #call to new dataset but same x, y
method = "lm") +
geom_ellipse(aes(x0=12, y0=9, a=.0625, b=0.5, angle = 0),
linetype = 3,
color = "orange")
theme_classic()
#create a linear model using all the data
model_with <-lm(asthma.rate ~ black.carbon,
data = asthma.data)
#create a linear model with data filtered to remove the outlier
model_without <- lm(asthma.rate ~ black.carbon,
data = filter(asthma.data, black.carbon < 12))
ggplot(data = asthma.data, aes(
x = black.carbon,
y = asthma.rate)) +
geom_point() +
geom_smooth(data = model_with$model, #call to new dataset but same x, y
method = "lm",
color = "orange") +
stat_smooth(data = model_without$model, #call to new dataset but same x, y
method = "lm") +
geom_ellipse(aes(x0=12, y0=9, a=.125, b=0.5, angle = 0),
linetype = 3,
color = "orange") +
theme_classic()
#create a linear model using all the data
model_with <-lm(asthma.rate ~ black.carbon,
data = asthma.data)
#create a linear model with data filtered to remove the outlier
model_without <- lm(asthma.rate ~ black.carbon,
data = filter(asthma.data, black.carbon < 12))
ggplot(data = asthma.data, aes(
x = black.carbon,
y = asthma.rate)) +
geom_point() +
geom_smooth(data = model_with$model, #call to new dataset but same x, y
method = "lm",
color = "orange") +
stat_smooth(data = model_without$model, #call to new dataset but same x, y
method = "lm") +
geom_ellipse(aes(x0=12, y0=9, a=.25, b=1, angle = 0),
linetype = 3,
color = "orange") +
theme_classic()
#create a linear model using all the data
model_with <-lm(asthma.rate ~ black.carbon,
data = asthma.data)
#create a linear model with data filtered to remove the outlier
model_without <- lm(asthma.rate ~ black.carbon,
data = filter(asthma.data, black.carbon < 12))
ggplot(data = asthma.data, aes(
x = black.carbon,
y = asthma.rate)) +
geom_point() +
geom_smooth(data = model_with$model, #call to new dataset but same x, y
method = "lm",
color = "orange") +
stat_smooth(data = model_without$model, #call to new dataset but same x, y
method = "lm") +
geom_ellipse(aes(x0=12, y0=9, a=.25, b=.5, angle = 0),
linetype = 3,
color = "orange") +
theme_classic()
#create a linear model using all the data
model_with <-lm(asthma.rate ~ black.carbon,
data = asthma.data)
#create a linear model with data filtered to remove the outlier
model_without <- lm(asthma.rate ~ black.carbon,
data = filter(asthma.data, black.carbon < 12))
ggplot(data = asthma.data, aes(
x = black.carbon,
y = asthma.rate)) +
geom_point() +
geom_smooth(data = model_with$model, #call to new dataset but same x, y
method = "lm",
color = "orange") +
stat_smooth(data = model_without$model, #call to new dataset but same x, y
method = "lm") +
geom_ellipse(aes(x0=12, y0=9, a=.25, b=.25, angle = 0),
linetype = 3,
color = "orange") +
theme_classic()
#create a linear model using all the data
model_with <-lm(asthma.rate ~ black.carbon,
data = asthma.data)
#create a linear model with data filtered to remove the outlier
model_without <- lm(asthma.rate ~ black.carbon,
data = filter(asthma.data, black.carbon < 12))
ggplot(data = asthma.data, aes(
x = black.carbon,
y = asthma.rate)) +
geom_point() +
geom_smooth(data = model_with$model, #call to new dataset but same x, y
method = "lm",
color = "orange") +
stat_smooth(data = model_without$model, #call to new dataset but same x, y
method = "lm") +
geom_ellipse(aes(x0=12, y0=9, a=.25, b=.75, angle = 0),
linetype = 3,
color = "orange") +
theme_classic()
#create a linear model using all the data
model_with <-lm(asthma.rate ~ black.carbon,
data = asthma.data)
#create a linear model with data filtered to remove the outlier
model_without <- lm(asthma.rate ~ black.carbon,
data = filter(asthma.data, black.carbon < 12))
ggplot(data = asthma.data, aes(
x = black.carbon,
y = asthma.rate)) +
geom_point() +
geom_smooth(data = model_with$model, #call to new dataset but same x, y
method = "lm",
color = "orange") +
stat_smooth(data = model_without$model, #call to new dataset but same x, y
method = "lm") +
geom_ellipse(aes(x0=12, y0=9, a=.25, b=.75, angle = 0),
linetype = 3,
color = "orange") +
coord_fixed() +
theme_classic()
#create a linear model using all the data
model_with <-lm(asthma.rate ~ black.carbon,
data = asthma.data)
#create a linear model with data filtered to remove the outlier
model_without <- lm(asthma.rate ~ black.carbon,
data = filter(asthma.data, black.carbon < 12))
ggplot(data = asthma.data, aes(
x = black.carbon,
y = asthma.rate)) +
geom_point() +
geom_smooth(data = model_with$model, #call to new dataset but same x, y
method = "lm",
color = "orange") +
stat_smooth(data = model_without$model, #call to new dataset but same x, y
method = "lm") +
geom_ellipse(aes(x0=12, y0=9, a=.75, b=.75, angle = 0),
linetype = 3,
color = "orange") +
coord_fixed() +
theme_classic()
#create a linear model using all the data
model_with <-lm(asthma.rate ~ black.carbon,
data = asthma.data)
#create a linear model with data filtered to remove the outlier
model_without <- lm(asthma.rate ~ black.carbon,
data = filter(asthma.data, black.carbon < 12))
ggplot(data = asthma.data, aes(
x = black.carbon,
y = asthma.rate)) +
geom_point() +
geom_smooth(data = model_with$model, #call to new dataset but same x, y
method = "lm",
color = "orange") +
stat_smooth(data = model_without$model, #call to new dataset but same x, y
method = "lm") +
geom_ellipse(aes(x0=12, y0=9, a=.75, b=.75, angle = 0),
linetype = 3,
color = "orange") +
coord_equal() +
theme_classic()
#create a linear model using all the data
model_with <-lm(asthma.rate ~ black.carbon,
data = asthma.data)
#create a linear model with data filtered to remove the outlier
model_without <- lm(asthma.rate ~ black.carbon,
data = filter(asthma.data, black.carbon < 12))
ggplot(data = asthma.data, aes(
x = black.carbon,
y = asthma.rate)) +
geom_point() +
geom_smooth(data = model_with$model, #call to new dataset but same x, y
method = "lm",
color = "orange") +
stat_smooth(data = model_without$model, #call to new dataset but same x, y
method = "lm") +
geom_ellipse(aes(x0=12, y0=9, a=.75, b=.75, angle = 0),
linetype = 3,
color = "orange") +
theme_classic()
#create a linear model using all the data
model_with <-lm(asthma.rate ~ black.carbon,
data = asthma.data)
#create a linear model with data filtered to remove the outlier
model_without <- lm(asthma.rate ~ black.carbon,
data = filter(asthma.data, black.carbon < 12))
ggplot(data = asthma.data, aes(
x = black.carbon,
y = asthma.rate)) +
geom_point() +
geom_smooth(data = model_with$model, #call to new dataset but same x, y
method = "lm",
color = "orange") +
stat_smooth(data = model_without$model, #call to new dataset but same x, y
method = "lm") +
geom_ellipse(aes(x0=12, y0=9, a=.75, b=.75, angle = 0),
linetype = 3,
color = "orange") +
theme_classic() +
theme(aspect.ratio = 1)
knitr::include_graphics("./images/stratified.png")
stratified <- ggplot(data = strat.data,
aes(y = yield2,
x = purity,
color = reactor,
stroke = 1)) +
geom_point(size = 2,
shape = 1) +
labs(color = "Reactor",
x = "Sample Purity",
y = "Process Yield, kg") +
theme_classic(base_size = 14) +
theme(legend.position = c(0.85, 0.8),
legend.box.background = element_rect(colour = "black"))
library(tinytex)
library(tidyverse)
library(gridExtra)
library(ggforce)
knitr::include_graphics(path = "./images/centering_anno.png", dpi = 150)
knitr::include_graphics("./images/reduce_skew_anno.png", dpi = 150)
knitr::include_graphics("./images/unstratified.png")
knitr::include_graphics("./images/stratified.png")
asthma.data <- tibble(
asthma.rate = c(8, 6, 12, 18, 9, 8, 15, 14, 14, 10, 16, 9, 12, 15, 9),
black.carbon = c(3.2, 2.5, 4.6, 6.1, 3.3, 3.1, 6.1, 5.3, 4.5, 3.3, 6.4, 3.7, 5.1, 6.8, 12)
)
p5 <- ggplot(data = asthma.data) +
geom_boxplot(aes(x = 1, y = asthma.rate)) +
ylab("Percentage of Students with Asthma") +
xlab("") +
theme_classic(base_size = 15) +
theme(axis.text.x = element_blank())
p6 <- ggplot(data = asthma.data) +
geom_boxplot(aes(x = 2, y = black.carbon)) +
geom_ellipse(aes(x0=2, y0=12, a=.0625, b=0.5, angle = 0),
linetype = 3,
color = "orange") +
ylab("Black Carbon Levels")+
xlab("") +
theme_classic(base_size = 15) +
theme(axis.text.x = element_blank())
grid.arrange(p5,p6, ncol = 2)
#create a linear model using all the data
model_with <-lm(asthma.rate ~ black.carbon,
data = asthma.data)
#create a linear model with data filtered to remove the outlier
model_without <- lm(asthma.rate ~ black.carbon,
data = filter(asthma.data, black.carbon < 12))
ggplot(data = asthma.data, aes(
x = black.carbon,
y = asthma.rate)) +
geom_point() +
geom_smooth(data = model_with$model, #call to new dataset but same x, y
method = "lm",
color = "orange") +
stat_smooth(data = model_without$model, #call to new dataset but same x, y
method = "lm") +
geom_ellipse(aes(x0=12, y0=9, a=.5, b=.75, angle = 0),
linetype = 3,
color = "orange") +
theme_classic() +
theme(aspect.ratio = 1)
stratified <- ggplot(data = strat.data,
aes(y = yield2,
x = purity,
color = reactor,
stroke = 1)) +
geom_point(size = 2,
shape = 1) +
labs(color = "Reactor",
x = "Sample Purity",
y = "Process Yield, kg") +
theme_classic(base_size = 14) +
theme(legend.position = c(0.85, 0.8),
legend.box.background = element_rect(colour = "black"))
set.seed(2)
levels = c(0.99, 0.98, 0.975)
strat.data <- tibble(
reactor = rep(c("a", "b", "c"),
each = 1,
times = 20),
purity = rep(runif(n = 60,
min = levels - 0.02,
max = levels),
times = 1)) %>%
mutate(yield = 10 +
100*(1 - purity)*rnorm(n = 60, mean = 1, sd = 0.1) +
(1 - purity)) %>%
mutate(yield2 = case_when(
reactor == "a" ~ yield,
reactor == "b" ~ yield - 1.25,
reactor == "c" ~ yield - 2.5
))
unstratified <- ggplot(data = strat.data,
aes(y = yield2,
x = purity)) +
geom_point(size = 2,
shape = 1,
stroke = 1) +
labs(color = "Reactor",
x = "Sample Purity",
y = "Process Yield, kg") +
theme_classic(base_size = 14)
ggsave("./images/unstratified.png")
library(tinytex)
library(tidyverse)
library(gridExtra)
library(ggforce)
knitr::include_graphics(path = "./images/centering_anno.png", dpi = 150)
knitr::include_graphics("./images/reduce_skew_anno.png", dpi = 150)
knitr::include_graphics("./images/unstratified.png")
knitr::include_graphics("./images/stratified.png")
asthma.data <- tibble(
asthma.rate = c(8, 6, 12, 18, 9, 8, 15, 14, 14, 10, 16, 9, 12, 15, 9),
black.carbon = c(3.2, 2.5, 4.6, 6.1, 3.3, 3.1, 6.1, 5.3, 4.5, 3.3, 6.4, 3.7, 5.1, 6.8, 12)
)
p5 <- ggplot(data = asthma.data) +
geom_boxplot(aes(x = 1, y = asthma.rate)) +
ylab("Percentage of Students with Asthma") +
xlab("") +
theme_classic(base_size = 15) +
theme(axis.text.x = element_blank())
p6 <- ggplot(data = asthma.data) +
geom_boxplot(aes(x = 2, y = black.carbon)) +
geom_ellipse(aes(x0=2, y0=12, a=.0625, b=0.5, angle = 0),
linetype = 3,
color = "orange") +
ylab("Black Carbon Levels")+
xlab("") +
theme_classic(base_size = 15) +
theme(axis.text.x = element_blank())
grid.arrange(p5,p6, ncol = 2)
#create a linear model using all the data
model_with <-lm(asthma.rate ~ black.carbon,
data = asthma.data)
#create a linear model with data filtered to remove the outlier
model_without <- lm(asthma.rate ~ black.carbon,
data = filter(asthma.data, black.carbon < 12))
ggplot(data = asthma.data, aes(
x = black.carbon,
y = asthma.rate)) +
geom_point() +
geom_smooth(data = model_with$model, #call to new dataset but same x, y
method = "lm",
color = "orange") +
stat_smooth(data = model_without$model, #call to new dataset but same x, y
method = "lm") +
geom_ellipse(aes(x0=12, y0=9, a=.5, b=.75, angle = 0),
linetype = 3,
color = "orange") +
theme_classic() +
theme(aspect.ratio = 1)
library(tinytex)
library(tidyverse)
library(gridExtra)
library(ggforce)
library(knitr)
library(bookdown)
knitr::include_graphics(path = "./images/centering_anno.png", dpi = 150)
knitr::include_graphics("./images/reduce_skew_anno.png", dpi = 150)
knitr::include_graphics("./images/unstratified.png")
knitr::include_graphics("./images/stratified.png")
asthma.data <- tibble(
asthma.rate = c(8, 6, 12, 18, 9, 8, 15, 14, 14, 10, 16, 9, 12, 15, 9),
black.carbon = c(3.2, 2.5, 4.6, 6.1, 3.3, 3.1, 6.1, 5.3, 4.5, 3.3, 6.4, 3.7, 5.1, 6.8, 12)
)
p5 <- ggplot(data = asthma.data) +
geom_boxplot(aes(x = 1, y = asthma.rate)) +
ylab("Percentage of Students with Asthma") +
xlab("") +
theme_classic(base_size = 15) +
theme(axis.text.x = element_blank())
p6 <- ggplot(data = asthma.data) +
geom_boxplot(aes(x = 2, y = black.carbon)) +
geom_ellipse(aes(x0=2, y0=12, a=.0625, b=0.5, angle = 0),
linetype = 3,
color = "orange") +
ylab("Black Carbon Levels")+
xlab("") +
theme_classic(base_size = 15) +
theme(axis.text.x = element_blank())
grid.arrange(p5,p6, ncol = 2)
#create a linear model using all the data
model_with <-lm(asthma.rate ~ black.carbon,
data = asthma.data)
#create a linear model with data filtered to remove the outlier
model_without <- lm(asthma.rate ~ black.carbon,
data = filter(asthma.data, black.carbon < 12))
ggplot(data = asthma.data, aes(
x = black.carbon,
y = asthma.rate)) +
geom_point() +
geom_smooth(data = model_with$model, #call to new dataset but same x, y
method = "lm",
color = "orange") +
stat_smooth(data = model_without$model, #call to new dataset but same x, y
method = "lm") +
geom_ellipse(aes(x0=12, y0=9, a=.5, b=.75, angle = 0),
linetype = 3,
color = "orange") +
theme_classic() +
theme(aspect.ratio = 1)
stratified <- ggplot(data = strat.data,
aes(y = yield2,
x = purity,
color = reactor,
stroke = 1)) +
geom_point(size = 2,
shape = 1) +
labs(color = "Reactor",
x = "Sample Purity",
y = "Process Yield, kg") +
theme_classic(base_size = 14) +
theme(legend.position = c(0.85, 0.8),
legend.box.background = element_rect(colour = "black"))
ggsave("./images/stratified.png")
knitr::include_graphics("./images/stratified.png")
upper <- quantile(x = asthma.data$black.carbon
probs = 0.75) + 1.5*IQR(x = asthma.data$black.carbon)
quantile(x = asthma.data$black.carbon
probs = 0.75)
upper <- quantile(x = asthma.data$black.carbon,
probs = 0.75) + 1.5*IQR(x = asthma.data$black.carbon)
upper
quantile(x = asthma.data$black.carbon,
probs = 0.75)
quantile(x = asthma.data$black.carbon,
probs = 0.75) +
1.5*IQR(x = asthma.data$black.carbon)
quantile(x = asthma.data$black.carbon,
probs = 0.75,
names = FALSE) +
1.5*IQR(x = asthma.data$black.carbon)
print(upper, lower))
print(c(upper, lower
upper <- quantile(x = asthma.data$black.carbon,
probs = 0.75,
names = FALSE) +
1.5*IQR(x = asthma.data$black.carbon)
lower <- quantile(x = asthma.data$black.carbon,
probs = 0.25,
names = FALSE) -
1.5*IQR(x = asthma.data$black.carbon)
upper
upper <- quantile(x = asthma.data$black.carbon,
probs = 0.75,
names = FALSE) +
1.5*IQR(x = asthma.data$black.carbon)
lower <- quantile(x = asthma.data$black.carbon,
probs = 0.25,
names = FALSE) -
1.5*IQR(x = asthma.data$black.carbon)
upper
lower
quantile(x = asthma.data$black.carbon,
probs = 0.25,
names = FALSE)
1.5*IQR(x = asthma.data$black.carbon)
quantile(x = asthma.data$black.carbon,
probs = 0.75,
names = FALSE)
upper <- quantile(x = asthma.data$black.carbon,
probs = 0.75,
names = FALSE) +
1.5*IQR(x = asthma.data$black.carbon)
lower <- quantile(x = asthma.data$black.carbon,
probs = 0.25,
names = FALSE) -
1.5*IQR(x = asthma.data$black.carbon)
upper
lower
asthma.data <- tibble(
asthma.rate = c(8, 6, 12, 18, 9, 8, 15, 14, 14, 10, 16, 9, 12, 15, 9),
black.carbon = c(3.2, 2.5, 4.6, 6.1, 3.3, 3.1, 6.1, 5.3, 4.5, 3.3, 6.4, 3.7, 5.1, 6.8, 12)
)
p5 <- ggplot(data = asthma.data) +
geom_boxplot(aes(x = 1, y = asthma.rate)) +
ylab("Percentage of Students with Asthma") +
xlab("") +
theme_classic(base_size = 15) +
theme(axis.text.x = element_blank())
p6 <- ggplot(data = asthma.data) +
geom_boxplot(aes(x = 2, y = black.carbon)) +
geom_ellipse(aes(x0=2, y0=12, a=.0625, b=0.5, angle = 0),
linetype = 3,
color = "orange") +
ylab("Black Carbon Levels")+
xlab("") +
theme_classic(base_size = 15) +
theme(axis.text.x = element_blank())
grid.arrange(p5,p6, ncol = 2)
p5 <- ggplot(data = asthma.data) +
geom_boxplot(aes(x = 1, y = asthma.rate)) +
ylab("Percentage of Students with Asthma") +
xlab("") +
theme_classic(base_size = 15) +
theme(axis.text.x = element_blank())
p6 <- ggplot(data = asthma.data) +
geom_boxplot(aes(x = 2, y = black.carbon)) +
geom_ellipse(aes(x0=2, y0=12, a=.0625, b=0.5, angle = 0),
linetype = 3,
color = "orange") +
ylab("Black Carbon Levels")+
xlab("") +
theme_classic(base_size = 15) +
theme(axis.text.x = element_blank())
grid.arrange(p5,p6, ncol = 2)
knitr::include_graphics("./images/parse_comic.png")
