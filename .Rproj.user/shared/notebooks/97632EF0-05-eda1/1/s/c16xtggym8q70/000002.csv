"0","#load data"
"0","raw_salaries <- read_csv(""./data/ME_salaries.csv"", "
"0","                 col_types = ""iif"", "
"0","                 col_names = c(""salary"", ""age"",""gender""),"
"0","                 skip = 1)"
"0",""
"0","#create cumulative fractions "
"0","ordered_salaries <- raw_salaries %>%"
"0","  select(salary) %>%"
"0","  filter(salary < 500000) %>% #to remove numeric identifiers like '989961'"
"0","  arrange(salary) %>%"
"0","  mutate(cum_pct = seq.int("
"0","    from = 1/length(salary), "
"0","    to = 1, "
"0","    by = 1/length(salary))) "
"0","  "
"0","  #alternate method if you don't want to calculate cumulative fractions"
"0","  cdf_ME_salaries <- ggplot(data = ordered_salaries, "
"0","                            aes(x = salary)) +"
"0","  geom_step(stat = ""ecdf"") + #ecdf = 'empiricial cumulative distribution function'"
"0","  theme_bw() +"
"0","  labs(x = ""Salaries of ME Graduates"", y = ""Cumulative Fraction"") +"
"0","  scale_y_continuous(limits=c(-0.05, 1.03), expand = c(0,0),"
"0","                     breaks = seq(from = 0,"
"0","                                        to = 1,"
"0","                                        by = 0.1)) +"
"0","  scale_x_continuous(labels = scales::label_dollar(scale = 0.001, "
"0","                                                   prefix = '$', "
"0","                                                   suffix = 'k'),"
"0","                     minor_breaks = seq(from = 0,"
"0","                                  to = 450000,"
"0","                                  by = 10000))+"
"0","  geom_segment(data = data.frame(x=quantile(ordered_salaries$salary),"
"0","                                 y=rep.int(-.05, 5),"
"0","                                 xend=quantile(ordered_salaries$salary),"
"0","                                 yend=seq(from = 0, to = 1, by = 0.25)),"
"0","               aes(x=x, y=y, xend=xend, yend=yend), "
"0","               color = ""red"","
"0","               linetype = ""dashed"")"
"0","ggsave(""./images/cdf_me_salaries.png"", dpi = 150)"
"2","Saving 7 x 7 in image
"
